<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Installation - Manuals</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../FFMpeg/" class="nav-link">FFMpeg</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Overpass%20Manual/" class="nav-link">Sources</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../QGIS/" class="nav-link">Adding layers</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../RCI%20cluster/" class="nav-link">General</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">LaTeX <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../LaTeX/Latex%20manual/" class="dropdown-item">Floats</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Programming <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Common/" class="dropdown-item">Keymap</a>
</li>
                                    
<li>
    <a href="../../Google%20API%20and%20Apps%20Script/" class="dropdown-item">Comments</a>
</li>
                                    
<li>
    <a href="../../Gurobi/" class="dropdown-item">Parallel Execution</a>
</li>
                                    
<li>
    <a href="../../JSON/" class="dropdown-item">Jackson</a>
</li>
                                    
<li>
    <a href="../../PostgreSQL%20Manual/" class="dropdown-item">Data types</a>
</li>
                                    
<li>
    <a href="../../Regex/" class="dropdown-item">Symbol meaning</a>
</li>
                                    
<li>
    <a href="../../SQL%20Manual/" class="dropdown-item">Literals</a>
</li>
                                    
<li>
    <a href="../../Slurm/" class="dropdown-item">Commands</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../../C%2B%2B/CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Debugging%20Java/" class="dropdown-item">General rules</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">Installation</a>
</li>
            
<li>
    <a href="../Java%20Workflow/" class="dropdown-item">Java developement stack</a>
</li>
            
<li>
    <a href="../Maven/" class="dropdown-item">Dependencies</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Python/Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../../Python/Pandas%20Manual/" class="dropdown-item">Creating a DataFrame</a>
</li>
            
<li>
    <a href="../../Python/Plotly%20Manual/" class="dropdown-item">Plotly Manual</a>
</li>
            
<li>
    <a href="../../Python/Python%20Debugging/" class="dropdown-item">Python Debugging</a>
</li>
            
<li>
    <a href="../../Python/Python%20Manual/" class="dropdown-item">Conditions and boolean context</a>
</li>
            
<li>
    <a href="../../Python/Python%20Workflow/" class="dropdown-item">Dev Stack</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Web/CSS%20Manual/" class="dropdown-item">Layout options</a>
</li>
            
<li>
    <a href="../../Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../../Web/htaccess/" class="dropdown-item">Htaccess</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Ubuntu <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Ubuntu/Linux%20Manual/" class="dropdown-item">Usefull Comands</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Windows <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Windows/Powershell%20Manual/" class="dropdown-item">Important Aspects</a>
</li>
                                    
<li>
    <a href="../../../Windows/Windows%20Manual/" class="dropdown-item">General Guides</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../Debugging%20Java/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Java%20Workflow/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#strings" class="nav-link">Strings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#overloading" class="nav-link">Overloading</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#regular-expressions" class="nav-link">Regular expressions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#testing-if-string-matches-a-regex" class="nav-link">Testing if string matches a regex</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#exceptions" class="nav-link">Exceptions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#genericity" class="nav-link">Genericity</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#diamond-operator" class="nav-link">Diamond operator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#raw-types" class="nav-link">Raw types</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#generic-method" class="nav-link">Generic method</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#retrieving-the-type-of-a-generic-argument" class="nav-link">Retrieving the type of a generic argument</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#default-generic-argument" class="nav-link">Default generic argument</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#wildcards" class="nav-link">Wildcards</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#difference-between-myclass-myclassobject-and-myclass" class="nav-link">Difference between MyClass, MyClass&lt;Object&gt;, and MyClass&lt;?&gt;</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#collections" class="nav-link">Collections</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#set" class="nav-link">Set</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#enums" class="nav-link">Enums</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#iterating-over-enum-items" class="nav-link">Iterating over enum items</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#converting-a-string-to-enum" class="nav-link">Converting a string to enum</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#lambda-expressions" class="nav-link">Lambda expressions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#syntax" class="nav-link">Syntax</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#method-references" class="nav-link">Method references</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#exceptions-in-lambda-expressions" class="nav-link">Exceptions in lambda expressions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#iteration" class="nav-link">Iteration</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#enumerated-iteration" class="nav-link">Enumerated iteration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#iterating-using-an-iterator" class="nav-link">Iterating using an iterator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#functional-programming" class="nav-link">Functional Programming</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#turning-array-to-stream" class="nav-link">Turning array to stream</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#creating-stream-from-iterator" class="nav-link">Creating stream from iterator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#filtering" class="nav-link">Filtering</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#transformation" class="nav-link">Transformation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#materialize-stream" class="nav-link">Materialize stream</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#var" class="nav-link">var</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#type-cast" class="nav-link">Type cast</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#reference-cast" class="nav-link">Reference cast</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#casting-generic-types" class="nav-link">Casting generic types</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#casting-case-expression" class="nav-link">Casting case expression</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#random-numbers" class="nav-link">Random numbers</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#generate-random-integer" class="nav-link">Generate random integer</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#reflection" class="nav-link">Reflection</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#test-if-a-class-is-a-superclass-or-interface-of-another-class" class="nav-link">Test if a class is a superclass or interface of another class</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#get-field-by-name" class="nav-link">Get field by name</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#sql" class="nav-link">SQL</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#filling-the-query-parameters" class="nav-link">Filling the query parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#processing-the-result" class="nav-link">Processing the result</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#jackson" class="nav-link">Jackson</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#ignore-specific-fields" class="nav-link">Ignore specific fields</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#represent-a-class-by-a-single-member" class="nav-link">Represent a class by a single member</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#deserialization" class="nav-link">Deserialization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#serialization" class="nav-link">Serialization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#annotations" class="nav-link">Annotations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="strings">Strings</h1>
<p>Classical string literals has to be enclosed in quotes (<code>"my string"</code>). They cannot contain some characters (newline, <code>"</code>). The backslash (<code>\</code>) character is reserved for Java escape sequences  and need to be ecaped as <code>\\</code>.</p>
<p>In addition, since Java 15, there are text blocks, enclosed in three quotes:</p>
<pre><code class="language-java">&quot;&quot;&quot;
My long
&quot;text block&quot;
&quot;&quot;&quot;
</code></pre>
<p>The properties of textt blocks:
- can be used as standard string literals
- can contain newlines, quotes, and some other symbols that have to be escaped in standard string literals.</p>
<p>The new line after opening triple quoute is obligatory. <strong>Note that backslash (<code>\</code>) is still interpreted as Java escape character, so we need to escape it using <code>\\</code></strong>. </p>
<h1 id="overloading">Overloading</h1>
<p>When calling an oveladed method with a null argument, we receive a compilation error: <code>reference to &lt;METHOD&gt; is ambiguous</code>. A solution to this problem is to cast the null pointer to the desired type:</p>
<pre><code class="language-java">public set(string s){
    ...
}

public set(MyClass c){
    ....
}

set(null) // doesn't work
set((MyClass) null) // works
set((String) null) // works
</code></pre>
<h1 id="regular-expressions">Regular expressions</h1>
<p>First thing we need to know about regexes in java is that we need to escape all backslashes (refer to the Strings chapter), there are no raw strings in Java.</p>
<p>We can work with regexes either by using specialized high level methods that accepts regex as string, or by using the tools from the <code>java.util.regex</code> package.</p>
<h2 id="testing-if-string-matches-a-regex">Testing if string matches a regex</h2>
<p>We can do it simply by: </p>
<pre><code class="language-java">String MyString = &quot;tests&quot;;
String MyRegex = &quot;t\\p+&quot;
boolean matches = myString.matches(myRegex);
</code></pre>
<h1 id="exceptions">Exceptions</h1>
<p>The exception mechanism in Java is similar to other languages. The big difference is, however, that in Java, all exception not derived from the <code>RuntimeException</code> class are <a href="https://en.wikipedia.org/wiki/Exception_handling#Checked_exceptions"><em>checked</em></a>, which means that their handeling is enforced by the compiler. The following code does not compile, because the <code>java.langException</code> class is a checked exception class.</p>
<pre><code class="language-java">private testMethod{
    ...
    throw new Exception();
}
</code></pre>
<p>Therefore, we need to handle the exception using the try cache block or add <code>throws &lt;EXCEPTION TYPE&gt;</code> to the method declaration.</p>
<p>When deciding between <code>try/catch</code> and <code>throws</code>, the rule of thumb is to use the <code>try/cache</code> if we can handle the exception and <code>throws</code> if we want to leave it for the caller. The problem arises when the method we are in implements an interface that does not have the <code>throws</code> declaration we need. Then the only solution is to use <code>try/cache</code> with a cache that does not handle the exception, and indicate the problem to the caller differently, e.g, by returning a <code>null</code> pointer.</p>
<h1 id="genericity">Genericity</h1>
<p><a href="https://docs.oracle.com/javase/tutorial/java/generics/index.html">Oracle official tutorial for Java 8</a></p>
<p>Like many other languages, Java offers generic types with the classical syntax:</p>
<pre><code class="language-java">class GenericClass&lt;T&gt;{
    ...
};
</code></pre>
<p>An object is then created as:</p>
<pre><code class="language-java">GenericClass&lt;OtherClass&gt; gc = new GenericClass&lt;OtherClass&gt;();
</code></pre>
<h2 id="diamond-operator">Diamond operator</h2>
<p>At all places where the type can be inferred, we can use the dianmond operator (<code>&lt;&gt;</code>) without specifiyng a type:</p>
<pre><code class="language-java">GenericClass&lt;OtherClass&gt; gc = new GenericClass&lt;&gt;();
</code></pre>
<h2 id="raw-types">Raw types</h2>
<p><a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8">specification</a></p>
<p>For the backward compatibility of Java library classes that were converted to generic classes a concept of <em>raw types</em> was introduces. However, in addition, this concept brings a lot of very subtle compile errors, which are caused by a nonintentional creation of raw type instead of a specific type.</p>
<pre><code class="language-java">GenericClass gc = new GenericClass(); // raw type
</code></pre>
<p>The parameterized type can be assigned to the raw type, but when we do it the other way arround, the code emmits warning and is not runtime safe:</p>
<pre><code class="language-java">GenericClass&lt;OtherClass&gt; generic = new GenericClass&lt;&gt;();
GenericClass raw = generic // OK

GenericClass raw = new GenericClass();
GenericClass&lt;OtherClass&gt; generic = raw // unsafe
</code></pre>
<p>Calling the generic methods on raw types has a simmilar consequences.</p>
<p>But the worst property of raw types is that <strong>all generic non-static members of raw types that are not inherited and are also eraw types. Therefore, the genericity is lost even for the completely unrelated type parameters, even specific types are erased to <code>Object</code></strong>. The consequence can be seen on the following example:</p>
<pre><code class="language-java">class GenericClass&lt;T&gt;{
    public List&lt;String&gt; getListofStrings()
};

GenericClass raw = new GenericClass();
raw.getListofStrings(); // returns List&lt;Object&gt; !!!
</code></pre>
<h2 id="generic-method">Generic method</h2>
<p>A generic method in Java is written as:</p>
<pre><code class="language-java">public &lt;&lt;GENERIC PARAM NAME&gt;&gt; &lt;RESULT TYPE&gt; &lt;METHOD NAME&gt;(&lt;PARAMS&gt;){
    ...
}
</code></pre>
<p>example:</p>
<pre><code class="language-java">public static &lt;T&gt; ProcedureParameterValidationResult&lt;T&gt; error(String msg){
    return new ProcedureParameterValidationResult&lt;&gt;(false, msg, null);
}
</code></pre>
<p>if the generic parameter cannot be infered from the method arguments, we can call the method with explicit generic argument like this:</p>
<pre><code class="language-java">&lt;&lt;GENERIC PARAM VALUE&gt;&gt;&lt;METHOD NAME&gt;(&lt;ARGUMENTS&gt;);
</code></pre>
<p>example:</p>
<pre><code class="language-java">ProcedureParameterValidationResult.&lt;String&gt;error(&quot;Value cannot be empty.&quot;);
</code></pre>
<h2 id="retrieving-the-type-of-a-generic-argument">Retrieving the type of a generic argument</h2>
<p>Because the genericity in Java is resolved at runtime, it is not possible to use the generic parameter as a type. What does it mean? Whille it is possible to use <code>Myclass.class</code> it is not possible to use <code>T.class</code>. The same applies for the class methods.</p>
<p>The usual solution is to pass the class to the generic method as a method parameter:</p>
<pre><code class="language-java">void processGeneric(Class&lt;T&gt; classType){
    ...
}
</code></pre>
<h2 id="default-generic-argument">Default generic argument</h2>
<p>It is not possible to set the default value of a generic parameter. If we want to achive such behavior, we need to create a new class:</p>
<pre><code class="language-java">class GeneriClass&lt;T&gt;{
    ...
}

class StringClass extends GenericClass&lt;String&gt;{};

</code></pre>
<h2 id="wildcards">Wildcards</h2>
<p>The wildcard symbol (<code>?</code> ) represents a concrete but unspecified type. It can be bounded by superclass/interface (<code>? exctends MyInterface</code>), or by sublcass (<code>? super MyClass</code>). The typical use cases:
- single non-generic method accepting generic types of multiple generic parameter values: </p>
<pre><code class="language-java">myMethod(Wrapper&lt;? extends MyInterface&gt; wrapper){
    MyInterface mi = wrapper.get();
    ...
}
</code></pre>
<ul>
<li>method that can process generic class but does not need to work with the generic parameters at all:</li>
</ul>
<pre><code class="language-java">getLength(List&lt;?&gt; list){
    return list.size();
}
</code></pre>
<h2 id="difference-between-myclass-myclassobject-and-myclass">Difference between <code>MyClass</code>, <code>MyClass&lt;Object&gt;</code>, and <code>MyClass&lt;?&gt;</code></h2>
<pre><code class="language-java">class MyClass&lt;T&gt;{
    private T content;
    private set(T content){
        this.content = content;
    }
    private List&lt;String&gt; getList;
}

// raw type
processMyClass(MyClass myClass){...};

// My class of object types
processMyClass(MyClass&lt;Object&gt; myClass){...};

// My class of any specific type
processMyClass(MyClass&lt;?&gt; myClass){...};
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th><code>MyClass</code> (raw type)</th>
<th><code>MyClass&lt;Object&gt;</code></th>
<th><code>MyClass&lt;?&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>type safe (Check types at compile time)</td>
<td>no</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td><code>set</code> can be called with</td>
<td>any <code>Object</code></td>
<td>any <code>Object</code></td>
<td><code>null</code> only</td>
</tr>
<tr>
<td><code>getList()</code> returns</td>
<td><code>List&lt;Object&gt;</code></td>
<td><code>List&lt;String&gt;</code></td>
<td><code>List&lt;String&gt;</code></td>
</tr>
<tr>
<td><code>processMyClass</code> can be called with</td>
<td>any <code>List</code></td>
<td><code>List&lt;Object&gt;</code> only</td>
<td>any <code>List</code></td>
</tr>
</tbody>
</table>
<h1 id="collections">Collections</h1>
<h2 id="set">Set</h2>
<p>From java 9, sets can be simply initialized as:</p>
<pre><code class="language-java">Set&lt;int&gt; nums = Set.of(1,2,3);
</code></pre>
<p>Note that this method returns an immutable set. In the earlier versions of Java, the <code>Collections.singleton</code> method can be used. </p>
<h1 id="enums">Enums</h1>
<p>Java enumerations are declared using the <code>enum</code> keyword:</p>
<pre><code class="language-java">public enum Semaphore{
    RED,
    ORAGNGE,
    GREEN
}
</code></pre>
<h2 id="iterating-over-enum-items">Iterating over enum items</h2>
<p>we can iterate over enum items using the <code>values</code> method:</p>
<pre><code class="language-java">for(Semaphore s: Semaphore.values()){
    ...
}
</code></pre>
<p>The above code iterates over values of a specific enum. If we need an iteration over any enum (generic), we need to use a class method:</p>
<pre><code class="language-java">Class&lt;E&gt; enumClass;
for(E item: enumClass.getEnumConstants()){

}
</code></pre>
<h2 id="converting-a-string-to-enum">Converting a string to enum</h2>
<p>We can convert a String to enum using the <code>valueOf</code> method that is generated for each enum class&gt;</p>
<pre><code class="language-java">Semaphore sem = Semaphore.valueOf(&quot;RED&quot;);
</code></pre>
<p>Note that the string has to match the enum value exactly, including the case. Extra whitespaces are not permited.</p>
<p>There is also a generic static <code>valueOf</code> method in the <code>Enum</code> class, which we can use for generic enums:</p>
<pre><code class="language-java">Class&lt;E&gt; enumClass;
E genEnumInst = Enum.valueOf(enumClass, &quot;RED&quot;);
</code></pre>
<p>Note that here <code>E</code> has to be a properly typed enum (<code>Enum&lt;E&gt;</code>), not the raw enum (<code>Enum</code>).</p>
<h1 id="lambda-expressions">Lambda expressions</h1>
<p><a href="https://en.wikipedia.org/wiki/Anonymous_function#Java">wiki</a></p>
<p>An important thing about lambda expressions in Java is that we can only use them to create types satisfying some functional interface. This means that:
- They can be used only in a context where a functional interface is expected
- They need to be convertible to that interface. </p>
<p>The example that demonstrate this behavior is bellow. Usually, we use some standard interface, but here we create a new one for clarity:</p>
<pre><code class="language-java">interface OurFunctionalInterface(){
    int operation(int a)
}

...

public void process(int num, OurFunctionalInterface op){
    ...
}
</code></pre>
<p>With the above interface and method that uses it, we can call</p>
<pre><code class="language-java">process(0, a -&gt; a + 5)
</code></pre>
<p>Which is an equivalent of writing</p>
<pre><code class="language-java">OurFunctionalInterface addFive = a -&gt; a + 5;
process(0, addFive);
</code></pre>
<h2 id="syntax">Syntax</h2>
<p>A full syntax for lambda expressions in Java is:</p>
<pre><code class="language-java">(&lt;PARAMS&gt;) -&gt; {
    &lt;EXPRESSIONS&gt;
}
</code></pre>
<p>If there is only one expression, we can ommit the code block:</p>
<pre><code class="language-java">(&lt;PARAMS&gt;) -&gt; &lt;EXPRESSION&gt;
</code></pre>
<p>And also, we can ommit the <code>return</code> statement from that expression. The two lambda epressions below are equivalent:</p>
<pre><code class="language-java">(a, b) -&gt; {return a + b;}
(a, b) -&gt; a + b
</code></pre>
<p>If there is only one parameter, we can ommit the parantheses:</p>
<pre><code class="language-java">&lt;PARAM&gt; -&gt; &lt;EXPRESSION&gt;
</code></pre>
<p>By default, the parameter types are infered from the functional interface. If we need more specific parameters for our function, we can specify the parameter type, we have to specify all of them however:</p>
<pre><code class="language-java">(a, b) -&gt; a + b // valid
(int a, int b) -&gt; a + b // valid
(int a, b) -&gt; a + b // invalid
</code></pre>
<p>Also, it is necesary to use the parantheses, if we use the param type.</p>
<h2 id="method-references">Method references</h2>
<p>We can also create lambda functions from existing mehods (if they satisfy the desired interface) using a mechanism called <em>method reference</em>. For example, we can use the <code>Integer.sum(int a, int b)</code> method in conext where the <code>IntBinaryOperator</code> interface is required. Instead of </p>
<pre><code class="language-java">IntBinaryOperator op = (a, b) -&gt; a + b; // new lambda body
</code></pre>
<p>we can write:</p>
<pre><code class="language-java">IntBinaryOperator op = Integer::sum; // lambda from existing function
</code></pre>
<h2 id="exceptions-in-lambda-expressions">Exceptions in lambda expressions</h2>
<p>Beware that the checked exceptions thrown inside lambda expressions has to be caught inside the lambda expression. The following code does not compile:</p>
<pre><code class="language-java">try{
    process(0, a -&gt; a.methodThatThrows())
catch(exception e){
    ...
}
</code></pre>
<p>Instead, we have to write:</p>
<pre><code class="language-java">process(0, a -&gt; {
    try{
        return a.methodThatThrows());
    catch(exception e){
        ...
    }
}
</code></pre>
<h1 id="iteration">Iteration</h1>
<p>Java for each loop has the following syntax:</p>
<pre><code class="language-java">for(&lt;TYPE&gt; &lt;VARNAME&gt;: &lt;ITERABLE&gt;){
    ...
}
</code></pre>
<p>Here, the <code>&lt;ITERABLE&gt;</code> can be either a Java <code>Iterable</code>, or an array. </p>
<h2 id="enumerated-iteration">Enumerated iteration</h2>
<p>There is no <code>enumerate</code> equivalent in Java. <a href="https://stackoverflow.com/questions/66662506/how-to-enumerate-add-indices-to-a-list-like-collection-in-java">One can use a stream API range method</a>, however, it is less readable than standard for loop because the code execuded in loop has to be in a separate function.</p>
<h2 id="iterating-using-an-iterator">Iterating using an iterator</h2>
<p>The easiest way how to iterate if we have a given iterator is to use its <code>forEachRemaining</code> method. It takes a <code>Consumer</code> object as an argument, iterates using the iterator, and calls <code>Consumer.accept</code> method on each iteration. The example below uses a lambda function that satisfies the consumer interface:</p>
<pre><code class="language-java">class Our{
    void process(){
        ...
    }
    ...
}

Iterator&lt;Our&gt; objectsIterator = ...;

objectsIterator.forEachRemaining(o -&gt; o.process());
</code></pre>
<h1 id="functional-programming">Functional Programming</h1>
<h2 id="turning-array-to-stream">Turning array to stream</h2>
<pre><code class="language-java">Arrays.stream(&lt;ARRAY&gt;);
</code></pre>
<h2 id="creating-stream-from-iterator">Creating stream from iterator</h2>
<p>The easiest way is to first create an <code>Iterable</code> from the iterator and then use the <code>StreamSupport.stream</code> method:</p>
<pre><code class="language-java">Iterable&lt;JsonNode&gt; iterable = () -&gt; iterator;
var stream = StreamSupport.stream(iterable.spliterator(), false);
</code></pre>
<h2 id="filtering">Filtering</h2>
<p>A lambda function can be supplied as a filter:</p>
<pre><code class="language-java">stream.filter(number -&gt; number &gt; 5)
</code></pre>
<p>returns a stream with numbers greater then five.</p>
<h2 id="transformation">Transformation</h2>
<p>We can transform the stream with the <code>map</code> function:</p>
<pre><code class="language-java">transformed = stream.map(object -&gt; doSomething(object))
</code></pre>
<h2 id="materialize-stream">Materialize stream</h2>
<p>We can materrialize stream with the collect metod:</p>
<pre><code class="language-java">List&lt;String&gt; result = stringStream.collect(Collectors.toList());
</code></pre>
<p>Which can be, in case of <code>List</code> shorten to:</p>
<pre><code class="language-java">List&lt;String&gt; result = stringStream.toList();
</code></pre>
<h1 id="var"><code>var</code></h1>
<p><a href="https://openjdk.org/projects/amber/guides/lvti-style-guide">openjdk document</a></p>
<p>Using var is similar to <code>auto</code> in C++. Unlike in C++, it can be used only for local variables.</p>
<p>The <code>var</code> can be tricky when using together with diamond operator or generic methods. The compilation works fine, however, the raw type will be created.</p>
<h1 id="type-cast">Type cast</h1>
<p>Java use a tradidional casting syntax:</p>
<pre><code> (&lt;TARGET TYPE&gt;) &lt;VAR&gt;
</code></pre>
<p>There are two different types of cast:
- <em>value cast</em>, which is used for value types (only primitive types in Java) and change the data
- <em>reference cast</em>, which is used for Java objects and does not change it, it just change the objects interface</p>
<h2 id="reference-cast">Reference cast</h2>
<p>The <em>upcasting</em> (casting to a supertype) is done implicitely by the compiler, so instead of</p>
<pre><code class="language-java">Object o = (Object) new MyClass();
</code></pre>
<p>we can do</p>
<pre><code class="language-java">Object o = new MyClass();
</code></pre>
<p>Typically, we need to use the explicit cast for <em>downcasting</em>:</p>
<pre><code class="language-java">Object o = ...;
MyClass c = (MyClass) o; // when we are sure that o is an instance of MyClass...
</code></pre>
<p>Downcasting to an incorrect type leads to a runtime <code>ClassCastException</code>.</p>
<p>Casting to an unrelated type is not allowed by the compiler.</p>
<h2 id="casting-generic-types">Casting generic types</h2>
<p>Casting with generic types is notoriously dangerous due to type erasure. The real types of generic arguments are not known at runtime, therefore, an incorrect cast does not raise an error:</p>
<pre><code class="language-java">Object o = new Object();
String s = (String) o; // ClassCatsException

List&lt;Object&gt; lo = new ArrayList&lt;&gt;();
List&lt;String&gt; ls = (List&lt;String&gt;) lo; // OK at runtime, therefore, it emmits warning at compile time.

</code></pre>
<h2 id="casting-case-expression">Casting case expression</h2>
<p>Often, when we work with an interface, we have to treat each implementation differently. The best way to handle that is to use the polymorphism, i.e., add a dedicated method for treating the object to the interface and handle the differences in each implementation. However, sometimes, we cannot modify the interface as it comes from the outside of our codebase, or we do not want to put the code to the interface because it belongs to a completely different part of the application (e.g., GUI vs database connection). A typicall solution for this is to use branching on instanceof and a consecutive cast:</p>
<pre><code class="language-java">if(obj instance of Apple){
    Apple apple = (Apple) obj;
    ...
}
else if(obj instance of Peach){
    Peach peach = (Peach) obj;
    ...
}
...
</code></pre>
<h3 id="casting-switch">Casting <code>switch</code></h3>
<p>This approach works, it is safe, but it is also error prone. A new preview <code>swich</code> statement is ready to replace this technique:</p>
<pre><code class="language-java">switch(obj)
    case Apple apple:
        ...
        break;
    case Peach peach:
        ...
        break;
    ...
}
</code></pre>
<p>Note that unsafe type opperations are not allowed in these new <code>switch</code> statements, and an error is emitted instead of warning:</p>
<pre><code class="language-java">List list = ...

List&lt;String&gt; ls = (List&lt;String&gt;) list; // warning: unchecked

switch(list){
    case List&lt;String&gt; ls: // error: cannot be safely cast
        ...
}
</code></pre>
<h1 id="random-numbers">Random numbers</h1>
<h2 id="generate-random-integer">Generate random integer</h2>
<p>To get an infinite iterator of random integers, we can use the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-int-int-"><code>Random.ints</code></a> method:</p>
<pre><code class="language-java">var it = new Random().ints(0, map.nodesFromAllGraphs.size()).iterator();\
int a = it.nextInt();
</code></pre>
<h1 id="reflection">Reflection</h1>
<p>Reflection is a toolset for working with Java types. Its methods can be accessed from a class object associated with all classes. </p>
<p>The class object represents the type and it can be accessed either by <code>MyClass.class</code> or by calling the <code>MyClass.getClass</code> method. The type of the class object is Class&lt;&gt;</p>
<h2 id="test-if-a-class-is-a-superclass-or-interface-of-another-class">Test if a class is a superclass or interface of another class</h2>
<p>It can be tested simply as:</p>
<pre><code class="language-java">ClassA.isAssignableFrom(ClassB)
</code></pre>
<h2 id="get-field-by-name">Get field by name</h2>
<pre><code class="language-java">Field field = MyClass().getDeclaredField(&quot;fieldName&quot;);
</code></pre>
<h1 id="sql">SQL</h1>
<p>Java has a build in support for SQL in package <code>java.sql</code>. The typical operation:
1. 
1. 
1. create a <code>PreparedStatement</code> from the cursor using the SQL string as an input
1. Fill the parameters of the <code>PreparedStatement</code>
1. Execute the query</p>
<h2 id="filling-the-query-parameters">Filling the query parameters</h2>
<p>This process consist of safe replacement of <code>?</code> marks in the SQL string with real values. The <code>PreparedStatement</code> class has dedicated methods for that:
- <code>setString</code> for strings
- <code>setObject</code> for complex objects</p>
<p>Each method has the index of the <code>?</code> to be replaced as the first parameter. <strong>The index start from 1</strong>.</p>
<p>Note that these methods can be used to supply arguments for data part of the SQL statement. <strong>If the <code>?</code> is used for table names or SQL keywords, the query execution will fail.</strong> Therefore, if you need to dynamically set the non-data part of an SQL query (e.g., table name), you need to sanitize the argument manually and add it to the SQl querry. </p>
<h2 id="processing-the-result">Processing the result</h2>
<p>The java sql framework returns the result of the SQL query in form of a <a href="https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html"><code>ResultSet</code></a>. To process the result set, we need to iterate the rows using the <code>next</code> method and for each row, we can access the column values using one of the methods (depending on the dtat type in the column), each of which accepts either column index or label as a parameter. Example:</p>
<pre><code class="language-java">var result = statement.executeQuery();
while(result.next()){
   var str = result.getString(&quot;column_name&quot;));
   ...
}
</code></pre>
<h1 id="jackson">Jackson</h1>
<p><a href="https://github.com/FasterXML/jackson-docs">Documentation</a></p>
<p>Jackson is a (de)serialization library primarily focused to the JSON format. It supports annotations for automatic serialization and deserialization of Java objects.</p>
<h2 id="ignore-specific-fields">Ignore specific fields</h2>
<p>If you want to ignore specific fields during serialization or deserialization, you can use the <a href="https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html"><code>@JsonIgnoreProperties</code> annotation</a>. Use it as a class or type annotation. Example:</p>
<pre><code class="language-java">@JsonIgnoreProperties({ &quot;par1&quot;, &quot;par2&quot; })
public class ConfigModel {
    // &quot;par1&quot; and &quot;par2&quot; will be ignored 
}
</code></pre>
<p>This annotation can also prevent the "Unrecognized field" error during deserialization, as the ignored fields does not have to be present as Java class members.</p>
<h2 id="represent-a-class-by-a-single-member">Represent a class by a single member</h2>
<p>If we want the java class to be represented by a single value in the <strong>serialized</strong> file, we can achieve that by adding the <a href="https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonValue.html"><code>@JsonValue</code></a> annotation above the member or method that should represent the class. Note, however, that this only works for simple values, because the member serializers are not called, the members is serialized as a simple value instead. <strong>If you want to represent a class by a single but complex member, use a custom serializer instead</strong>. </p>
<p>An equivalent annotation for <strong>deserialization</strong> is the <code>@JsonCreator</code> annotation which should be placed above a constructor or factory method.</p>
<h2 id="deserialization">Deserialization</h2>
<p>The standard usage is:</p>
<pre><code class="language-java">ObjectMapper mapper = new ObjectMapper();
// ... configure mapper

File file = new File(&lt;PATH TO FILE&gt;);

Instance instance = mapper.readValue(file, Instance.class);
</code></pre>
<p>By default, new objects are created for all members in the object hierarchy that are either present in the serialized file.</p>
<p>New objects are created using the setter, if exists, otherwise, the costructor is called.</p>
<h3 id="multiple-setters">Multiple Setters</h3>
<p>If there are multiple setters, we need to specify the one that should be used for deserialization by marking it with the <code>@JsonSetter</code> annotation.</p>
<h3 id="update-existing-instance">Update existing instance</h3>
<p>You can update an existing instance using the <a href="https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/ObjectMapper.html#readerForUpdating-java.lang.Object-"><code>readerForUpdating</code></a> method:</p>
<pre><code class="language-java">ObjectReader or = mapper.readerForUpdating(instance); // special reader
or.readValue(file) // we can use the method we already know on the object reader
</code></pre>
<p>Note that <strong>by default, the update is shalow</strong>. Only the <code>instance</code> object itself is updated, but its members are brand new objects. If you want to keep all objects from an existing object hierarchy, you need to use the <code>@JsonMerge</code> annotation.
You should put this annotation above any member of the root object you want to update instead of replacing it. <strong>The <code>@JsonUpgrade</code> annotation is recursive</strong>: the members of the member annotated with <code>@JsonUpgrade</code> are updated as well and so on.</p>
<h4 id="updating-polymorphic-types">Updating polymorphic types</h4>
<p>For updating polymorpic type, the rule is that the exact type has to match. Also, you need jackson-databind version 2.14.0 or greater.</p>
<h3 id="read-just-part-of-the-file">Read just part of the file</h3>
<p>For reading just part of the file, use the <code>at</code> selector taht is available in the <code>ObjectReader</code> class. We need to first obtain the reader from a mapper, and then use the selector:</p>
<pre><code class="language-java">ObjectReader reader = mapper.readerFor(Instance.class);
Instance instance = reader.at(&quot;data&quot;).readValue(file)
</code></pre>
<p>Note that if the path parameter of the <code>at</code> method is incorrect, the method throws an exception with the message: "no content to map due to end-of-input".</p>
<h3 id="check-that-some-node-is-present">Check that some node is present</h3>
<p>To check for presence of a node, we should use the <code>JsonPointer</code> class:</p>
<pre><code class="language-java">JsonPointer jsonPointer = Json.createPointer(&quot;&lt;JSON PATH&gt;&quot;);
boolean found = jsonPointer.containsValue(jsonStructure);
</code></pre>
<p>We can also use the <code>JsonPointer</code> in the <code>at</code> method:</p>
<pre><code class="language-java">JsonPointer jsonPointer = Json.createPointer(&quot;&lt;JSON PATH&gt;&quot;);
boolean found = jsonPointer.containsValue(jsonStructure);

if(found){
    Instance instance = reader.at(jsonPointer).readValue(file, Instance.class)
}
</code></pre>
<h3 id="interface-or-abstract-class">Interface or abstract class</h3>
<p>When serializing interface or abstract class, it is important to include the implementation type into serialization. Otherwise, the deserialization fails, because it cannot determine the concreate type. To serialize the concrete type, we can use the <a href="https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html"><code>@JsonRypeInfo</code></a> and <code>JsonSubTypes</code> annotations:</p>
<pre><code class="language-java">@JsonTypeInfo(
    use = JsonTypeInfo.Id.CLASS, // what value should we store, here the class name
    include = JsonTypeInfo.As.PROPERTY, // serialize as a property of the JSON object
    property = &quot;type&quot; // property name
)
public interface Interface  {
    ...
}

</code></pre>
<p>Te above code will work, the full class name will be serialized in the file, however. If we want to use a shorter syntax, i.e., some codename for the class, we need to specify a mapping between this codename and the conreate class:</p>
<pre><code class="language-java">@JsonTypeInfo(
    use = JsonTypeInfo.Id.NAME, // what value should we store, here a custom name
    include = JsonTypeInfo.As.PROPERTY, // serialize as a property of the JSON object
    property = &quot;type&quot; // property name
)
@JsonSubTypes({
    @JsonSubTypes.Type(value = Implementation.class, name = &quot;Implementation name&quot;)
})
public interface Interface  {
    ...
}
</code></pre>
<h4 id="custom-deserializer">Custom deserializer</h4>
<p>An alternative to <code>@JsonTypeInfo</code> is to use a custom deserializer: 
https://stackoverflow.com/questions/44122782/jackson-deserialize-based-on-type</p>
<h3 id="custom-deserializer_1">Custom deserializer</h3>
<p>If our architecture is so complex or specific that none of the Jackson annotations can help us to achieve the desired behavior, we can use a custom deserializer. For that we need to:
1. Implement a custom deserializer by extending the <code>JsonDeserializer</code> class
1. Registering the deserializer in the <code>ObjectMapper</code></p>
<h4 id="creating-a-custom-deserializer-for-class">Creating a custom deserializer for class</h4>
<p>The only method we need to implement is the:</p>
<pre><code class="language-java">T deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)
</code></pre>
<p>where T is the type of the object we are deserializing. </p>
<p>To get the Jaksons representation of the JSON tree, we can call:</p>
<pre><code class="language-java">JsonNode node = jsonParser.getCodec().readTree(jsonParser);
</code></pre>
<p>We can get all the fields by calling using the <code>node.fields()</code> method. For arrays, there is a method <code>node.elements()</code>;</p>
<h4 id="registering-the-deserializer">Registering the deserializer</h4>
<pre><code class="language-java">ObjectMapper mapper = new ObjectMapper();
SimpleModule module = new SimpleModule();
module.addDeserializer(OurClass.class, new OurClassDeserializer());
mapper.registerModule(module);
</code></pre>
<h4 id="custom-deserializer-with-generic-types">Custom deserializer with generic types</h4>
<p>When we need a custom deserializer for a generic class, we need to use a wildcard to cover multiple values of generic argument:</p>
<pre><code class="language-java">public class OurDeserializer extends JsonDeserializer&lt;OurGenericClass&lt;?&gt;&gt;{
    ...
}
</code></pre>
<p>If we also need to get the generic argument type from JSON, we need to implement the <code>ContextualDeserializer</code> interface. This is discribed in a <a href="https://stackoverflow.com/questions/36159677/how-to-create-a-custom-deserializer-in-jackson-for-a-generic-type">SO answer</a>.</p>
<h4 id="custom-deserializer-with-inheritance">Custom deserializer with inheritance</h4>
<p>We can have a common deserializer for both parent and child class, or multiple child classes. However, it is necessary to 
- make the deserializer generic and
- register the deserializer for all classes, not just for the parent.</p>
<p>Example:</p>
<pre><code class="language-java">public class PolymorphicDeserializer&lt;T extends Parent&gt; extends JsonDeserializer&lt;T&gt;

    @Override
    public T deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {
        ...
    }
}

module.addDeserializer(ChildA.class, new PolymorphicDeserializer&lt;&gt;());
module.addDeserializer(ChildB.class, new ProcedureParameterDeserializer&lt;&gt;());

</code></pre>
<h2 id="serialization">Serialization</h2>
<p>Standard serialization:</p>
<pre><code class="language-java">// compressed
mapper.writer().writeValue(file, object);

//  or with indents, etc.
mapper.writerWithDefaultPrettyPrinter().writeValue(file, object); 
</code></pre>
<p>By default, new objects are created for all members in the object hierarchy that are either:
- public value mebers (fields)
- public getters: public methods with name <code>get&lt;NAME&gt;</code>, where <code>&lt;NAME&gt;</code> is a name of some value member</p>
<p>Other getters with different name are called only if there is an annotation above them. A special annotation dedicated for this is <code>@JsonProperty</code>.</p>
<h3 id="appending-to-an-existing-file">Appending to an existing file</h3>
<p>To append to an existing file, we need to create an output stream in the append mode and then use it in jackson:</p>
<pre><code class="language-java">ObjectMapper mapper = ...
JsonGenerator generator = mapper.getFactory().createGenerator(new FileOutputStream(new File(&lt;FILENAME&gt;), true));
mapper.writeValue(generator, output);
</code></pre>
<h3 id="complex-member-filters">Complex member filters</h3>
<p>Insted of adding annotations to each member we want to ignore, we can also apply some more compex filters, to do that, we need to:
1. add a <code>@JsonFilter("&lt;FILTER NAME&gt;")</code> annotation to all classes for which we want to use the filter
2. create the filter
3. pass a set of all filters we want to use to the writer we are using for serialization</p>
<p>The example below keeps only members inherited from <code>MyClass</code>:</p>
<pre><code class="language-java">// object on which we apply the filter
@JsonFilter(&quot;myFilter&quot;)
class targetClass{
    ...
}

// filter
PropertyFilter filter = new SimpleBeanPropertyFilter() {
    @Override
    public void serializeAsField(
        Object pojo, JsonGenerator jgen, SerializerProvider provider, PropertyWriter writer
    ) throws Exception {
        if(writer.getType().isTypeOrSubTypeOf(MyClass.class)){
            writer.serializeAsField(pojo, jgen, provider);
        }
    }

};

FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;myFilter&quot;, filter);

// use a writer created with filters
mapper.writer(filters).writeValue(generator, output);
...
</code></pre>
<h3 id="flatting-the-hierarchy">Flatting the hierarchy</h3>
<p>When we desire to simplify the object hierarchy, we can use the <a href="https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonUnwrapped.html"><code>@JsonUnwrapped</code></a> annotation above a member of a class. With this annotation, the annotated member object will be skipped while all its members will be serialized into its parent.</p>
<h3 id="custom-serializer">Custom serializer</h3>
<p>If the serialization requirements are too complex to be expressed using Jackson annotations, we can use a custom serialzier:</p>
<pre><code class="language-java">public class MyCustomSerializer extends JsonSerializer&lt;MyClass&gt; {
    @Override
    public void serialize(MyClass myClass, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {
        ...
    }
}
</code></pre>
<p>Analogously to custom deserializer, we can register custom serializer either in the object mapper:</p>
<pre><code class="language-java">SimpleModule module = new SimpleModule();
module.addSerializer(MyClass.class, new MyCustomSerializer());
mapper.registerModule(module);
</code></pre>
<p>or by annotating the class:</p>
<pre><code class="language-java">@JsonSerialize(using = MyCustomSerializer.class)
public class MyClass{
    ...
}
</code></pre>
<p>You can call standard serializers from custom serializers using the <code>SerializerProvider</code> and <code>JsonGenerator</code> instances supplied as a parameters of the <code>serialize</code> method. For example the standard serialized value of som inner/member object class can be obtained using:</p>
<pre><code class="language-java">serializerProvider.defaultSerializeValue(myInnerInstance, jsonGenerator);
</code></pre>
<h2 id="annotations">Annotations</h2>
<h3 id="multiple-objects">Multiple objects</h3>
<p>If there are multiple objects involved in the (de)serializetion, we can use the <code>@JsonCreator</code> and <code>@JsonProperty</code> annotations to split the work:</p>
<pre><code class="language-java">@JsonCreator
public ConfigModel(
    @JsonProperty(&quot;first&quot;) ClassA instanceA,
    @JsonProperty(&quot;second&quot;) ClassB instanceB
) {
    ...
}
</code></pre>
<p>in the above examples, the <code>first</code> and <code>second</code> are keys mapping the objects in the serialized file from which <code>instanceA</code> and <code>instanceB</code> should be created.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
