<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>C++ Debugging and Profiling - Manuals</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../../extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Programming</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../C%20Manual/" class="dropdown-item">C Manual</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">C++ Debugging and Profiling</a>
</li>
            
<li>
    <a href="../C%2B%2B%20Manual/" class="dropdown-item">C++ Manual</a>
</li>
            
<li>
    <a href="../C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
            
<li>
    <a href="../Google%20Test/" class="dropdown-item">Google Test</a>
</li>
            
<li>
    <a href="../vcpkg%20Manual/" class="dropdown-item">vcpkg Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cloud computing</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Cloud%20computing/Lmod/" class="dropdown-item">Lmod</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/RCI%20cluster/" class="dropdown-item">RCI cluster</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/Slurm/" class="dropdown-item">Slurm</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Database</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Database/Database%20Workflow/" class="dropdown-item">Database Workflow</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Debugging%20and%20Profiling/" class="dropdown-item">PostgreSQL Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Manual/" class="dropdown-item">PostgreSQL Manual</a>
</li>
            
<li>
    <a href="../../Database/SQL%20Manual/" class="dropdown-item">SQL Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Java/Debugging%20Java/" class="dropdown-item">Debugging Java</a>
</li>
            
<li>
    <a href="../../Java/Jackson/" class="dropdown-item">Jackson</a>
</li>
            
<li>
    <a href="../../Java/Java%20Manual/" class="dropdown-item">Java Manual</a>
</li>
            
<li>
    <a href="../../Java/Java%20Workflow/" class="dropdown-item">Java Workflow</a>
</li>
            
<li>
    <a href="../../Java/Maven/" class="dropdown-item">Maven</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Python/Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../../Python/Pandas%20Manual/" class="dropdown-item">Pandas Manual</a>
</li>
            
<li>
    <a href="../../Python/Plotly%20Manual/" class="dropdown-item">Plotly Manual</a>
</li>
            
<li>
    <a href="../../Python/Python%20Debugging%20and%20Profiling/" class="dropdown-item">Python Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Python/Python%20Manual/" class="dropdown-item">Python Manual</a>
</li>
            
<li>
    <a href="../../Python/Python%20Workflow/" class="dropdown-item">Python Workflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Web/CSS%20Manual/" class="dropdown-item">CSS Manual</a>
</li>
            
<li>
    <a href="../../Web/css/" class="dropdown-item">css</a>
</li>
            
<li>
    <a href="../../Web/Google%20API%20and%20Apps%20Script/" class="dropdown-item">Google API and Apps Script</a>
</li>
            
<li>
    <a href="../../Web/htaccess/" class="dropdown-item">htaccess</a>
</li>
            
<li>
    <a href="../../Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../../Web/Jekyll/" class="dropdown-item">Jekyll</a>
</li>
            
<li>
    <a href="../../Web/mkdocs/" class="dropdown-item">mkdocs</a>
</li>
            
<li>
    <a href="../../Web/Selenium/" class="dropdown-item">Selenium</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../Common/" class="dropdown-item">Common</a>
</li>
                                    
<li>
    <a href="../../Conda%20and%20Mamba/" class="dropdown-item">Conda and Mamba</a>
</li>
                                    
<li>
    <a href="../../Git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../Gurobi/" class="dropdown-item">Gurobi</a>
</li>
                                    
<li>
    <a href="../../HDF/" class="dropdown-item">HDF</a>
</li>
                                    
<li>
    <a href="../../JSON/" class="dropdown-item">JSON</a>
</li>
                                    
<li>
    <a href="../../Native%20Libraries/" class="dropdown-item">Native Libraries</a>
</li>
                                    
<li>
    <a href="../../Neural%20Networks/" class="dropdown-item">Neural Networks</a>
</li>
                                    
<li>
    <a href="../../Perl/" class="dropdown-item">Perl</a>
</li>
                                    
<li>
    <a href="../../Regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../../Ruby%20Workflow/" class="dropdown-item">Ruby Workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">LaTeX</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../LaTeX/Bibliography/" class="dropdown-item">Bibliography</a>
</li>
                                    
<li>
    <a href="../../../LaTeX/Latex%20manual/" class="dropdown-item">Latex manual</a>
</li>
                                    
<li>
    <a href="../../../LaTeX/LaTeX%20workflow/" class="dropdown-item">LaTeX workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Linux</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Linux/Bash%20Manual/" class="dropdown-item">Bash Manual</a>
</li>
                                    
<li>
    <a href="../../../Linux/Fedora/" class="dropdown-item">Fedora</a>
</li>
                                    
<li>
    <a href="../../../Linux/Linux%20Manual/" class="dropdown-item">Linux Manual</a>
</li>
                                    
<li>
    <a href="../../../Linux/Ubuntu/" class="dropdown-item">Ubuntu</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Windows</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Windows/Comand%20shell/" class="dropdown-item">Comand shell</a>
</li>
                                    
<li>
    <a href="../../../Windows/Excel%20Manual/" class="dropdown-item">Excel Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/PowerPoint/" class="dropdown-item">PowerPoint</a>
</li>
                                    
<li>
    <a href="../../../Windows/Powershell%20Manual/" class="dropdown-item">Powershell Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/Windows%20Manual/" class="dropdown-item">Windows Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">.cursor</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../.." class="dropdown-item">rules</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Audio & Video</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Audio%20%26%20Video/FFMpeg/" class="dropdown-item">FFMpeg</a>
</li>
                                    
<li>
    <a href="../../../Audio%20%26%20Video/VLC/" class="dropdown-item">VLC</a>
</li>
                                    
<li>
    <a href="../../../Audio%20%26%20Video/yt-dlp/" class="dropdown-item">yt-dlp</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">GIS</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../GIS/GIS%20formats/" class="dropdown-item">GIS formats</a>
</li>
                                    
<li>
    <a href="../../../GIS/OpenStreetMap/" class="dropdown-item">OpenStreetMap</a>
</li>
                                    
<li>
    <a href="../../../GIS/Overpass%20Manual/" class="dropdown-item">Overpass Manual</a>
</li>
                                    
<li>
    <a href="../../../GIS/QGIS/" class="dropdown-item">QGIS</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Images</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Images/Midjourney/" class="dropdown-item">Midjourney</a>
</li>
                                    
<li>
    <a href="../../../Images/Photopea/" class="dropdown-item">Photopea</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Android/" class="nav-link">Android</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Arxiv/" class="nav-link">Arxiv</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Google%20office%20apps/" class="nav-link">Google office apps</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Hardware%20Manual/" class="nav-link">Hardware Manual</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">index</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Network/" class="nav-link">Network</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Security/" class="nav-link">Security</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../vscode/" class="nav-link">vscode</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Web%20Tricks/" class="nav-link">Web Tricks</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../XML/" class="nav-link">XML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../YAML/" class="nav-link">YAML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Zotero/" class="nav-link">Zotero</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../C%20Manual/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../C%2B%2B%20Manual/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#compiler-errors" class="nav-link">Compiler Errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#general-rules" class="nav-link">General rules</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#if-the-source-of-the-compilation-bug-cannot-be-found" class="nav-link">If the source of the compilation bug cannot be found</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#practical-static-assertions" class="nav-link">Practical static assertions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#useful-predicates" class="nav-link">Useful Predicates</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#determining-type-at-compile-time" class="nav-link">Determining type at compile time</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#errors-with-a-missing-copy-constructor" class="nav-link">Errors with a missing copy constructor</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#copy-constructor-is-called-against-the-will" class="nav-link">Copy constructor is called against the will</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#errors-with-missing-move-constructor" class="nav-link">Errors with missing move constructor</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#multiply-defined-symbols" class="nav-link">Multiply Defined Symbols</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#conversion-is-inaccessible" class="nav-link">Conversion is inaccessible</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#cannot-convert-from-initializer-list-to" class="nav-link">Cannot convert from 'initializer list' to...</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#returning-address-of-local-variable-or-temporary" class="nav-link">Returning address of local variable or temporary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#cannot-resolve-symbol" class="nav-link">Cannot resolve symbol</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#linker-errors" class="nav-link">Linker Errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#undefined" class="nav-link">Undefined</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#multiply-defined" class="nav-link">Multiply Defined</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#link-fatal-error-lnk1181-cannot-open-input-file" class="nav-link">LINK : fatal error LNK1181: cannot open input file</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#runtime-errors" class="nav-link">Runtime errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#error-codes" class="nav-link">Error codes</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#windows-error-codes" class="nav-link">Windows Error Codes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#missing-dll" class="nav-link">Missing dll</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#showing-the-runtime-dependency-tree" class="nav-link">Showing the runtime dependency tree</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#memory-errors" class="nav-link">Memory Errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#accessing-null-pointer" class="nav-link">Accessing null pointer</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#read-access-violation-caused-by-a-demaged-vtable" class="nav-link">Read Access Violation Caused by a Demaged vtable</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#using-application-verifier-to-find-causes-of-memory-related-errors" class="nav-link">Using Application Verifier to find causes of memory related errors.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#using-address-sanitizer" class="nav-link">Using Address Sanitizer</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#using-valgrind-to-debug-memory-errors" class="nav-link">Using Valgrind to debug memory errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#logical-errors" class="nav-link">Logical Errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#c-specific-numerical-errors" class="nav-link">C++ Specific Numerical Errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#static-code-analysis" class="nav-link">Static code analysis</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#cppcheck" class="nav-link">Cppcheck</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#testing-google-test" class="nav-link">Testing - Google Test</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#debugging-tests" class="nav-link">Debugging tests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#visual-studio-errors" class="nav-link">Visual Studio Errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#false-errors-appears-in-a-file-in-many-files" class="nav-link">False errors appears in a file / in many files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#refactoring-options-not-present" class="nav-link">Refactoring options not present</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#intallisense-false-errors" class="nav-link">IntalliSense false errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#using-the-debugger" class="nav-link">Using the debugger</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#clion" class="nav-link">Clion</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#visual-studio" class="nav-link">Visual Studio</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#improve-debugger-experience-with-natvis" class="nav-link">Improve debugger experience with natvis</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="4"><a href="#natvis-expressions" class="nav-link">Natvis expressions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="4"><a href="#natvis-errors" class="nav-link">Natvis Errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="4"><a href="#existing-visualisations" class="nav-link">Existing visualisations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#debugging-polymorphic-classes" class="nav-link">Debugging polymorphic classes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#address-breakpoints" class="nav-link">Address breakpoints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#profiling" class="nav-link">Profiling</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#cpu-profiling" class="nav-link">CPU Profiling</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#visual-studio_1" class="nav-link">Visual Studio</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#clion_1" class="nav-link">CLion</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="4"><a href="#old-clion-wsl-issue" class="nav-link">Old CLion WSL issue</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#vtune" class="nav-link">VTune</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#memory-profiling" class="nav-link">Memory Profiling</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#memory-profiling-in-visual-studio" class="nav-link">Memory Profiling in Visual Studio</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#showing-size-alignment-and-memory-layout-of-structures" class="nav-link">Showing size, alignment, and memory layout of structures</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="compiler-errors">Compiler Errors<a class="headerlink" href="#compiler-errors" title="Permanent link">&para;</a></h1>
<h2 id="general-rules">General rules<a class="headerlink" href="#general-rules" title="Permanent link">&para;</a></h2>
<ul>
<li>Make the code you want to compile reachable.  <strong>In C++, only reachable methods/classes are compiled!</strong></li>
<li>Solve errors that stop the compilation first.</li>
<li>Warnings can stay in logs even if solved until the main error is gone and the build is finished</li>
<li>Be aware that the cause of the error can be on a different line than the one in the error log!</li>
</ul>
<h3 id="if-the-source-of-the-compilation-bug-cannot-be-found">If the source of the compilation bug cannot be found<a class="headerlink" href="#if-the-source-of-the-compilation-bug-cannot-be-found" title="Permanent link">&para;</a></h3>
<ol>
<li>read the error examples below</li>
<li>check that the code follow the <a href="https://drive.google.com/file/d/1fIwSVqSojOxIZFJCvSszu4xEUvfVPA5P/view?usp=sharing">my guidelines</a> and <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines.html">C++ Core Guidelines</a>. </li>
<li>read the <a href="http://cppreference.com">cpp reference</a> for the parts of the problematic code</li>
<li>check the <em>const correctness</em>. It is a causes a lot of problems.</li>
<li>try a different compiler, the error message can be more informative</li>
<li>try to isolate the case in some small example</li>
<li>copy the project and remove the stuff until the problem is gone</li>
</ol>
<h2 id="practical-static-assertions">Practical static assertions<a class="headerlink" href="#practical-static-assertions" title="Permanent link">&para;</a></h2>
<p>Test for concept satisfaction:</p>
<pre><code class="language-cpp">static_assert(My_concept&lt;My_class&gt;);
</code></pre>
<h3 id="useful-predicates">Useful Predicates<a class="headerlink" href="#useful-predicates" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://en.cppreference.com/w/cpp/types/is_same"><code>std::is_same_as</code></a> for checking the type equality. </li>
</ul>
<h2 id="determining-type-at-compile-time">Determining type at compile time<a class="headerlink" href="#determining-type-at-compile-time" title="Permanent link">&para;</a></h2>
<p>Sometimes, it is practical to know the exact type during compile time. There is no direct way for that, but we can trick the compiler to print the type in an error message:</p>
<pre><code class="language-cpp">template &lt;typename...&gt; struct Get_type;
class Something {};
Get_type&lt;&lt;TYPE TO GET&gt;&gt; my_type{};
</code></pre>
<p>This should print an error message similar to: <code>error: variable ‘Get_type&lt;&lt;TYPE TO GET RESOLVED&gt;&gt; my_type’ has initializer but incomplete type</code>.</p>
<h2 id="errors-with-a-missing-copy-constructor">Errors with a missing copy constructor<a class="headerlink" href="#errors-with-a-missing-copy-constructor" title="Permanent link">&para;</a></h2>
<p>e.g. <code>error C2280: 'Solution&lt;N&gt;::Solution(const Solution&lt;N&gt; &amp;)': attempting to reference a deleted function</code></p>
<p>These can be split into two groups:</p>
<ul>
<li>We want to copy the object, but the copy constructor is missing</li>
<li>We do not want to copy the object, but the copy constructor is still called</li>
</ul>
<p>The firs case can be resolved easily. Below, we discuss the second case.</p>
<h3 id="copy-constructor-is-called-against-the-will">Copy constructor is called against the will<a class="headerlink" href="#copy-constructor-is-called-against-the-will" title="Permanent link">&para;</a></h3>
<p>There are two possible reasons for this:</p>
<ul>
<li>We perform an operation that requires a copy without realizing it. In this case, check the scenarios that can cause the copy in the <a href="../C%2B%2B%20Manual/#copy-constructor">C++ Manual</a><ul>
<li>Especially take care in case of STL collections, as those can display the error in the place of template instantiation, not in the place of the copy (see the <a href="../C%2B%2B%20Manual/#collections">Collection Manual</a>).</li>
</ul>
</li>
<li>We perform an operation that requires a move, but the move constructor is not available. In this case, change the code so that the move constructor is defined.<ul>
<li>To check if the class is move-constructible:
<code>cpp
static_assert(std::is_move_constructible&lt;Solution&lt;Cordeau_node&gt;&gt;::value);</code></li>
<li>Possible reasons, why the move constructor is not available:</li>
<li>Move constructor is not implicitly declared due to a broken rule of five, i.e., one of the other constructors/assignments/destructors is defined</li>
<li>Implicitly declared move constructor is deleted. Possible reasons:<ul>
<li>the class have a member that cannot be moved from</li>
<li>const members</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="errors-with-missing-move-constructor">Errors with missing move constructor<a class="headerlink" href="#errors-with-missing-move-constructor" title="Permanent link">&para;</a></h2>
<p>First, we should check whether the object's type <code>T</code> is movable using <code>static_assert(std::is_move_constructible_v&lt;T&gt;)</code></p>
<p>If the static assertion is false:</p>
<ol>
<li>Check whether all base classes has move constructors available<ul>
<li>the <code>std::is_move_constructible_v&lt;T&gt;</code> cannot be used for that, as the move operations can be protected. Instead, look for the presence of the move constructors in base classes (any base class should have them declared, as the implicit declaration of copy/move/destruction does not work with virtual classes)</li>
</ul>
</li>
<li>Check whether all class members are move constructible using the <code>std::is_move_constructible_v&lt;T&gt;</code> concept. Do not forget the const qualifiers!</li>
</ol>
<h2 id="multiply-defined-symbols">Multiply Defined Symbols<a class="headerlink" href="#multiply-defined-symbols" title="Permanent link">&para;</a></h2>
<p>e.g. name already used for a template in the current scope. The source of the duplicate should be in the compiler output. Usually, this can be solved by using namespaces.</p>
<h2 id="conversion-is-inaccessible">Conversion is inaccessible<a class="headerlink" href="#conversion-is-inaccessible" title="Permanent link">&para;</a></h2>
<p>This mostly happens if we forgot to add the <code>public</code> keyword when inheriting from a base class, resulting in the (default) private inheritance.</p>
<h2 id="cannot-convert-from-initializer-list-to">Cannot convert from 'initializer list' to...<a class="headerlink" href="#cannot-convert-from-initializer-list-to" title="Permanent link">&para;</a></h2>
<p>This happans when there is no function signature matching the arguments. Sometimes, the specific argument can be found by using constructor instead of initializer list. Otherwise, check the arguments one by one. For each argument:</p>
<ol>
<li>check if the type matches</li>
<li>check if the value type matches, i.e. value/ref/pointer</li>
<li><strong>check if the const matches</strong></li>
<li>check if the problem is not in wrong template argument deduction. The automatic deduction can use value type instead of reference type...</li>
</ol>
<h2 id="returning-address-of-local-variable-or-temporary">Returning address of local variable or temporary<a class="headerlink" href="#returning-address-of-local-variable-or-temporary" title="Permanent link">&para;</a></h2>
<p>This happens when we assign a lambda to <code>std::function</code> and the labda return by reference and does not have an explicit return type. The solution is to add an explicit return type.</p>
<h2 id="cannot-resolve-symbol">Cannot resolve symbol<a class="headerlink" href="#cannot-resolve-symbol" title="Permanent link">&para;</a></h2>
<p>or alternatively: <code>'identifier' was unexpected here; expected 'type specifier'</code>.</p>
<p>It simply means that the type cannot be reolved from the code location.</p>
<p>Possible reasons:</p>
<ul>
<li>Circular dinclude</li>
</ul>
<h1 id="linker-errors">Linker Errors<a class="headerlink" href="#linker-errors" title="Permanent link">&para;</a></h1>
<h2 id="undefined">Undefined<a class="headerlink" href="#undefined" title="Permanent link">&para;</a></h2>
<p>Something like <code>unresolved external symbol...</code>.</p>
<p>For symbols that should come from your code:</p>
<ol>
<li>check that all used files are listed in <code>CMakeLists.txt</code> (<code>add_executable</code> command…)</li>
<li>check that all templates are defined in header files</li>
<li>check that all functions are defined correctly (even <code>unsigned</code> vs <code>unsigned int</code> can make problems...)</li>
</ol>
<p>For symbols that should come from a library:</p>
<ol>
<li>check that all necessary libraries are linked in <code>CMakeLists.txt</code></li>
<li>check that all libraries configured for linking in <code>CMakeLists.txt</code> are available on the system</li>
<li>if the compiler environment may have changed since the last build (e.g., system update, compiler update, or when running the build on remote server), try to erase the build directory and configure the project again</li>
</ol>
<p>If none of the above works, check this list: <a href="https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix?">https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix?</a></p>
<h2 id="multiply-defined">Multiply Defined<a class="headerlink" href="#multiply-defined" title="Permanent link">&para;</a></h2>
<ol>
<li>Check the recent includes, are all of them correct?</li>
<li>Check the multiply defined symbol. If it is a function defined in a header file, it has to be static or inline.</li>
<li>there can be a bug even in an external library!</li>
</ol>
<p><a href="https://stackoverflow.com/questions/30180145/general-techniques-for-debugging-the-multiple-definition-of-error">https://stackoverflow.com/questions/30180145/general-techniques-for-debugging-the-multiple-definition-of-error</a></p>
<h2 id="link-fatal-error-lnk1181-cannot-open-input-file"><code>LINK : fatal error LNK1181: cannot open input file</code><a class="headerlink" href="#link-fatal-error-lnk1181-cannot-open-input-file" title="Permanent link">&para;</a></h2>
<p>The <a href="https://learn.microsoft.com/en-us/cpp/error-messages/tool-errors/linker-tools-error-lnk1181?view=msvc-170">error LNK1181</a> means that the linker cannot find the specified library file. To daiagnose this, look at how the file is specified in the target's <code>vxproj</code> file:</p>
<ol>
<li>Open the target's <code>vxproj</code> file in a text editor</li>
<li>Find the <code>Link</code> element</li>
<li>Check the <code>AdditionalDependencies</code> attribute of the <code>Link</code> element. The path to the library file should be there.</li>
</ol>
<p>With exception of the standard libraries, the path should be either absolute (for installed libraries, like vcpkg libraries) or relative to the project directory (for libraries that are distributed with the project). Two cases can happen:</p>
<ul>
<li>The path looks correct: double check that hte library file is present on the specified path</li>
<li>The path is incorrect, e.g., the library is specified only by its name. This means that the <code>vxproj</code> file is not generated correctly, i.e., the problem is in the configuration phase.<ul>
<li>note that <strong>CMake does not check the validity of the targets specified in the <code>target_link_libraries</code> command!</strong></li>
</ul>
</li>
</ul>
<h1 id="runtime-errors">Runtime errors<a class="headerlink" href="#runtime-errors" title="Permanent link">&para;</a></h1>
<p><strong>First, identify the exception context</strong>. To do that, look at the line where the exception is thrown. If the throwing line is not on the call stack, it is possible that the debugger does not break on the particular exception type. to change that go to the <code>Exception Settings</code> and check the exception type there.</p>
<p>If the cause of the exception is not clear from the context, it may be usefull to <strong>check the exception details</strong>. First, look at the exception message. The easiest way is to catch the exception in the code and print the message. In Google Test, there is a catch-all handler, just run the test without the <code>--gtest_break_on_failure</code> flag. </p>
<p>If the message is not enough, look at the exception content in the debugger. Unfortunately, it is not possible to inspect unhandled exception object easily. To do so, add the following watch:</p>
<pre><code class="language-cpp">(&lt;exception type&gt;*) &lt;exception address&gt;
</code></pre>
<p>where <code>&lt;exception type&gt;</code> is the type of the exception (e.g. <code>std::exception</code>) and <code>&lt;exception address&gt;</code> is the address from the exception dialog.</p>
<p>Finally, if the cause of the exception is still unclear, look at the exception type, and proceed to the respective section below, if there is one. </p>
<h2 id="error-codes">Error codes<a class="headerlink" href="#error-codes" title="Permanent link">&para;</a></h2>
<p>Error codes are the only thing visible when the exception is not caught and no debugger is attached. Unfortunately, the error codes are platform-specific, and mostly undocumented even for operating system facilities and standard libraries.</p>
<h3 id="windows-error-codes">Windows Error Codes<a class="headerlink" href="#windows-error-codes" title="Permanent link">&para;</a></h3>
<p>On windows, many error codes can be emitted by the system or standard libraries:</p>
<ul>
<li><code>0x0</code> to <code>0x3e7f</code>: <a href="https://docs.microsoft.com/en-us/windows/win32/debug/system-error-codes">Win32 error codes</a>: Errors emitted by Windows high-level functionalities</li>
<li><code>0xC0000000</code> to <code>0xCFFFFFFF</code>: <a href="https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-erref">NT status codes</a>: Standardized 32-bit error codes used in Windows kernel, drivers, and protocols. Notable examples:</li>
<li><code>0x00000003</code>: STATUS_BREAKPOINT (<em>{EXCEPTION} Breakpoint A breakpoint
has been reached.</em>)</li>
<li><a href="https://learn.microsoft.com/en-us/shows/inside/c0000005"><code>0xC0000005</code></a>: Access violation (<em>The instruction at 0x%08lx referenced
memory at 0x%08lx. The memory could
not be %s.</em>)</li>
<li><code>0xC0000142</code>: STATUS_DLL_INIT_FAILED: Initialization of a dynamic link library failed. The
process is terminating abnormally. This means that all linked libraries are available at runtime, but some of them failed to initialize, which may be due to a missing dependency (between the linked library and another library not linked to the executable)</li>
<li><code>0xC0000374</code>: Heap corruption (<em>A heap has been corrupted.</em>)</li>
</ul>
<h2 id="missing-dll">Missing dll<a class="headerlink" href="#missing-dll" title="Permanent link">&para;</a></h2>
<p>When a dll file is missing, we can temprorarily fix the problem by copying the dll file to the same directory as the executable. However, it is best to investigate the cause, which we discuss in this section.</p>
<p>The most common cause is that we do not set the target to copy the required runtime dependencies to the output directory. This is necessary even when building with CMake: <strong>CMake does not copy the runtime dependencies automatically!</strong> To configure CMake to copy the runtime dependencies, see the <a href="../CMake%20Manual/#handling-runtime-dependencies-in-the-output-directory">CMake Manual</a>.</p>
<p>If this command is present and copies some runtime dependencies to the output directory, but not all of them, we need to investigate further:</p>
<ol>
<li>determine why the missing library is required (if we do not know immediately...)</li>
<li>fix the dependency so it is recognized by CMake<ul>
<li>if the library is required by our targets, we have some linking misconfiguration -&gt; we have to fix it</li>
<li>if the library is required by another library (transitive dependency), the bug is probably there. We cannot fix it, but we can report it and manually link the missing library to the library that requires it  in our project (see the <a href="../CMake%20Manual/#fixing-incorrect-linking-configuration-in-upstream-projects">CMake Manual</a> for details).</li>
</ul>
</li>
</ol>
<h3 id="showing-the-runtime-dependency-tree">Showing the runtime dependency tree<a class="headerlink" href="#showing-the-runtime-dependency-tree" title="Permanent link">&para;</a></h3>
<p>First, we should check the CMake dependencies. We can see them using the <code>--graphviz</code> argument of the <code>cmake</code> command:</p>
<pre><code class="language-bash">cmake --graphviz=dependencies.dot
</code></pre>
<p>In the <code>dependencies.dot</code> file, we can see the dependency tree of visible cmake dependencies, i.e., the libraries that:</p>
<ul>
<li>are linked in cmake using the <code>target_link_libraries</code> command (in contrast to command line linking, etc), <strong>and</strong></li>
<li>are linked <em>publicly</em> (i.e., with the <code>PUBLIC</code> or <code>INTERFACE</code> keyword, not <code>PRIVATE</code>)</li>
</ul>
<p>If the missing library is not in this dependency tree, we should inspect the executable for the dependencies. We can do that using the <a href="https://github.com/lucasg/Dependencies">Dependencies tool</a>.</p>
<ol>
<li>Download and extract the tool</li>
<li>Run the <code>DependenciesGui.exe</code></li>
<li>Drag and drop the executable to the tool</li>
</ol>
<h2 id="memory-errors">Memory Errors<a class="headerlink" href="#memory-errors" title="Permanent link">&para;</a></h2>
<p>These exception are raised when an unallocated memory is accesed.  The following signalize a memory error:</p>
<ul>
<li><em>Read Access Violation</em></li>
<li><em>HEAP CORRUPTION DETECTED</em> </li>
</ul>
<p>First, <strong>most of the memory errors can be caught by various assertions and guards in the debug mode.</strong> If possible, try to run the program in the debugg mode, even if it takes a long time, because this way, you can catch the problem when it happens, before the memory is corrupted. If that does not help, read the following sections.</p>
<p>Other reassons are also discussed <a href="https://localcoder.org/access-violation-exception-when-calling-a-method">here</a></p>
<h3 id="accessing-null-pointer">Accessing null pointer<a class="headerlink" href="#accessing-null-pointer" title="Permanent link">&para;</a></h3>
<p>A frequent cause of memory errors is accessing a null pointer object's data. In this case, the cause of the problem can be quickly determined in the debugger. Just follow the lifetime of the pointer and find the momemnt when it becom null.</p>
<h3 id="read-access-violation-caused-by-a-demaged-vtable">Read Access Violation Caused by a Demaged vtable<a class="headerlink" href="#read-access-violation-caused-by-a-demaged-vtable" title="Permanent link">&para;</a></h3>
<p>In case of some previous memory mismanagement, the heap can be demaged, possibly resulting in a corrupted virtual table for objects on the heap. 
To check whether the virtual table is corrupted, add the following watch to the debugger:</p>
<pre><code class="language-cpp">&lt;var name&gt;.__vfptr
</code></pre>
<p>Where <code>&lt;var name&gt;</code> is the name of the object you want to inspect.</p>
<p>To resolve this problem, see debugging memory errors.</p>
<h3 id="using-application-verifier-to-find-causes-of-memory-related-errors">Using Application Verifier to find causes of memory related errors.<a class="headerlink" href="#using-application-verifier-to-find-causes-of-memory-related-errors" title="Permanent link">&para;</a></h3>
<p>A lot of memory errors can be caught just by running the program in the debugger. The STL containers, for example, containst various assertions that break the code on wrong memory access related to these collections. </p>
<p>To add even more assert guards (e.g., for dynamic arrays), we can use the <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/devtest/application-verifier">Application Verifier</a> which is installed as a part of Windows SDK (which is typically installed together with Visual Studio).</p>
<p>To debug the application with the Application verifier enabled:</p>
<ol>
<li>Open AV</li>
<li><code>right click</code> -&gt; <code>add executable</code> and select the executable to test </li>
<li>select the appropriete test suite (the basic one is enouh for the memory testing)</li>
<li>click save</li>
<li>close AV</li>
<li>run the executable in the debugger, find the problem, fix it</li>
<li>open AV</li>
<li>delete the exectable from the list</li>
</ol>
<h3 id="using-address-sanitizer">Using Address Sanitizer<a class="headerlink" href="#using-address-sanitizer" title="Permanent link">&para;</a></h3>
<p>A linux memory tool called address sanitizer can be used to debug memory related errors. To use it from the Visual Studio:</p>
<ol>
<li>Check that the <code>libasan</code> lib is installed on WSL</li>
<li>In Cmake Settings for the debug configuration, check <code>Enable AddressSanitizer</code></li>
<li>build the project</li>
<li>run</li>
</ol>
<p>The program should now break on the first problem. The details are displayed in the output window</p>
<p>More at <a href="https://learn.microsoft.com/en-us/cpp/linux/linux-asan-configuration?view=msvc-170&amp;viewFallbackFrom=vs-2019#install-the-asan-debug-symbols">Microsoft learn</a></p>
<h3 id="using-valgrind-to-debug-memory-errors">Using Valgrind to debug memory errors<a class="headerlink" href="#using-valgrind-to-debug-memory-errors" title="Permanent link">&para;</a></h3>
<p>Valgrind is a toolbox for debugging C/C++ code. The most famous tool is calle <a href="https://valgrind.org/docs/manual/mc-manual.html">Memcheck</a> and is intended for memory error detection.
Basic usage:</p>
<pre><code class="language-bash">valgrind --leak-check=yes &lt;program&gt; &lt;program arguments&gt;
</code></pre>
<p>The explanation of the error messages can be found on the <a href="https://valgrind.org/docs/manual/mc-manual.html#mc-manual.errormsgs">Valgrind website</a></p>
<p>The most common errors and tips:</p>
<ul>
<li><code>Conditional jump or move depends on uninitialised value</code>:</li>
<li>triggers on the first usage (not copy) of the uninitialized data</li>
<li>note that the uninitialized variable can look normal (e.g. if it is a number), just the value is random.</li>
<li><code>Invalid read of size ...</code>:</li>
<li>can happen to both stack and heap memory</li>
<li>the content can still be in memory, it just means that the memory has been freed/invalidated.</li>
</ul>
<p>There are some expected messeges not to be worried about:</p>
<pre><code>Warning: set address range perms: large range
</code></pre>
<h2 id="logical-errors">Logical Errors<a class="headerlink" href="#logical-errors" title="Permanent link">&para;</a></h2>
<h3 id="c-specific-numerical-errors">C++ Specific Numerical Errors<a class="headerlink" href="#c-specific-numerical-errors" title="Permanent link">&para;</a></h3>
<ul>
<li>First possible error is <em>overflow</em>. <strong>C++ does not handle or report overflow!</strong> The behaviour is undefined.</li>
<li>Second potential danger is the <em>unsigned integer overflow</em>. In case the result below zero is stored in unsigned integer, the number is wrapped around, resulting in large positive integer.</li>
<li>Another thing is that when signed and unsigned integers are used in one operation, the <strong>signed integer is implicitely converted to unsigned integer before the operation!</strong> This is called promotion and it also works for other types (see in a <a href="https://stackoverflow.com/questions/5563000/implicit-type-conversion-rules-in-c-operators">table on SO</a>).</li>
</ul>
<p>In general to prevent the overflow:</p>
<ul>
<li>check each operation for the potential overflow, inluding the unsigned integer overflow with negative numbers</li>
<li>if the overflow can happen, cast the types before any arithmetic operation to prevent the overflow</li>
<li>also, one have to use the right type in templates like <code>std::max</code></li>
</ul>
<h1 id="static-code-analysis">Static code analysis<a class="headerlink" href="#static-code-analysis" title="Permanent link">&para;</a></h1>
<p>Static code analysis is a process of checking the code without running it. The basic static analysis is available in IDEs, or as a part of the compiler. However, there are also more advanced tools available that can check the code for various problems, including:</p>
<ul>
<li>memory leaks and memory errors</li>
<li>undefined behaviour</li>
<li>dead code</li>
<li>code style</li>
</ul>
<h2 id="cppcheck">Cppcheck<a class="headerlink" href="#cppcheck" title="Permanent link">&para;</a></h2>
<p><a href="http://cppcheck.sourceforge.net/">Cppcheck</a> is a GUI tool that can be used to check the code for various problems. It is available for Windows and Linux. </p>
<h1 id="testing-google-test">Testing - Google Test<a class="headerlink" href="#testing-google-test" title="Permanent link">&para;</a></h1>
<p>Google test is a c++ testing framework that can be used to write unit tests. As it is not officially shipped with vcpkg, we have to use <code>FetchContent</code> to download it. The basic usage is as follows:</p>
<ol>
<li>Add the <code>googletest</code> to the project using <code>FetchContent</code></li>
<li>Add the test target using <code>add_executable</code> </li>
<li>Link the test target with the <code>gtest</code> and <code>gtest_main</code> targets</li>
</ol>
<p>Optionally, if we want the tests to be run automatically by the <code>ctest</code>, we add the <code>gtest_discover_tests</code> command to the <code>CMakeLists.txt</code>.</p>
<h2 id="debugging-tests">Debugging tests<a class="headerlink" href="#debugging-tests" title="Permanent link">&para;</a></h2>
<p>For test debugging, some google test options may be usefull:</p>
<ul>
<li><code>--gtest_break_on_failure</code>: breaks the test on a failed test or failed assertion.</li>
<li><code>--gtest_catch_exceptions=0</code>: stops google test from catching exceptions, hence the program crashes on an unhandled exception.</li>
<li>Without this, we cannot use breakpoints on unhandled exceptions.</li>
<li>Note that this way, we will not see the exception message, as C++ default exception handler does not print the message.</li>
<li><code>--gtest_filter=Some_test_prefix*</code>: filter tests by name. Astrix (<code>*</code>) can be used as a wildcard for both prefix and suffix. The pattern is <code>&lt;test_suite_name&gt;.&lt;test_name&gt;</code>.</li>
</ul>
<h1 id="visual-studio-errors">Visual Studio Errors<a class="headerlink" href="#visual-studio-errors" title="Permanent link">&para;</a></h1>
<h2 id="false-errors-appears-in-a-file-in-many-files">False errors appears in a file / in many files<a class="headerlink" href="#false-errors-appears-in-a-file-in-many-files" title="Permanent link">&para;</a></h2>
<ol>
<li>close visual studio</li>
<li>delete the <code>out</code> folder</li>
<li>open the visual studio again</li>
</ol>
<h2 id="refactoring-options-not-present">Refactoring options not present<a class="headerlink" href="#refactoring-options-not-present" title="Permanent link">&para;</a></h2>
<p>If the refactoring options like change signature are not present, try to send the Resharper bug reports :), or create a new project.</p>
<h2 id="intallisense-false-errors">IntalliSense false errors<a class="headerlink" href="#intallisense-false-errors" title="Permanent link">&para;</a></h2>
<p>Sometimes, the errors disappears by deleting the <code>.suo</code> file located in <code>&lt;project dir&gt;/.vs/&lt;project name&gt;/&lt;VS version&gt;</code></p>
<h1 id="using-the-debugger">Using the debugger<a class="headerlink" href="#using-the-debugger" title="Permanent link">&para;</a></h1>
<h2 id="clion">Clion<a class="headerlink" href="#clion" title="Permanent link">&para;</a></h2>
<p>Unlike in Visual Studio, the Clion debugger does not break be default. To break on exceptions or breakpoints, we need to use the debug button instead of the run button.</p>
<p>To debug multiple targets at once:</p>
<ol>
<li>Open the <code>Run/Debug Configurations</code> dialog</li>
<li>Add a new configuration of type <code>Compound</code></li>
<li>Add the configurations you want to run together using the <code>+</code> button</li>
<li>Debug the compound configuration</li>
</ol>
<h2 id="visual-studio">Visual Studio<a class="headerlink" href="#visual-studio" title="Permanent link">&para;</a></h2>
<h3 id="improve-debugger-experience-with-natvis">Improve debugger experience with natvis<a class="headerlink" href="#improve-debugger-experience-with-natvis" title="Permanent link">&para;</a></h3>
<p><a href="https://learn.microsoft.com/en-us/visualstudio/debugger/create-custom-views-of-native-objects?view=vs-2022">Natvis</a> is a visualization system that enables to enhance the presentation of variables in debugger locals or watch windows. It is a XML file, where we can define visualization rules for any type. Structure:</p>
<pre><code class="language-XML">  &lt;Type Name=&quot;My_class&quot;&gt;
    ... visualization rules
  &lt;/Type&gt;
</code></pre>
<p>The name must be fully qualified, i.e., <strong>we have to include namespaces.</strong></p>
<p>The big advantage is that <strong>natvis files can be changed while the debugger is running</strong> and the presentation of the type in locals/watch window is changed immediatly after saving the natvis file.</p>
<h4 id="natvis-expressions">Natvis expressions<a class="headerlink" href="#natvis-expressions" title="Permanent link">&para;</a></h4>
<p>The expression in natvis are sorounded by <code>{}</code>. If we want curly braces in the text, we can double them <code>{{...}}</code>.
<strong>Unfortunatelly, function calles cannot be used in natvis expressions</strong>.</p>
<h4 id="natvis-errors">Natvis Errors<a class="headerlink" href="#natvis-errors" title="Permanent link">&para;</a></h4>
<p>Natvis errors can be displayed in the output window if turned on in settins: <code>Debug</code> -&gt; <code>Options</code> -&gt; <code>Debugging</code> -&gt; <code>Output Window</code>.</p>
<h4 id="existing-visualisations">Existing visualisations<a class="headerlink" href="#existing-visualisations" title="Permanent link">&para;</a></h4>
<p>Existing natvis files are stored in <code>&lt;VS Installation Folder&gt;\Common7\Packages\Debugger\Visualizers</code> folder. The STL visualizations are in <code>stl.natvis</code></p>
<h3 id="debugging-polymorphic-classes">Debugging polymorphic classes<a class="headerlink" href="#debugging-polymorphic-classes" title="Permanent link">&para;</a></h3>
<p>Unfortunately, the debugger does not show the actual type of the object when the object is cast to a base class.</p>
<p>To see the object content including the members of the derived class, we have to cast the object to the derived class in the watch window:</p>
<ul>
<li><code>((Derived_class*) object)</code> for pointers</li>
<li><code>((Derived_class&amp;) object)</code> for references</li>
</ul>
<h3 id="address-breakpoints">Address breakpoints<a class="headerlink" href="#address-breakpoints" title="Permanent link">&para;</a></h3>
<p>Address breakpoints can be used to watch a change of a variable or in general, a change of any memory location.</p>
<p>To set an address breakpoint, we nned to first find the address of the variable. To do that, we can:</p>
<ul>
<li>use the <code>&amp;</code> operator on the variable in the watch window</li>
<li>use the <code>&amp;</code> operator on the variable in the immediate window</li>
</ul>
<p>The address should have a format <code>0x0000000000000000</code>.</p>
<h1 id="profiling">Profiling<a class="headerlink" href="#profiling" title="Permanent link">&para;</a></h1>
<p>There are multiple <a href="https://docs.google.com/spreadsheets/d/1nvOmqWVMX6H1Q-Y6JDqRW5Ocaj6oPoKDQogz2kRkHHE/edit?usp=sharing">profiler options for C++</a>, but not all the tools are easy to use or maintained.</p>
<h2 id="cpu-profiling">CPU Profiling<a class="headerlink" href="#cpu-profiling" title="Permanent link">&para;</a></h2>
<h3 id="visual-studio_1">Visual Studio<a class="headerlink" href="#visual-studio_1" title="Permanent link">&para;</a></h3>
<p>In visual studio:</p>
<ol>
<li>Run the program and either wait for breakpoint hit or manually pause the execution</li>
<li>In <code>Diagnostic Tools</code> tab, hit the <code>Enable CPU Profiling</code> button</li>
<li>Unpause the execution</li>
<li>Pause the execution again, the profiler results covering the period between resume and pause should be available</li>
</ol>
<h3 id="clion_1">CLion<a class="headerlink" href="#clion_1" title="Permanent link">&para;</a></h3>
<p><a href="https://www.jetbrains.com/help/clion/cpu-profiler.html">documentation</a></p>
<p>TL;DR: The profiler does not work in WSL.</p>
<p>CLion profiler is based on the <a href="https://perf.wiki.kernel.org/index.php/Main_Page"><code>perf</code></a> tool and therefore it is available only on Linux (and WSL). </p>
<p>Currently I have a problem with the profiler: after clicking the buytton to stop profiling and show the results, the profiler window just shows a message <code>No profiler data</code>. <a href="https://youtrack.jetbrains.com/issue/CPP-15328/No-profiler-data">Clion issue</a>.</p>
<h4 id="old-clion-wsl-issue">Old CLion WSL issue<a class="headerlink" href="#old-clion-wsl-issue" title="Permanent link">&para;</a></h4>
<p>However, in WSL, <a href="https://youtrack.jetbrains.com/issue/CPP-41239/Cannot-run-Perf-profiler-in-WSL">currently the profiler does not work</a> (the profiler immediatelly terminates with an unknown error). Fortunatelly, there is a workaround (described in <a href="https://youtrack.jetbrains.com/issue/CPP-40742/Profiling-doesnt-work-in-WSL">another issue</a>):
- open the Clion registry: <code>Help</code> -&gt; <code>Find Action</code> -&gt; <code>Registry</code>
- disable the <code>wsl.use.remote.agent.for.launch.processes</code> option</p>
<h3 id="vtune">VTune<a class="headerlink" href="#vtune" title="Permanent link">&para;</a></h3>
<p>VTune can be run ftom the Visual Studio only for VS solution projects. In case of CMake projects, we need to run the VTune GUI and configure the debugging there.</p>
<h2 id="memory-profiling">Memory Profiling<a class="headerlink" href="#memory-profiling" title="Permanent link">&para;</a></h2>
<p>For memory profiling to work, two things needs to be taken care of:</p>
<ul>
<li>if the application allocates a lot memory inside parallel region, <strong>disable paralelization</strong> for profiling. Otherwise, there can be too many allocation events for the profiler to handle </li>
<li>if you use a custom memory allocator, disable it and use a standard allocator for memory profiling</li>
</ul>
<h3 id="memory-profiling-in-visual-studio">Memory Profiling in Visual Studio<a class="headerlink" href="#memory-profiling-in-visual-studio" title="Permanent link">&para;</a></h3>
<p>To profile memory in Visul Studio</p>
<ol>
<li>Set a breakpoint before the region of interest</li>
<li>Run the app and wait for the hit</li>
<li>In <code>Diagnostic Tools</code> tab -&gt; <code>Summary</code>, click <code>Enable heap profiling for next session</code></li>
<li>Restart the app and wait for the hit.</li>
<li>Take memory snapshot</li>
<li>Add a breakpoint to the end of the region of interest</li>
<li>Wait for the hit, take snapshot and check both snapshots</li>
</ol>
<h1 id="showing-size-alignment-and-memory-layout-of-structures">Showing size, alignment, and memory layout of structures<a class="headerlink" href="#showing-size-alignment-and-memory-layout-of-structures" title="Permanent link">&para;</a></h1>
<p>In both CLion and Visual Studio, the size and alignment of the structure is displayed in the tooltip when hovering over the structure name, or member name.</p>
<p>Additionally, Visual Studio shows the memory layout if we click the appropriate button in the tooltip.</p>
<p><a href="https://devblogs.microsoft.com/visualstudio/size-alignment-and-memory-layout-insights-for-c-classes-structs-and-unions/">Visual Studio tutorial</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
