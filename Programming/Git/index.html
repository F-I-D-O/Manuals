<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Git - Manuals</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Programming</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../C%2B%2B/C%20Manual/" class="dropdown-item">C Manual</a>
</li>
            
<li>
    <a href="../C%2B%2B/C%2B%2B%20Debugging%20and%20Profiling/" class="dropdown-item">C++ Debugging and Profiling</a>
</li>
            
<li>
    <a href="../C%2B%2B/C%2B%2B%20Manual/" class="dropdown-item">C++ Manual</a>
</li>
            
<li>
    <a href="../C%2B%2B/C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../C%2B%2B/CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
            
<li>
    <a href="../C%2B%2B/Google%20Test/" class="dropdown-item">Google Test</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Database</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Database/Database%20Workflow/" class="dropdown-item">Database Workflow</a>
</li>
            
<li>
    <a href="../Database/PostgreSQL%20Debugging%20and%20Profiling/" class="dropdown-item">PostgreSQL Debugging and Profiling</a>
</li>
            
<li>
    <a href="../Database/PostgreSQL%20Manual/" class="dropdown-item">PostgreSQL Manual</a>
</li>
            
<li>
    <a href="../Database/SQL%20Manual/" class="dropdown-item">SQL Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Java/Debugging%20Java/" class="dropdown-item">Debugging Java</a>
</li>
            
<li>
    <a href="../Java/Jackson/" class="dropdown-item">Jackson</a>
</li>
            
<li>
    <a href="../Java/Java%20Manual/" class="dropdown-item">Java Manual</a>
</li>
            
<li>
    <a href="../Java/Java%20Workflow/" class="dropdown-item">Java Workflow</a>
</li>
            
<li>
    <a href="../Java/Maven/" class="dropdown-item">Maven</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Python/Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../Python/Pandas%20Manual/" class="dropdown-item">Pandas Manual</a>
</li>
            
<li>
    <a href="../Python/Plotly%20Manual/" class="dropdown-item">Plotly Manual</a>
</li>
            
<li>
    <a href="../Python/Python%20Debugging/" class="dropdown-item">Python Debugging</a>
</li>
            
<li>
    <a href="../Python/Python%20Manual/" class="dropdown-item">Python Manual</a>
</li>
            
<li>
    <a href="../Python/Python%20Workflow/" class="dropdown-item">Python Workflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Web/CSS%20Manual/" class="dropdown-item">CSS Manual</a>
</li>
            
<li>
    <a href="../Web/css/" class="dropdown-item">css</a>
</li>
            
<li>
    <a href="../Web/Google%20API%20and%20Apps%20Script/" class="dropdown-item">Google API and Apps Script</a>
</li>
            
<li>
    <a href="../Web/htaccess/" class="dropdown-item">htaccess</a>
</li>
            
<li>
    <a href="../Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../Web/Jekyll/" class="dropdown-item">Jekyll</a>
</li>
            
<li>
    <a href="../Web/mkdocs/" class="dropdown-item">mkdocs</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../Common/" class="dropdown-item">Common</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Git</a>
</li>
                                    
<li>
    <a href="../Gurobi/" class="dropdown-item">Gurobi</a>
</li>
                                    
<li>
    <a href="../HDF/" class="dropdown-item">HDF</a>
</li>
                                    
<li>
    <a href="../JSON/" class="dropdown-item">JSON</a>
</li>
                                    
<li>
    <a href="../Native%20Libraries/" class="dropdown-item">Native Libraries</a>
</li>
                                    
<li>
    <a href="../Perl/" class="dropdown-item">Perl</a>
</li>
                                    
<li>
    <a href="../Regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../Ruby%20Workflow/" class="dropdown-item">Ruby Workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">LaTeX</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../LaTeX/Latex%20manual/" class="dropdown-item">Latex manual</a>
</li>
                                    
<li>
    <a href="../../LaTeX/LaTeX%20workflow/" class="dropdown-item">LaTeX workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Linux</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Linux/Linux%20Manual/" class="dropdown-item">Linux Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Windows</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Windows/Excel%20Manual/" class="dropdown-item">Excel Manual</a>
</li>
                                    
<li>
    <a href="../../Windows/PowerPoint/" class="dropdown-item">PowerPoint</a>
</li>
                                    
<li>
    <a href="../../Windows/Powershell%20Manual/" class="dropdown-item">Powershell Manual</a>
</li>
                                    
<li>
    <a href="../../Windows/VSCode/" class="dropdown-item">VSCode</a>
</li>
                                    
<li>
    <a href="../../Windows/Windows%20Manual/" class="dropdown-item">Windows Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Audio & Video</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Audio%20%26%20Video/FFMpeg/" class="dropdown-item">FFMpeg</a>
</li>
                                    
<li>
    <a href="../../Audio%20%26%20Video/VLC/" class="dropdown-item">VLC</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Cloud computing</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Cloud%20computing/Lmod/" class="dropdown-item">Lmod</a>
</li>
                                    
<li>
    <a href="../../Cloud%20computing/RCI%20cluster/" class="dropdown-item">RCI cluster</a>
</li>
                                    
<li>
    <a href="../../Cloud%20computing/Slurm/" class="dropdown-item">Slurm</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">GIS</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../GIS/GIS%20formats/" class="dropdown-item">GIS formats</a>
</li>
                                    
<li>
    <a href="../../GIS/Overpass%20Manual/" class="dropdown-item">Overpass Manual</a>
</li>
                                    
<li>
    <a href="../../GIS/QGIS/" class="dropdown-item">QGIS</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Images</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Images/Midjourney/" class="dropdown-item">Midjourney</a>
</li>
                                    
<li>
    <a href="../../Images/Photopea/" class="dropdown-item">Photopea</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../Arxiv/" class="nav-link">Arxiv</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Google%20office%20apps/" class="nav-link">Google office apps</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Hardware%20Manual/" class="nav-link">Hardware Manual</a>
                            </li>
                            <li class="nav-item">
                                <a href="../.." class="nav-link">index</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Network/" class="nav-link">Network</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Security/" class="nav-link">Security</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../vscode/" class="nav-link">vscode</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Web%20Tricks/" class="nav-link">Web Tricks</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../XML/" class="nav-link">XML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../YAML/" class="nav-link">YAML</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../Common/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Gurobi/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#basics" class="nav-link">Basics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#configuration" class="nav-link">Configuration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#basic-tasks" class="nav-link">Basic Tasks</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#rewrite-remote-with-local-changes-without-merging" class="nav-link">Rewrite remote with local changes without merging</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#go-back-to-branch" class="nav-link">Go back to branch</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#untrack-files-but-not-delete-them-locally" class="nav-link">Untrack files, but not delete them locally:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#remote-repositories" class="nav-link">Remote Repositories</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#reverting" class="nav-link">Reverting</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#keep-the-history" class="nav-link">Keep the history</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#using-git-checkout" class="nav-link">Using git checkout</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#drop-the-history" class="nav-link">Drop the history</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#wildcards" class="nav-link">Wildcards</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#removing-files-from-all-branches-local-and-remote" class="nav-link">Removing files from all branches, local and remote</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#bfg" class="nav-link">BFG</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#git-filter-repo" class="nav-link">Git filter-repo</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#filter-branch" class="nav-link">filter-branch</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#merging" class="nav-link">Merging</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#resolving-conflicts" class="nav-link">Resolving Conflicts</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#debugging-mergetool" class="nav-link">Debugging mergetool</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#merging-moved-files" class="nav-link">Merging Moved Files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#revert-merge" class="nav-link">Revert merge</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#update" class="nav-link">Update</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#pull-requests" class="nav-link">Pull Requests</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#update-pull-request" class="nav-link">Update pull request</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#showing-the-state-in-the-command-line" class="nav-link">Showing the state in the command line</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#git-log" class="nav-link">git log</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#github" class="nav-link">GitHub</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#creating-a-github-release" class="nav-link">Creating a GitHub Release</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#github-cli" class="nav-link">GitHub CLI</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#token-authentication" class="nav-link">Token Authentication</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#managing-realeases" class="nav-link">Managing realeases</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#repository-migration" class="nav-link">Repository Migration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#troubleshooting" class="nav-link">Troubleshooting</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#gui-tools-show-no-history-git-log-results-in-errors" class="nav-link">GUI tools show no history, git log results in errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="basics">Basics<a class="headerlink" href="#basics" title="Permanent link">&para;</a></h1>
<p>The structure of a single git repository is displayed in the following picture:
<img alt="Git Repository Structure" src="../Git%20Scheme.png" /></p>
<p>Explanation of the picture:</p>
<ul>
<li>The <strong>working tree</strong> or working directory is the directory where the files are stored, typically the root directory of the project where the <code>.git</code> directory is located.</li>
<li>The <strong>index</strong> or staging area is a cache of all changes that are marked (<em>staged</em>) for the next commit. To stage a change, we need to call <code>git add</code> command. Only files in the index are committed when we call <code>git commit</code>.</li>
<li>The <strong>HEAD</strong> is a pointer to the last commit in the current branch. </li>
</ul>
<p>The following scheme shows the operations that can be performed between the working tree, index, HEAD and the remote repository (blue arrows represent the typical workflow):
<img alt="Git Operations" src="../Git%20Operations.png" /></p>
<h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h1>
<p>The git configuration is stored in the <code>.gitconfig</code> file in the user's home directory. It can be edited by editing the file directly, or by calling <code>git config</code> command.</p>
<p>To display the active configuration in the command line, call:</p>
<pre><code class="language-bash">git config --list
</code></pre>
<p>We can also show whether the configuration results from the system, user or local configuration file:</p>
<pre><code class="language-bash">git config --list --show-origin
</code></pre>
<h1 id="basic-tasks">Basic Tasks<a class="headerlink" href="#basic-tasks" title="Permanent link">&para;</a></h1>
<h2 id="rewrite-remote-with-local-changes-without-merging">Rewrite remote with local changes without merging<a class="headerlink" href="#rewrite-remote-with-local-changes-without-merging" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">git push -f
</code></pre>
<h2 id="go-back-to-branch">Go back to branch<a class="headerlink" href="#go-back-to-branch" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">git revert --no-commit 0766c053..HEAD
</code></pre>
<h2 id="untrack-files-but-not-delete-them-locally">Untrack files, but not delete them locally:<a class="headerlink" href="#untrack-files-but-not-delete-them-locally" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">git rm --cached &lt;FILEPATH&gt;
</code></pre>
<p>usefull params:</p>
<ul>
<li><code>-r</code>: recursive - deletes content of directories</li>
<li><code>-n</code> dry run</li>
</ul>
<h1 id="remote-repositories">Remote Repositories<a class="headerlink" href="#remote-repositories" title="Permanent link">&para;</a></h1>
<p><a href="https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes">Git Basics manual</a></p>
<p>Normally, we have a single remote repository, which is typically called <code>origin</code>. In this repository, we share the code with other developers. In this case we don't have to care about the remote repository handling, because the remote is automatically set to the repository we cloned from.</p>
<p>However, sometimes we need to work with multiple remote repositories. In this case, we have to add remotes manually and also specify the remote repository when we push or pull.</p>
<p>To <strong>add a remote</strong>, we call:</p>
<pre><code class="language-bash">git remote add &lt;remote name&gt; &lt;URL&gt;
</code></pre>
<p>Where the remote and <code>&lt;URL&gt;</code> is is the link we use to clone the repository.</p>
<p>To <strong>list remotes</strong>, we call:</p>
<pre><code class="language-bash">git remote -v
</code></pre>
<p>Then we need to specify the remote when we want to use a command that interacts with the remote repository and we want to use a remote other than the default one. For example, to push to a remote repository, instead of just <code>git push</code>, we call:</p>
<pre><code class="language-bash">git push &lt;remote name&gt; &lt;branch name&gt;
</code></pre>
<h1 id="reverting">Reverting<a class="headerlink" href="#reverting" title="Permanent link">&para;</a></h1>
<p>When we want to revert  something using git there are multiple options depending on the situation. The commands are:</p>
<ul>
<li><a href="https://git-scm.com/docs/git-checkout"><code>git checkout</code></a> for overwriting local files with version from a specified tree (also for switching branches) and</li>
<li><a href="https://git-scm.com/docs/git-reset"><code>git reset</code></a> for reverting commits and effectively rewriting the history.</li>
<li><a href="https://git-scm.com/docs/git-read-tree"><code>git read-tree</code></a>: similar to checkout, but does not require a cleanup before</li>
</ul>
<p>The following table shows the differences between the commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>revrerts commits</th>
<th>overwrite local changes</th>
<th>delete files committed after <code>&lt;commit&gt;</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git checkout &lt;commit&gt;</code></td>
<td>no</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td><code>git read-tree -m -u &lt;commit&gt;</code></td>
<td>no</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td><code>git reset --soft &lt;commit&gt;</code></td>
<td>yes</td>
<td>no</td>
<td>no</td>
</tr>
<tr>
<td><code>git reset --hard &lt;commit&gt;</code></td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>To decide between the commands, the first consideration should be whether we want to preserve the history or not:</p>
<ul>
<li>we want to reach a specific state in the history and commit the changes as a new commit -&gt; use <code>git checkout</code> or <code>git read-tree</code></li>
<li>we want to reach a specific state in the history and discard all changes after that point -&gt; use <code>git reset</code></li>
</ul>
<h2 id="keep-the-history">Keep the history<a class="headerlink" href="#keep-the-history" title="Permanent link">&para;</a></h2>
<p>If we want to keep the history, there are still two options:</p>
<ul>
<li>we want to revert the whole working tree and also delete all files that were committed after the specified commit -&gt; use <code>git read-tree -m -u &lt;commit&gt;</code></li>
<li>we want to revert the whole working tree, but keep all files that were committed after the specified commit -&gt; use <code>git checkout &lt;commit&gt;</code></li>
<li>we want to revert only some files -&gt; use <code>git checkout &lt;commit&gt; &lt;filepath&gt;</code></li>
</ul>
<h3 id="using-git-checkout">Using <code>git checkout</code><a class="headerlink" href="#using-git-checkout" title="Permanent link">&para;</a></h3>
<p>To reset an individual file, call: <code>git checkout &lt;commit&gt; &lt;filepath&gt;</code>, to reset all files, call: <code>git checkout &lt;commit&gt; .</code>. </p>
<p>If the <code>&lt;commit&gt;</code> parameter is ommited, the local files will be overwritten by the HEAD.  </p>
<h2 id="drop-the-history">Drop the history<a class="headerlink" href="#drop-the-history" title="Permanent link">&para;</a></h2>
<p>Dropping the history can be useful in many cases. For example, we may commit some changes to the master, but then we realize that they belong to a branch. A simple solution is to create a branch, and then reset the master to the previous commit.</p>
<p>Note that if the wrong history was already pushed to the remote, we need to fix the history on the remote as well. This is done by force pushing:</p>
<pre><code>git push -f
</code></pre>
<h1 id="wildcards">Wildcards<a class="headerlink" href="#wildcards" title="Permanent link">&para;</a></h1>
<p>Can be used in gitignore and also in some git commands. All described in the <a href="https://git-scm.com/docs/gitignore#_pattern_format">Manual</a>. Usefull wildcards:</p>
<ul>
<li><code>**/</code> in any directory</li>
<li><code>/**</code> everything in a directory</li>
</ul>
<h1 id="removing-files-from-all-branches-local-and-remote">Removing files from all branches, local and remote<a class="headerlink" href="#removing-files-from-all-branches-local-and-remote" title="Permanent link">&para;</a></h1>
<p>Removing files from history can be done using multiple tools:</p>
<ol>
<li><a href="https://rtyley.github.io/bfg-repo-cleaner/">bfg repo cleaner</a> is the simplest tool. It can only select files by filename or size, but that is sufficient in most cases. </li>
<li><a href="https://github.com/newren/git-filter-repo/">git filter-repo</a> is a more sophisticated successor to BFG. It can do almost anything possible. Nevertheless, it is less intuitive to operate, and it is harder to analyze its result.</li>
<li>The <a href="https://git-scm.com/docs/git-filter-branch"><code>filter-branch</code></a> command is the original tool for filtering git history. It is slow and problematic, so it should be used only if the above two tools are not available.  </li>
</ol>
<p><strong>No matter of the used tool, before you begin:</strong></p>
<ol>
<li>commit and push from all machines,</li>
<li>backup the repository</li>
</ol>
<p><strong>Similarly, at the end:</strong></p>
<ul>
<li><strong>It is important not to merge (branch or conflitcs) that originated before the cleanup</strong> on other machines. Otherwise, the deleted file can be reintroduced to the history.</li>
<li>Pull on other machines.</li>
<li><strong>Add the file to gitignore</strong> so that it wont be commited again</li>
</ul>
<h2 id="bfg">BFG<a class="headerlink" href="#bfg" title="Permanent link">&para;</a></h2>
<p>With BFG, <strong>only a file with specific filename can be deleted</strong>. It is not possible to use exact file path. To remove file by its name:</p>
<ol>
<li>remove the file locally</li>
<li>clone the whole repo again with the <code>--mirror</code> option</li>
<li>on the mirrored repo, run the cleaner: <code>bfg --delete-files &lt;FILENAME&gt;</code></li>
<li>run the git commands that appears at the end of the bfg output</li>
<li>run git push</li>
</ol>
<h2 id="git-filter-repo">Git filter-repo<a class="headerlink" href="#git-filter-repo" title="Permanent link">&para;</a></h2>
<p>The git filter-repo can be installed using pip: <code>pip install git-filter-repo</code>.</p>
<p>To remove file by its path:</p>
<ol>
<li>run the command: <code>git filter-repo --invert-paths --force --dry-run --path &lt;PATH TO THE FILE TO BE REMOVED&gt;</code></li>
<li>inspect the changes in <code>.git/filter-repo</code> directory:<ul>
<li>Compare the files in KDiff3</li>
<li>To skip the lines  starting with <code>original-oid</code>, <ol>
<li>go to the file selection dialog</li>
<li>click Configure</li>
<li>to the line-matching preprocessor command, add: <code>sed 's/original-oid .*//'</code></li>
</ol>
</li>
</ul>
</li>
<li>add remote again: <code>git remote add origin &lt;REPO SSH ADDRESS&gt;</code></li>
<li>force push the comman to the remote <code>git push origin --force --all</code><ul>
<li>If the push is rejected by the remote hook, the master branch is probably protected. It has to be unprotected first in the repository config. </li>
</ul>
</li>
</ol>
<p><a href="https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html">git filter-repo manual</a></p>
<p><a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository">More information on github</a></p>
<h2 id="filter-branch">filter-branch<a class="headerlink" href="#filter-branch" title="Permanent link">&para;</a></h2>
<pre><code>git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch &lt;FILE&gt;' --prune-empty --tag-name-filter cat -- --all
</code></pre>
<h1 id="merging">Merging<a class="headerlink" href="#merging" title="Permanent link">&para;</a></h1>
<p>Syntax:</p>
<pre><code>git merge &lt;params&gt; &lt;commit&gt;
</code></pre>
<p>Merge can be aborted at any time by calling <code>git merge --abort</code>. This resets the state of the repository.</p>
<h2 id="resolving-conflicts">Resolving Conflicts<a class="headerlink" href="#resolving-conflicts" title="Permanent link">&para;</a></h2>
<p>Sometimes, the same file is changed on the same line in both branches we are merging. This is called a conflict. In this case, the conflicting content is marked with conflict markers:</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
This is the content of the file in the current branch
=======
This is the content of the file in the branch we are merging
&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch-a
</code></pre>
<p>We can resolve the conflict manually by editing the file, but more often, we want to use a merge tool. To do that, we can call:</p>
<pre><code>git mergetool
</code></pre>
<p>The mergetool should be first configured, as the default one (vimdiff) is not very user friendly. To configure the mergetool, we edit the git configuration. The appropriate section is <code>mergetool</code>. It has a lot of options, but for typical mergetool, is enough to set the name, as the <code>mergetool</code> command for that specific merge tool is preconfigured in recent versions of git. Example of the <code>.gitconfig</code> file configured for KDiff3:</p>
<pre><code>...
[mergetool &quot;kdiff3&quot;]
...
</code></pre>
<p><a href="https://git-scm.com/docs/git-mergetool">More information on git mergetool</a></p>
<h3 id="debugging-mergetool">Debugging mergetool<a class="headerlink" href="#debugging-mergetool" title="Permanent link">&para;</a></h3>
<p>Sometimes, this error can occur after calling <code>git mergetool</code>:</p>
<pre><code>git-mergetool--lib &quot;command not found&quot;
</code></pre>
<p>This means that the mergetool is misconfigured. Inspect the <code>mergetool</code> section in the <code>.gitconfig</code> file to find the error.</p>
<h2 id="merging-moved-files">Merging Moved Files<a class="headerlink" href="#merging-moved-files" title="Permanent link">&para;</a></h2>
<p>Sometimes, it's necessary to tweak the command to help it locate the moved files. What can help:</p>
<ul>
<li><code>-X rename-threshold=25</code>: Changing the threshold is important for languages that changes the file content when moving it with automatic refactoring (especially important for Java files, which usually have tons of imports)</li>
<li><code>-X ignore-space-change</code></li>
</ul>
<h2 id="revert-merge">Revert merge<a class="headerlink" href="#revert-merge" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">git revert -m 1
</code></pre>
<p>Note that when the merge is reverted, the changes cannot be merged again, because they predates the revert!</p>
<h1 id="update">Update<a class="headerlink" href="#update" title="Permanent link">&para;</a></h1>
<p>On windows, run: <code>git update-git-for-windows</code></p>
<h1 id="pull-requests">Pull Requests<a class="headerlink" href="#pull-requests" title="Permanent link">&para;</a></h1>
<p>Pull requests are a way to propose changes to the repository. The principle is as follows:</p>
<ol>
<li>Create a branch for the changes</li>
<li>Commit the changes to the branch and push it to the remote</li>
<li>Create a pull request on the remote, that suggest to merge the branch into the master branch</li>
</ol>
<p>There are two possible scenarios:</p>
<ul>
<li>We have the permission to create a branch in the repository: in this case, we can create the branch directly on the remote</li>
<li>We do not have the permission to create a branch in the repository: in this case, we have to:<ol>
<li>Fork the repository</li>
<li>Clone the fork</li>
<li>Create the branch locally in the fork</li>
<li>Commit and push the changes to the fork</li>
<li>Create a pull request from the fork to the original repository</li>
</ol>
</li>
</ul>
<h2 id="update-pull-request">Update pull request<a class="headerlink" href="#update-pull-request" title="Permanent link">&para;</a></h2>
<p>If there are changes requested by the reviewer or we just forgot to add something, we can update the pull request by pushing the updates to the PR branch. The pull request will be automatically updated.</p>
<h1 id="showing-the-state-in-the-command-line">Showing the state in the command line<a class="headerlink" href="#showing-the-state-in-the-command-line" title="Permanent link">&para;</a></h1>
<p>Mostly, we use GUI tools to show the state of the repository. However, sometimes we may need to show the state in the command line. The following commands can be useful:</p>
<ul>
<li><code>git status</code>: shows the state of the repository</li>
<li><code>git log</code>: shows the history of the repository</li>
<li><code>git diff</code>: shows the changes between the working tree and the index</li>
</ul>
<h2 id="git-log"><code>git log</code><a class="headerlink" href="#git-log" title="Permanent link">&para;</a></h2>
<p>The <code>git log</code> shows the history of the repository. It is the analogue of the main view in GitExtensions. The most useful parameters are:</p>
<ul>
<li><code>--oneline</code>: shows the history in a compact form</li>
<li><code>--graph</code>: shows the history as a graph</li>
<li><code>--all</code>: shows the history of all branches, not only the current one</li>
<li><code>--decorate</code>: shows the names of the branches and tags, not only the commit hashes</li>
</ul>
<h1 id="github">GitHub<a class="headerlink" href="#github" title="Permanent link">&para;</a></h1>
<h2 id="creating-a-github-release">Creating a GitHub Release<a class="headerlink" href="#creating-a-github-release" title="Permanent link">&para;</a></h2>
<p>To create a release:</p>
<ol>
<li>In the repository, under the <code>Releases</code> heading, click <code>Create a new release</code></li>
<li>Click on the <code>Choose a tag</code> dropdown</li>
<li>Select an existing tag or create a new one by filling the text field with the tag name and clicking <code>Create new tag</code> button</li>
<li>Fill the <code>Release title</code> and <code>Description</code> fields</li>
<li>Click <code>Publish release</code></li>
</ol>
<h2 id="github-cli">GitHub CLI<a class="headerlink" href="#github-cli" title="Permanent link">&para;</a></h2>
<p>Github has a CLI tool that can be used to interact with the repository. The tool can be installed from the <a href="https://cli.github.com/">GitHub CLI page</a>. The main command is <code>gh</code>.</p>
<p>Typically, we need to authenticate the tool first by calling <a href="https://cli.github.com/manual/gh_auth_login"><code>gh auth login</code></a>. There are two options for authentication:</p>
<ul>
<li>browser authentication (default)</li>
<li>token authentication: suitable for automation<ul>
<li>only the old token type can be used, the fine-grained tokens are not supported yet</li>
</ul>
</li>
</ul>
<h3 id="token-authentication">Token Authentication<a class="headerlink" href="#token-authentication" title="Permanent link">&para;</a></h3>
<p>To authenticate using a token, we first need to create a token:</p>
<ol>
<li>Go to <code>Settings</code> -&gt; <code>Developer settings</code> -&gt; <code>Personal access tokens</code></li>
<li>Click <code>Tokens (classic)</code></li>
<li>Click <code>Generate new token</code> -&gt; <code>Generate new token (classic)</code></li>
<li>Fill the token description and select the scopes</li>
<li>Click <code>Generate token</code></li>
</ol>
<p>Then we can authenticate using the token. We can either</p>
<ul>
<li>suply the token to the <code>gh auth login</code> command:
    <code>PowerShell
    gh auth login -h github.com -p ssh --skip-ssh-key --with-token &lt;TOKEN&gt;</code></li>
<li>or set the environment variable <code>GH_TOKEN</code> to the token value and call commands without authentication.</li>
</ul>
<h3 id="managing-realeases">Managing realeases<a class="headerlink" href="#managing-realeases" title="Permanent link">&para;</a></h3>
<p>Required permissions:</p>
<ul>
<li><code>public_repo</code> if the repository is public</li>
<li><code>repo</code> if the repository is private</li>
</ul>
<p>To <strong>create</strong> a release, we can the <a href="https://cli.github.com/manual/gh_release_create"><code>gh release create</code></a> command:</p>
<pre><code class="language-PowerShell">gh release create &lt;TAG&gt; --repo &lt;REPO&gt; --title &lt;TITLE&gt; --generate-notes
</code></pre>
<p>Here, the <code>&lt;REPO&gt;</code> is the full url of the repository, e.g. <code>git@github.com:F-I-D-O/Future-Config.git</code></p>
<p>To <strong>delete</strong> a release, we can call the <a href="https://cli.github.com/manual/gh_release_delete"><code>gh release delete</code></a> command:</p>
<pre><code class="language-PowerShell">gh release delete &lt;TAG&gt; --repo &lt;REPO&gt; --cleanup-tag -y
</code></pre>
<h2 id="repository-migration">Repository Migration<a class="headerlink" href="#repository-migration" title="Permanent link">&para;</a></h2>
<p>https://github.com/piceaTech/node-gitlab-2-github</p>
<h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h1>
<h2 id="gui-tools-show-no-history-git-log-results-in-errors">GUI tools show no history, git log results in errors<a class="headerlink" href="#gui-tools-show-no-history-git-log-results-in-errors" title="Permanent link">&para;</a></h2>
<p>This may be due to broken refs in <code>.git/refs/</code>. Possible errors:</p>
<ul>
<li><code>your current branch appears to be broken</code> -&gt; the checked out branch is broken</li>
<li><code>fatal: bad object: &lt;ref&gt;</code> -&gt; the ref is broken</li>
</ul>
<p>To fix the issue, we can copy the refs from the <code>.git/logs/refs/</code>:</p>
<ol>
<li>find the broken file in <code>.git/refs/</code></li>
<li>find the corresponding file in <code>.git/logs/refs/</code></li>
<li>copy the hash from the last line, second column and write it to the broken file</li>
</ol></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
