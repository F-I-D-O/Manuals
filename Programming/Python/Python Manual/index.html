<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Python Manual - Manuals</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../../../extra.css" rel="stylesheet">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Programming <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../C%2B%2B/C%20Manual/" class="dropdown-item">C Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Debugging%20and%20Profiling/" class="dropdown-item">C++ Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Manual/" class="dropdown-item">C++ Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../../C%2B%2B/CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/Google%20Test/" class="dropdown-item">Google Test</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cloud computing</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Cloud%20computing/Lmod/" class="dropdown-item">Lmod</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/RCI%20cluster/" class="dropdown-item">RCI cluster</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/Slurm/" class="dropdown-item">Slurm</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Database</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Database/Database%20Workflow/" class="dropdown-item">Database Workflow</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Debugging%20and%20Profiling/" class="dropdown-item">PostgreSQL Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Manual/" class="dropdown-item">PostgreSQL Manual</a>
</li>
            
<li>
    <a href="../../Database/SQL%20Manual/" class="dropdown-item">SQL Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Java/Debugging%20Java/" class="dropdown-item">Debugging Java</a>
</li>
            
<li>
    <a href="../../Java/Jackson/" class="dropdown-item">Jackson</a>
</li>
            
<li>
    <a href="../../Java/Java%20Manual/" class="dropdown-item">Java Manual</a>
</li>
            
<li>
    <a href="../../Java/Java%20Workflow/" class="dropdown-item">Java Workflow</a>
</li>
            
<li>
    <a href="../../Java/Maven/" class="dropdown-item">Maven</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../Pandas%20Manual/" class="dropdown-item">Pandas Manual</a>
</li>
            
<li>
    <a href="../Plotly%20Manual/" class="dropdown-item">Plotly Manual</a>
</li>
            
<li>
    <a href="../Python%20Debugging/" class="dropdown-item">Python Debugging</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">Python Manual</a>
</li>
            
<li>
    <a href="../Python%20Workflow/" class="dropdown-item">Python Workflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Web/CSS%20Manual/" class="dropdown-item">CSS Manual</a>
</li>
            
<li>
    <a href="../../Web/css/" class="dropdown-item">css</a>
</li>
            
<li>
    <a href="../../Web/Google%20API%20and%20Apps%20Script/" class="dropdown-item">Google API and Apps Script</a>
</li>
            
<li>
    <a href="../../Web/htaccess/" class="dropdown-item">htaccess</a>
</li>
            
<li>
    <a href="../../Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../../Web/Jekyll/" class="dropdown-item">Jekyll</a>
</li>
            
<li>
    <a href="../../Web/mkdocs/" class="dropdown-item">mkdocs</a>
</li>
            
<li>
    <a href="../../Web/Selenium/" class="dropdown-item">Selenium</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../Common/" class="dropdown-item">Common</a>
</li>
                                    
<li>
    <a href="../../Git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../Gurobi/" class="dropdown-item">Gurobi</a>
</li>
                                    
<li>
    <a href="../../HDF/" class="dropdown-item">HDF</a>
</li>
                                    
<li>
    <a href="../../JSON/" class="dropdown-item">JSON</a>
</li>
                                    
<li>
    <a href="../../Native%20Libraries/" class="dropdown-item">Native Libraries</a>
</li>
                                    
<li>
    <a href="../../Perl/" class="dropdown-item">Perl</a>
</li>
                                    
<li>
    <a href="../../Regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../../Ruby%20Workflow/" class="dropdown-item">Ruby Workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">LaTeX <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../LaTeX/Latex%20manual/" class="dropdown-item">Latex manual</a>
</li>
                                    
<li>
    <a href="../../../LaTeX/LaTeX%20workflow/" class="dropdown-item">LaTeX workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Linux <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Linux/Linux%20Manual/" class="dropdown-item">Linux Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Windows <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Windows/Excel%20Manual/" class="dropdown-item">Excel Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/PowerPoint/" class="dropdown-item">PowerPoint</a>
</li>
                                    
<li>
    <a href="../../../Windows/Powershell%20Manual/" class="dropdown-item">Powershell Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/VSCode/" class="dropdown-item">VSCode</a>
</li>
                                    
<li>
    <a href="../../../Windows/Windows%20Manual/" class="dropdown-item">Windows Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Audio & Video <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Audio%20%26%20Video/FFMpeg/" class="dropdown-item">FFMpeg</a>
</li>
                                    
<li>
    <a href="../../../Audio%20%26%20Video/VLC/" class="dropdown-item">VLC</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">GIS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../GIS/GIS%20formats/" class="dropdown-item">GIS formats</a>
</li>
                                    
<li>
    <a href="../../../GIS/Overpass%20Manual/" class="dropdown-item">Overpass Manual</a>
</li>
                                    
<li>
    <a href="../../../GIS/QGIS/" class="dropdown-item">QGIS</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Images <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Images/Midjourney/" class="dropdown-item">Midjourney</a>
</li>
                                    
<li>
    <a href="../../../Images/Photopea/" class="dropdown-item">Photopea</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../../Arxiv/" class="nav-link">Arxiv</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Google%20office%20apps/" class="nav-link">Google office apps</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Hardware%20Manual/" class="nav-link">Hardware Manual</a>
                            </li>
                            <li class="navitem">
                                <a href="../../.." class="nav-link">index</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Network/" class="nav-link">Network</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Security/" class="nav-link">Security</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../vscode/" class="nav-link">vscode</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Web%20Tricks/" class="nav-link">Web Tricks</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../XML/" class="nav-link">XML</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../YAML/" class="nav-link">YAML</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Zotero/" class="nav-link">Zotero</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../Python%20Debugging/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Python%20Workflow/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#basics" class="nav-link">Basics</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#variables" class="nav-link">Variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#conditions-and-boolean-context" class="nav-link">Conditions and boolean context</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#comparison-operators" class="nav-link">Comparison operators</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#automatic-conversion-to-bool" class="nav-link">Automatic conversion to bool</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#checking-the-type" class="nav-link">Checking the type</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#built-in-data-types" class="nav-link">Built-in data types</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#numbers" class="nav-link">Numbers</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#check-if-a-float-number-is-integer" class="nav-link">Check if a float number is integer</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#check-if-a-number-is-nan" class="nav-link">Check if a number is NaN</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#rounding" class="nav-link">Rounding</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#strings" class="nav-link">Strings</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#string-formatting" class="nav-link">String formatting</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#string-methods" class="nav-link">String methods</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#enumerations" class="nav-link">Enumerations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#collections-and-generators" class="nav-link">Collections and generators</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#generator" class="nav-link">Generator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#tuple" class="nav-link">Tuple</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#dictionary" class="nav-link">Dictionary</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#set" class="nav-link">Set</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#comprehensions" class="nav-link">Comprehensions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#sorting" class="nav-link">Sorting</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#complex-sorting-using-tuples" class="nav-link">Complex sorting using tuples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#slices" class="nav-link">Slices</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#copying-collections" class="nav-link">Copying collections</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#date-and-time" class="nav-link">Date and time</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#datetime-construction" class="nav-link">datetime construction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#accessing-the-parts-of-datetime" class="nav-link">Accessing the parts of datetime</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#intervals" class="nav-link">Intervals</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#converting-to-unix-timestamp" class="nav-link">Converting to Unix timestamp</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#named-tuples" class="nav-link">Named tuples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#functions" class="nav-link">Functions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#argument-unpacking" class="nav-link">Argument unpacking</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#string-formatting_1" class="nav-link">String formatting</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#classes" class="nav-link">Classes</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#constructor" class="nav-link">Constructor</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#check-if-an-object-contains-a-member" class="nav-link">Check if an object contains a member</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#constructor-overloading" class="nav-link">Constructor overloading</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#importing" class="nav-link">Importing</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#resolving-absolute-module-paths" class="nav-link">Resolving absolute module paths</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#resolving-relative-module-paths" class="nav-link">Resolving relative module paths</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#imports-in-tests" class="nav-link">Imports in tests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#exceptions" class="nav-link">Exceptions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#raising-exceptions" class="nav-link">Raising exceptions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#assertions" class="nav-link">Assertions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#filesystem" class="nav-link">Filesystem</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#path-editing" class="nav-link">Path editing</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#computing-relative-path" class="nav-link">Computing relative path</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#get-parent-directory" class="nav-link">Get parent directory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#absolute-and-canonical-path" class="nav-link">Absolute and canonical path</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#splitting-paths-and-working-with-path-parts" class="nav-link">Splitting paths and working with path parts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#changing-path-separators" class="nav-link">Changing path separators</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#using-as-the-home-directory-in-paths" class="nav-link">Using ~ as the home directory in paths</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#working-directory" class="nav-link">Working directory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#iterating-over-files" class="nav-link">Iterating over files</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#single-directory-iteration" class="nav-link">Single directory iteration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#recursive-iteration" class="nav-link">Recursive iteration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#iterate-only-directoriesfiles" class="nav-link">Iterate only directories/files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#use-more-complex-filters" class="nav-link">Use more complex filters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#get-the-path-to-the-current-script" class="nav-link">Get the path to the current script</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#checking-write-permissions-for-a-directory" class="nav-link">Checking write permissions for a directory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#creating-directories" class="nav-link">Creating directories</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#copying-files-and-directories" class="nav-link">Copying files and directories</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#deleting-files-and-directories" class="nav-link">Deleting files and directories</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#deleting-windows-read-only-files-ie-access-denied-error" class="nav-link">Deleting Windows read-only files (i.e. Access Denied error)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#working-with-temporary-files" class="nav-link">Working with temporary files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#io" class="nav-link">I/O</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#csv" class="nav-link">CSV</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#json" class="nav-link">JSON</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#custom-serialization" class="nav-link">Custom serialization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#hdf5" class="nav-link">HDF5</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#command-line-arguments" class="nav-link">Command line arguments</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#ini-files" class="nav-link">INI files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#logging" class="nav-link">Logging</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#type-hints" class="nav-link">Type hints</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#type-hints-in-loops" class="nav-link">Type hints in loops</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#circular-type-hints" class="nav-link">Circular type hints</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#common-type-hints" class="nav-link">Common type hints</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#language-types" class="nav-link">Language types</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#pandas-types" class="nav-link">Pandas types</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#calling-external-programs" class="nav-link">Calling external programs</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#subprocesspopen" class="nav-link">subprocess.Popen</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#loading-resources" class="nav-link">Loading resources</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#numpy" class="nav-link">Numpy</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#data-types" class="nav-link">Data types</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#date-and-time_1" class="nav-link">Date and time</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#initialization" class="nav-link">Initialization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sorting_1" class="nav-link">Sorting</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#export-to-csv" class="nav-link">Export to CSV</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#usefull-array-properties" class="nav-link">Usefull array properties:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#usefull-functions" class="nav-link">Usefull functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#regular-expressions" class="nav-link">Regular expressions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#lambda-functions" class="nav-link">Lambda functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#decorators" class="nav-link">Decorators</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#decorator-with-arguments" class="nav-link">Decorator with arguments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#singletons" class="nav-link">Singletons</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#module-level-variable" class="nav-link">Module-level variable</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#testing-with-pytest" class="nav-link">Testing with pytest</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#fixtures" class="nav-link">Fixtures</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mocking" class="nav-link">Mocking</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#capturing-output" class="nav-link">Capturing output</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#jupyter" class="nav-link">Jupyter</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#memory" class="nav-link">Memory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#reloding-modules-with-autoreload" class="nav-link">Reloding modules with autoreload</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#plotting" class="nav-link">Plotting</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#matplotlib" class="nav-link">Matplotlib</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#saving-figures" class="nav-link">Saving figures</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#docstrings" class="nav-link">Docstrings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#progress-bars" class="nav-link">Progress bars</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#tqdm-in-jupyter" class="nav-link">TQDM in Jupyter</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#postgresql" class="nav-link">PostgreSQL</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#psycopg2" class="nav-link">psycopg2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sqlalchemy" class="nav-link">SQLAlchemy</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#statements-with-parameters" class="nav-link">Statements with parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#executing-statements-without-transaction" class="nav-link">Executing statements without transaction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#getting-the-affected-rowcount" class="nav-link">Getting the affected rowcount</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#executing-multiple-statements-at-once" class="nav-link">Executing multiple statements at once</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#working-with-gis" class="nav-link">Working with GIS</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#geocoding" class="nav-link">Geocoding</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#complex-data-structures" class="nav-link">Complex data structures</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#kdtree" class="nav-link">KDTree</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#geometry" class="nav-link">Geometry</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#downloading-files" class="nav-link">Downloading files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="basics">Basics<a class="headerlink" href="#basics" title="Permanent link">&para;</a></h1>
<h2 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h2>
<p>To check if a local variable is defined, we can use the <code>locals</code> function:</p>
<pre><code class="language-Python">if 'my_variable' in locals():
    print('Variable exists')
</code></pre>
<h2 id="conditions-and-boolean-context">Conditions and boolean context<a class="headerlink" href="#conditions-and-boolean-context" title="Permanent link">&para;</a></h2>
<h3 id="comparison-operators">Comparison operators<a class="headerlink" href="#comparison-operators" title="Permanent link">&para;</a></h3>
<p>Python uses the standard set of comparison operators (<code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>).</p>
<p>They are functionally similar to C++ operators: they can be overloaded and the semantic meaning of <code>==</code> is equality, not identity (in contrast to Java).</p>
<h3 id="automatic-conversion-to-bool">Automatic conversion to <code>bool</code><a class="headerlink" href="#automatic-conversion-to-bool" title="Permanent link">&para;</a></h3>
<p>Unlike in other languages, any expression can be used in boolean context in python, as there are rules how to convert any type to <code>bool</code>. The following statement is valid, foor example:</p>
<pre><code class="language-Python">s = 'hello'
if s: 
    print(s)
</code></pre>
<p>The code above prints 'hello', as the variable <code>s</code> evaluates to <code>True</code>.</p>
<p>Any object in Python evaluates to <code>True</code>, with exeption of:</p>
<ul>
<li><code>False</code></li>
<li><code>None</code></li>
<li>numerically zero values (e.g., <code>0</code>, <code>0.0</code>)</li>
<li>standard library types that are empty (e.g., empty string, <code>list</code>, <code>dict</code>)</li>
</ul>
<p>The automatic conversion to bool in boolean context has some couner intuitive consequences. The following conditions are not equal:</p>
<pre><code class="language-Python">s = 'hello'

if s: # s evaluates to True

if s == True: # the result of s == True is False, then False evaluete to False
</code></pre>
<h2 id="checking-the-type">Checking the type<a class="headerlink" href="#checking-the-type" title="Permanent link">&para;</a></h2>
<p>To check the exact type:</p>
<pre><code class="language-python">if type(&lt;VAR&gt;) is &lt;TYPE&gt;:
# e.g.
if type(o) is str:
</code></pre>
<p>To check the type in the polymorphic way, including the subtypes:</p>
<pre><code class="language-Python">if isinstance(&lt;VAR&gt;, &lt;TYPE&gt;):
# e.g.
if isinstance(o, str):
</code></pre>
<h1 id="built-in-data-types">Built-in data types<a class="headerlink" href="#built-in-data-types" title="Permanent link">&para;</a></h1>
<h2 id="numbers">Numbers<a class="headerlink" href="#numbers" title="Permanent link">&para;</a></h2>
<p>Python has the following numeric types:</p>
<ul>
<li><code>int</code> - integer</li>
<li><code>float</code> - floating point number</li>
</ul>
<p>The <code>int</code> type is unlimited, i.e., it can represent any integer number. The <code>float</code> type is limited by the machine precision, i.e., it can represent only a finite number of real numbers.</p>
<h3 id="check-if-a-float-number-is-integer">Check if a float number is integer<a class="headerlink" href="#check-if-a-float-number-is-integer" title="Permanent link">&para;</a></h3>
<p>To check whether a float number is integer, we can use the <code>is_integer</code> function:</p>
<h3 id="check-if-a-number-is-nan">Check if a number is NaN<a class="headerlink" href="#check-if-a-number-is-nan" title="Permanent link">&para;</a></h3>
<p>To check whether a number is NaN, we can use the <code>math.isnan</code> function or the <code>numpyp.isnan</code> function:</p>
<h3 id="rounding">Rounding<a class="headerlink" href="#rounding" title="Permanent link">&para;</a></h3>
<p>To <strong>round</strong> a number, use the <code>round</code> function.</p>
<p>For <strong>rounding up</strong>, use the <code>math.ceil</code> function.</p>
<p>For <strong>rounding down</strong>, use the <code>math.floor</code> function.</p>
<h2 id="strings">Strings<a class="headerlink" href="#strings" title="Permanent link">&para;</a></h2>
<p>Strings in Python can be enclosed in single or double quotes (equivalent). The triple quotes can be used for multiline strings.</p>
<h3 id="string-formatting">String formatting<a class="headerlink" href="#string-formatting" title="Permanent link">&para;</a></h3>
<p>The string formatting can be done in several ways:</p>
<ul>
<li>using the <code>f</code> prefix to string literal: <code>f'{&lt;VAR&gt;}'</code></li>
<li>using the <code>format</code> method: <code>'{}'.format(&lt;VAR&gt;)</code></li>
</ul>
<p>Each variable can be formatted for that, Python has a <a href="https://docs.python.org/3/library/string.html#formatspec">string formatting mini language</a>. </p>
<p>The format is specified after the <code>:</code> character (e.g., <code>f'{47:4}'</code> set the width of the number 47 to 4 characters). Most of the format specifiers have default values, so we can omit them (e.g., <code>f'{47:4}'</code> is equivalent to <code>f'{47:4d}'</code>).</p>
<p>The following are the most common options:</p>
<p>To use the character <code>{</code> and <code>}</code> in the string, we have to escape them using double braces: <code>{{</code> and <code>}}</code>. </p>
<h3 id="string-methods">String methods<a class="headerlink" href="#string-methods" title="Permanent link">&para;</a></h3>
<ul>
<li><code>capitalize</code>: capitalize the first letter of the string</li>
<li><code>lower</code>: convert the string to lowercase</li>
<li><code>upper</code>: convert the string to uppercase</li>
<li><code>strip</code>: remove leading and trailing whitespaces</li>
<li><code>lstrip</code>: remove leading whitespaces</li>
<li><a href="https://docs.python.org/3/library/stdtypes.html#str.rstrip"><code>rstrip</code></a>: remove trailing whitespaces</li>
</ul>
<h2 id="enumerations">Enumerations<a class="headerlink" href="#enumerations" title="Permanent link">&para;</a></h2>
<p>For enumerations, we can use the <a href="https://docs.python.org/3/library/enum.html"><code>enum</code></a> module. The basic syntax is:</p>
<pre><code class="language-Python">from enum import Enum

class MyEnum(Enum):
    VALUE1 = 1
    VALUE2 = 2
</code></pre>
<h2 id="collections-and-generators">Collections and generators<a class="headerlink" href="#collections-and-generators" title="Permanent link">&para;</a></h2>
<p>Python has several built-in data structures, most notably <code>list</code>, <code>tuple</code>, <code>dict</code>, and <code>set</code>. These are less efficient then comparable structures in other languages, but they are very convenient to use.</p>
<p>Also, there is a special generator type. It does not store the data it is only a convinient way how to access data generated by some function.</p>
<h3 id="generator">Generator<a class="headerlink" href="#generator" title="Permanent link">&para;</a></h3>
<p><a href="https://wiki.python.org/moin/Generators">Python wiki</a></p>
<p>Generators are mostly used in the iteration, we can iterte them the same way as lists. </p>
<p>To get the first item of the generator, we can use the <code>next</code> function:</p>
<pre><code class="language-Python">g = (x for x in range(10))
first = next(g) # 0
</code></pre>
<p>To create a generator function (a function that returns a generator), we can use the <code>yield</code> keyword. The following function returns a generator that yields the numbers 1, 2, and 3:</p>
<pre><code class="language-Python">def gen():
    yield 1
    yield 2
    yield 3
</code></pre>
<p>The <strong>length</strong> of the generator is not known in advance, to get the length, we have to iterate the generator first, for example using <code>len(list(&lt;generator&gt;))</code></p>
<h3 id="tuple">Tuple<a class="headerlink" href="#tuple" title="Permanent link">&para;</a></h3>
<p>Tuples are meant to store a fixed sequence of values. They are immutable.</p>
<p>The <strong>tuple literal</strong> is a comma-separated list of values in round braces:</p>
<pre><code class="language-Python">t = (1, 2, 3)
</code></pre>
<h3 id="dictionary">Dictionary<a class="headerlink" href="#dictionary" title="Permanent link">&para;</a></h3>
<p><a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">Official Manual</a></p>
<p>Disctionaries are initialized using curly braces (<code>{}</code>) and the <code>:</code> operator:</p>
<pre><code class="language-Python">d = {
    'key1': 'value1',
    'key2': 'value2',
    ...
}
</code></pre>
<p>Two dictionaries can be merged using the <code>|</code> operator:</p>
<pre><code class="language-Python">d3 = d1 | d2 
</code></pre>
<h4 id="set">Set<a class="headerlink" href="#set" title="Permanent link">&para;</a></h4>
<p><a href="https://docs.python.org/3/library/stdtypes.html#set">Documentation</a></p>
<p>Sets are initialized using curly braces (<code>{}</code>) or the <code>set</code> function:</p>
<pre><code class="language-Python">s = {1, 2, 3}
s = set([1, 2, 3])
</code></pre>
<p>To <strong>add</strong> elements to the set, we use either the <a href="https://docs.python.org/3/library/stdtypes.html#frozenset.add"><code>add</code></a> for a single element or the <a href="https://docs.python.org/3/library/stdtypes.html#frozenset.update"><code>update</code></a> for multiple elements. In both cases, a union of the set and the new elements is computed, i.e., no exception is raised if an element is already in the set.</p>
<h3 id="comprehensions">Comprehensions<a class="headerlink" href="#comprehensions" title="Permanent link">&para;</a></h3>
<p>In addition to literals, Python has a convinient way of creating basic data structures: the comprehensions. The basic syntax is:</p>
<pre><code class="language-Python">&lt;struct var&gt; = 
    &lt;op. brace&gt; &lt;member var expr.&gt; for &lt;member var&gt; in &lt;iterable&gt;&lt;cl. brace&gt;
</code></pre>
<p>As for literals, we use square braces (<code>[]</code>) for lists, curly braces (<code>{}</code>) for sets, and curly braces with colons for dictionaries. In contrast, we get a generator expression when using round braces (<code>()</code>), not a tuple.</p>
<p>We can also use the <code>if</code> keyword to filter the elements:</p>
<pre><code class="language-Python">a = [it for it in range(10) if it % 2 == 0] # [0, 2, 4, 6, 8]
</code></pre>
<h3 id="sorting">Sorting<a class="headerlink" href="#sorting" title="Permanent link">&para;</a></h3>
<p><a href="https://docs.python.org/3/howto/sorting.html">Official Manual</a></p>
<p>For sorting, you can use the <code>sorted</code> function. </p>
<p>Instead of using comparators, Python has a different concept of <em>key functions</em> for custom sorting. The key function is a function that is applied to each element before sorting. For any expected object, the key function should return a value that can be compared.</p>
<h4 id="complex-sorting-using-tuples">Complex sorting using tuples<a class="headerlink" href="#complex-sorting-using-tuples" title="Permanent link">&para;</a></h4>
<p>If we need to apply some complex sorting, we can use tuples as the key function return value. The tuples have comparison operator defined, the implementation is as follows:</p>
<ul>
<li>elements are compared one by one</li>
<li>on first non-equal element, the comparison result is returned</li>
</ul>
<p>This way, we can implement a complex sorting that would normaly require several conditions by storing the condition results in the tuple.</p>
<h3 id="slices">Slices<a class="headerlink" href="#slices" title="Permanent link">&para;</a></h3>
<p>Many Python data structures support slicing: selecting a subset of elements. The syntax is:</p>
<pre><code class="language-Python">&lt;object&gt;[&lt;start&gt;:&lt;end&gt;:&lt;step&gt;]
</code></pre>
<p>The <code>start</code> and <code>end</code> are inclusive. </p>
<p>The <code>step</code> is optional and defaults to 1. The start is also optional and defaults to 0. </p>
<p>Instead of omitting the <code>start</code> and <code>end</code>, we can use the <code>None</code> keyword:</p>
<pre><code class="language-Python">a = [1, 2, 3, 4, 5]
a[None:3] # [1, 2, 3]
</code></pre>
<p>Sometimes, it is not possible to use the slice syntax:</p>
<ul>
<li>when we need to use a variable for the step or,</li>
<li>when the object use the slice syntax for something else, e.g., for selecting columns in a Pandas dataframe.</li>
</ul>
<p>In such cases, we can use the <code>slice</code> object:</p>
<pre><code class="language-Python">a[0:10:2] 
s = slice(0, 10, 2)
a[s] # equivalent
</code></pre>
<p>Here, the parameters can be ommited as well. We can select everything by using <code>slice(None)</code>, which is equivalent to <code>slice(None, None, None)</code>.</p>
<h3 id="copying-collections">Copying collections<a class="headerlink" href="#copying-collections" title="Permanent link">&para;</a></h3>
<p>If we copy a complex collection (e.g., a list of dictionaries), we typically want to create a deep copy so that the original collection is not modified. We can use the <code>copy</code> module for that:</p>
<pre><code class="language-Python">import copy

a = [{'a': 1}, {'b': 2}]
b = copy.deepcopy(a)
</code></pre>
<h2 id="date-and-time">Date and time<a class="headerlink" href="#date-and-time" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.python.org/3/library/datetime.html">Python documentation</a></p>
<p>The base object for date and time is <a href="https://docs.python.org/3/library/datetime.html#datetime-objects"><code>datetime</code></a></p>
<h3 id="datetime-construction"><code>datetime</code> construction<a class="headerlink" href="#datetime-construction" title="Permanent link">&para;</a></h3>
<p>The <code>datetime</code> object can be directly constructed from the parts:</p>
<pre><code class="language-python">from daterime import datetime

d = datetime(2022, 12, 20, 22, 30, 0) # 2022-12-20 22:30:00
</code></pre>
<p>The time part can be ommited.</p>
<p>We can load the datetime from string using the <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior"><code>strptime</code></a> function:</p>
<pre><code class="language-python">d = datetime.strptime('2022-05-20 18:00', '%Y-%m-%d %H:%M')
</code></pre>
<p>For all possible time formats, check the <a href="https://strftime.org/"><code>strftime</code> cheatsheet</a></p>
<h3 id="accessing-the-parts-of-datetime">Accessing the parts of <code>datetime</code><a class="headerlink" href="#accessing-the-parts-of-datetime" title="Permanent link">&para;</a></h3>
<p>The <code>datetime</code> object has the following attributes:</p>
<ul>
<li><code>year</code></li>
<li><code>month</code></li>
<li><code>day</code></li>
<li><code>hour</code></li>
<li><code>minute</code></li>
<li><code>second</code></li>
</ul>
<p>We can also query the day of the week using the <code>weekday()</code> method. The day of the week is represented as an integer, where Monday is 0 and Sunday is 6.</p>
<h3 id="intervals">Intervals<a class="headerlink" href="#intervals" title="Permanent link">&para;</a></h3>
<p>There is also a dedicated object for time interval named <a href="https://docs.python.org/3/library/datetime.html#timedelta-objects"><code>timedelta</code></a>. It can be constructed from parts (seconds to days), all parts are optional.</p>
<p>We can obtain a timedelta by substracting a <code>datetime</code> from another <code>datetime</code>:</p>
<pre><code class="language-python">d1 = datetime.strptime('2022-05-20 18:00', '%Y-%m-%d %H:%M')
d2 = datetime.strptime('2022-05-20 18:30', '%Y-%m-%d %H:%M')
interval = d2 - d1 # 30 minutes
</code></pre>
<p>We can also add or substract a <code>timedelta</code> object from the <code>datetime</code> object:</p>
<pre><code class="language-python">d = datetime.strptime('2022-05-20 18:00', '%Y-%m-%d %H:%M')
interval = timedelta(hours=1)
d2 = d + interval # '2022-05-20 19:00'
</code></pre>
<h3 id="converting-to-unix-timestamp">Converting to Unix timestamp<a class="headerlink" href="#converting-to-unix-timestamp" title="Permanent link">&para;</a></h3>
<p>To convert a <code>datetime</code> object to unix timestamp, we can use the <code>timestamp</code> method. It returns the number of seconds since the epoch (1.1.1970 00:00:00). Note however, that <strong>the timestamp is computed based on the <code>datetime</code> object's timezone, or your local timezone if the <code>datetime</code> object has no timezone information.</strong></p>
<h2 id="named-tuples">Named tuples<a class="headerlink" href="#named-tuples" title="Permanent link">&para;</a></h2>
<p>Apart from the standard tuple, Python has a named tuple class that can be created using the <a href="https://docs.python.org/3/library/collections.html#collections.namedtuple"><code>collections.namedtuple</code></a> function. In named tuple, each member has a name and can be accessed using the dot operator:</p>
<pre><code class="language-Python">from collections import namedtuple

Point = namedtuple('Point', ['x', 'y'])
p = Point(1, 2)
print(p.x) # 1
</code></pre>
<h1 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h1>
<h2 id="argument-unpacking">Argument unpacking<a class="headerlink" href="#argument-unpacking" title="Permanent link">&para;</a></h2>
<p>if we need to conditionaly execute function with a different set of parameters (supposed the function has optional/default parameters), we can avoid multiple function calls inside the branching tree by using argument unpacking.</p>
<p>Suppose we have a function with three optional parameters: <code>a</code>, <code>b</code>, <code>c</code>.
If we skip only last <em>n</em> parameters, we can use a <code>list</code> for parameters and unpack it using <code>*</code>:</p>
<pre><code class="language-Python">def call_me(a, b, c):
    ...

l = ['param A', True]
call_me(*l) # calls the function with a = 'param A' and b = True
</code></pre>
<p>If we need to skip some parameters in the middle, we have to use a dict and unpack it using <code>**</code>:</p>
<pre><code class="language-python">d = {'c': 142}
call_me(**d) # calls the function with c = 142
</code></pre>
<h1 id="string-formatting_1">String formatting<a class="headerlink" href="#string-formatting_1" title="Permanent link">&para;</a></h1>
<p>To format python strings we can use the format function of the string or the equivalen fstring:</p>
<pre><code class="language-Python">a = 'world'
message = &quot;Hello {} world&quot;.format(a)
message = f&quot;Hello {a}&quot; # equivalent
</code></pre>
<p>If we need to a special formatting for a variable, we can specify it behind <code>:</code> as we can see in the following example that padds the number from left:</p>
<pre><code class="language-Python">uid = '47'
message = &quot;Hello user {:0&gt;4d}&quot;.format(a) # prints &quot;Hello user 0047&quot;
message = f&quot;Hello {a:0&gt;4d}&quot; # equivalent
</code></pre>
<p>More formating optios can be found in the <a href="https://mkaz.blog/code/python-string-format-cookbook/">Python string formatting cookbook</a>.</p>
<h1 id="classes">Classes<a class="headerlink" href="#classes" title="Permanent link">&para;</a></h1>
<p><a href="https://docs.python.org/3/tutorial/classes.html">Official Manual</a></p>
<p>Classes in Python are defined using the <code>class</code> keyword:</p>
<pre><code class="language-Python">class MyClass:
    ...
</code></pre>
<p>Unlike in other languages, we only declare the function members, other members are declared in the constructor or even later.</p>
<h2 id="constructor">Constructor<a class="headerlink" href="#constructor" title="Permanent link">&para;</a></h2>
<p>The constructor is a special function named <code>__init__</code>. Usually, non-function members are declared in the constructor:</p>
<pre><code class="language-Python">class MyClass:
    def __init__(self, a, b):
        self.a = a
        self.b = b
        self.c = 0
        self.d = None
</code></pre>
<h2 id="check-if-an-object-contains-a-member">Check if an object contains a member<a class="headerlink" href="#check-if-an-object-contains-a-member" title="Permanent link">&para;</a></h2>
<p>To check whether an object contains a member, we can use the <code>hasattr</code> function:</p>
<pre><code class="language-Python">if hasattr(obj, 'member'):
    ...
</code></pre>
<h3 id="constructor-overloading">Constructor overloading<a class="headerlink" href="#constructor-overloading" title="Permanent link">&para;</a></h3>
<p>Python does not support function overloading, including the constructor. That is unfortunate as default arguments are less powerfull mechanism. For other functions, we can supplement overloading using a function with a different name. However, for the constructor, we need to use a different approach.</p>
<p>The most clean way is to use a class method as a constructor. Example:</p>
<pre><code class="language-Python">class MyClass:
    def __init__(self, a, b = 0):
        self.a = a
        self.b = b
        self.c = 0
        self.d = None

    @classmethod
    def from_a(cls, b):
        return cls(0, b)
</code></pre>
<h1 id="importing">Importing<a class="headerlink" href="#importing" title="Permanent link">&para;</a></h1>
<p>In python, we can import whole modules as:</p>
<pre><code class="language-Python">import &lt;module&gt;
</code></pre>
<p>Also, we can import specific functions, classes, or variables from the module:</p>
<pre><code class="language-Python">from &lt;module&gt; import &lt;name&gt;
</code></pre>
<p>Note that when importing variable, we import the reference to the variable. Therefore, it will become out of sync with the original variable if the original variable is reassigned. Therefore, <strong>importing non-constant variables is not recommended.</strong></p>
<p>The module path can absolute or relative (starting with <code>.</code>). Absolute imports are recommended, as they are more robust and less error-prone.</p>
<h2 id="resolving-absolute-module-paths">Resolving absolute module paths<a class="headerlink" href="#resolving-absolute-module-paths" title="Permanent link">&para;</a></h2>
<p>If the path is absolute, it is resolved as follows:</p>
<ol>
<li>The already imported modules are searched</li>
<li>The built-in modules are searched</li>
<li>The module is searched in the <em>import path</em> which is a list of directories stored in the <code>sys.path</code> variable. The <code>sys.path</code> variable typically contains the following directories:<ul>
<li>the directory of the script that is executed (<code>''</code> in case of the interactive shell),</li>
<li>the directories in the <code>PYTHONPATH</code> environment variable,</li>
<li>the standard library directories (e.g., <code>/usr/lib/python3.9</code>), and</li>
<li>the site-packages directory.</li>
</ul>
</li>
</ol>
<h2 id="resolving-relative-module-paths">Resolving relative module paths<a class="headerlink" href="#resolving-relative-module-paths" title="Permanent link">&para;</a></h2>
<p>Relative imports can only be used in packages (directories with <code>__init__.py</code> file). The relative path may start with</p>
<ul>
<li><code>.</code>: relative to the current module,</li>
<li><code>..</code> relative to the parent module.</li>
</ul>
<h2 id="imports-in-tests">Imports in tests<a class="headerlink" href="#imports-in-tests" title="Permanent link">&para;</a></h2>
<p>The tests are located outside the main package, so we cannot use the absolute import starting with the package name. One option is to use relative imports. But a better option is to use absolute imports starting from the <em>project root</em>. We can do that, because test suites like <code>pytest</code> add the <em>project root</em> to the <code>sys.path</code> variable.</p>
<p>The project root is typically determined automatically by the test suite, e.g. by searching for the <code>setup.py</code> file. Therefore, if the <code>tests</code> directory is located in the same directory as the <code>setup.py</code> file, we can import as follows:</p>
<pre><code class="language-Python">import tests/common
</code></pre>
<h1 id="exceptions">Exceptions<a class="headerlink" href="#exceptions" title="Permanent link">&para;</a></h1>
<p><a href="https://docs.python.org/3/tutorial/errors.html">documentation</a></p>
<p>Syntax:</p>
<pre><code class="language-Python">try:
    &lt;code that can raise exception&gt;
except &lt;ERROR TYPE&gt; as &lt;ERROR VAR&gt;:
    &lt;ERROR HANDELING&gt;
finally:
    &lt;code that is executed always&gt;
</code></pre>
<p>The <code>except</code> and <code>finally</code> blocks are optional. In other words, we can handle errors without having any default cleanup code, and we can have cleanup code without handling errors.</p>
<h2 id="raising-exceptions">Raising exceptions<a class="headerlink" href="#raising-exceptions" title="Permanent link">&para;</a></h2>
<p>To raise an exception, we can use the <code>raise</code> keyword:</p>
<pre><code class="language-Python">raise ValueError('message')
</code></pre>
<p>Sometimes, we want just to re-raise an exception after some partial exception handling. In such cases, we can use the <code>raise</code> keyword without arguments:</p>
<pre><code class="language-Python">try:
    ...
except:
    ...
    raise
</code></pre>
<h1 id="assertions">Assertions<a class="headerlink" href="#assertions" title="Permanent link">&para;</a></h1>
<p>In Python, assertions are executed by defult. They can be disabled by running python with the <code>-O</code> or <code>-OO</code> flag.</p>
<p>The syntax is:</p>
<pre><code class="language-Python">assert &lt;condition&gt;, &lt;message&gt;
</code></pre>
<h1 id="filesystem">Filesystem<a class="headerlink" href="#filesystem" title="Permanent link">&para;</a></h1>
<p>There are three ways commonly used to work with filesystem in Python:</p>
<ul>
<li>manipulate paths as strings</li>
<li><a href="https://docs.python.org/3/library/os.path.html"><code>os.path</code></a></li>
<li><a href="https://docs.python.org/3/library/pathlib.html"><code>pathlib</code></a></li>
</ul>
<p>The folowing code compares both approaches for path concatenation:</p>
<pre><code class="language-Python"># string path concatenation
a = &quot;C:/workspace&quot;
b = &quot;project/file.txt&quot;
c = f&quot;{a}/{b}&quot;

# os.path concatenation
a = &quot;C:/workspace&quot;
b = &quot;project/file.txt&quot;
c = os.path.join(a, b)

# pathlib concatentation
a = Path(&quot;C:/workspace&quot;)
b = Path(&quot;project/file.txt&quot;)
c = a / b 
</code></pre>
<p>As the <code>pathlib</code> is the most modern approach, we will use it in the following examples. Appart from <code>pathlib</code> documentation, there is also a <a href="https://github.com/chris1610/pbpython/blob/master/extras/Pathlib-Cheatsheet.pdf">cheat sheet available on github</a>.</p>
<h2 id="path-editing">Path editing<a class="headerlink" href="#path-editing" title="Permanent link">&para;</a></h2>
<h3 id="computing-relative-path">Computing relative path<a class="headerlink" href="#computing-relative-path" title="Permanent link">&para;</a></h3>
<p>To prevent misetakes, it is better to compute relative paths beteen directories than to hard-code them. Fortunately, there are methods we can use for that.</p>
<p>If the desired relative path is a child of the start path, we can simply use the <code>relative_to</code> method of the Path object:</p>
<pre><code class="language-Python">a = Path(&quot;C:/workspace&quot;)
b = Path(&quot;C:/workspace/project/file.txt&quot;)
rel = b.relative_to(a) # rel = 'project/file.txt'
</code></pre>
<p>However, <strong>if we need to go back in the filetree, we need a more sophisticated method from <code>os.path</code></strong>:</p>
<pre><code class="language-Python">a = Path(&quot;C:/Users&quot;)
b = Path(&quot;C:/workspace/project/file.txt&quot;)
rel = os.path.relpath(a, b) # rel = '../Workspaces/project/file.txt'
</code></pre>
<h3 id="get-parent-directory">Get parent directory<a class="headerlink" href="#get-parent-directory" title="Permanent link">&para;</a></h3>
<p>We can use the <code>parent</code> property of the <code>Path</code> object:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project/file.txt&quot;)
parent = p.parent # 'C:\\workspace\\project'
</code></pre>
<h3 id="absolute-and-canonical-path">Absolute and canonical path<a class="headerlink" href="#absolute-and-canonical-path" title="Permanent link">&para;</a></h3>
<p>We can use the <code>absolute</code> method of the <code>Path</code> object to get the <em>absolute</em> path. To get the <em>canonical</em> path, we can use the <code>resolve</code> method.</p>
<h3 id="splitting-paths-and-working-with-path-parts">Splitting paths and working with path parts<a class="headerlink" href="#splitting-paths-and-working-with-path-parts" title="Permanent link">&para;</a></h3>
<p>To read the <strong>file extension</strong>, we can use the <code>suffix</code> property of the <code>Path</code> object. The property returns the extension <strong>with the dot</strong>.</p>
<p>To <strong>change the extension</strong>, we can use the <code>with_suffix</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project/file.txt&quot;)
p = p.with_suffix('.csv') # 'C:\\workspace\\project\\file.csv'
</code></pre>
<p>To <strong>remove the extension</strong>, just use the <code>with_suffix</code> method with an empty string.</p>
<p>We can split the path into parts using the <code>parts</code> property:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project/file.txt&quot;)
parts = p.parts # ('C:\\', 'workspace', 'project', 'file.txt')
</code></pre>
<p>To find the index of some specific part, we can use the <code>index</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project/file.txt&quot;)
index = p.parts.index('project') # 2
</code></pre>
<p>Later, we can use the index to manipulate the path:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project/file.txt&quot;)
index = p.parts.index('project') # 2
p = Path(*p.parts[:index]) # 'C:\\workspace'
</code></pre>
<h3 id="changing-path-separators">Changing path separators<a class="headerlink" href="#changing-path-separators" title="Permanent link">&para;</a></h3>
<p>To change the path separators to forward slashes, we can use the <code>as_posix</code> and 
method:</p>
<pre><code class="language-Python">p = Path(r&quot;C:\workspace\project\file.txt&quot;)
p = p.as_posix() # 'C:/workspace/project/file.txt'
</code></pre>
<h3 id="using-as-the-home-directory-in-paths">Using <code>~</code> as the home directory in paths<a class="headerlink" href="#using-as-the-home-directory-in-paths" title="Permanent link">&para;</a></h3>
<p>Normally, the <code>~</code> character is not recognized as the home directory in Python paths. To enable this, we can use the <code>expanduser</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;~/project/file.txt&quot;)
p = p.expanduser() # 'C:\\Users\\user\\project\\file.txt'
</code></pre>
<h2 id="working-directory">Working directory<a class="headerlink" href="#working-directory" title="Permanent link">&para;</a></h2>
<ul>
<li><code>os.getcwd()</code> - get the current working directory</li>
<li><code>os.chdir(&lt;path&gt;)</code> - set the current working directory</li>
</ul>
<h2 id="iterating-over-files">Iterating over files<a class="headerlink" href="#iterating-over-files" title="Permanent link">&para;</a></h2>
<p>The <code>pathlib</code> module provides a convenient way to iterate over files in a directory. The particular methods are:</p>
<ul>
<li><code>iterdir</code> - iterate all files and directories in a directory</li>
<li><code>glob</code> - iterate over files in a single directory, using a filter</li>
<li><code>rglob</code> - iterate over files in a directory and all its subdirectories, using a filter</li>
</ul>
<p>In general, the files will be sorted alphabetically. When we need a different order, we have to store the results in a list and sort it.</p>
<h3 id="single-directory-iteration">Single directory iteration<a class="headerlink" href="#single-directory-iteration" title="Permanent link">&para;</a></h3>
<p>Using pathlib, we can iterate over files using a filter with the <code>glob</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
for filepath in p.glob('*.txt') # iterate over all txt files in the project directory
</code></pre>
<p>The old way is to use the <code>os.listdir</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
for filename in os.listdir(p):
    if filename.endswith('.txt'):
        filepath = p / filename
</code></pre>
<h3 id="recursive-iteration">Recursive iteration<a class="headerlink" href="#recursive-iteration" title="Permanent link">&para;</a></h3>
<p>Using pathlib, we can iterate over files using a filter with the <code>rglob</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
for filepath in p.rglob('*.txt') # iterate over all txt files in the project directory and all its subdirectories
</code></pre>
<p>The old way is to use the <code>os.walk</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
for root, dirs, files in os.walk(p):
    for filename in files:
        if filename.endswith('.txt'):
            filepath = Path(root) / filename
</code></pre>
<h3 id="iterate-only-directoriesfiles">Iterate only directories/files<a class="headerlink" href="#iterate-only-directoriesfiles" title="Permanent link">&para;</a></h3>
<p>There is no specific filter for files/directories, but we can use the <code>is_file</code> or <code>is_dir</code> method to filter out directories:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
for filepath in p.glob('*'):
    if filepath.is_file():
        # do something
</code></pre>
<h3 id="use-more-complex-filters">Use more complex filters<a class="headerlink" href="#use-more-complex-filters" title="Permanent link">&para;</a></h3>
<p>Unfortunately, the <code>glob</code> and <code>rglob</code> methods do not support more complex filters (like regex). However, we can easily apply the regex filter manually:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
for filepath in p.glob('*'):
    if not re.match(r'^config.yaml$', filepath.name):
        # do something
</code></pre>
<h2 id="get-the-path-to-the-current-script">Get the path to the current script<a class="headerlink" href="#get-the-path-to-the-current-script" title="Permanent link">&para;</a></h2>
<pre><code class="language-Python">Path(__file__).resolve().parent
</code></pre>
<h2 id="checking-write-permissions-for-a-directory">Checking write permissions for a directory<a class="headerlink" href="#checking-write-permissions-for-a-directory" title="Permanent link">&para;</a></h2>
<p>Unfortunatelly, most of the methods for checking write permissions are not reliable outside Unix systems. The most reliable way is to try to create a file in the directory:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
try:
    with open(p / 'test.txt', 'w') as f:
        pass
    p.unlink()
    return True
except PermissionError:
    return False
except:
    raise # re-raise the exception
</code></pre>
<p>Other methods like <code>os.access</code> or using <code>tempfile</code> module are not reliable on Windows (see e.g.: https://github.com/python/cpython/issues/66305).</p>
<h2 id="creating-directories">Creating directories<a class="headerlink" href="#creating-directories" title="Permanent link">&para;</a></h2>
<p>To create a directory, we can use the <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.mkdir"><code>mkdir</code></a> method of the <code>Path</code> object:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
p.mkdir()
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>parents</code>: if set to <code>True</code>, the directory will be created even if the parent directories do not exist. Default is <code>False</code>.</li>
<li><code>exist_ok</code>: if set to <code>True</code>, the directory will not be created if it already exists. Default is <code>False</code>.</li>
</ul>
<h2 id="copying-files-and-directories">Copying files and directories<a class="headerlink" href="#copying-files-and-directories" title="Permanent link">&para;</a></h2>
<p>For copying files and directories, we can use the <code>shutil</code> module. The most used method is <code>copy2</code>, which copies the file with all metadata:</p>
<pre><code class="language-Python">import shutil

p1 = Path(&quot;C:/workspace/project/file.txt&quot;)
p2 = Path(&quot;C:/workspace/project/file2.txt&quot;)

shutil.copy2(p1, p2)
</code></pre>
<p>The <code>copy2</code> method can also copy into a directory:</p>
<pre><code class="language-Python">p1 = Path(&quot;C:/workspace/project/file.txt&quot;)
p2 = Path(&quot;C:/workspace/project2&quot;)

shutil.copy2(p1, p2) # the new file will be 'C:/workspace/project2/file.txt'
</code></pre>
<p>Other methods and the comparison are described in a <a href="https://stackoverflow.com/questions/123198/how-to-copy-files">SO question</a>.</p>
<h2 id="deleting-files-and-directories">Deleting files and directories<a class="headerlink" href="#deleting-files-and-directories" title="Permanent link">&para;</a></h2>
<p>To delete a file, we can use the <code>unlink</code> method of the <code>Path</code> object:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project/file.txt&quot;)
p.unlink()
</code></pre>
<p>for deleting directories, we can use the <code>rmdir</code> method:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
p.rmdir()
</code></pre>
<p>However, the <code>rmdir</code> method can delete only empty directories. To delete a directory with content, we can use the <code>shutil</code> module:</p>
<pre><code class="language-Python">p = Path(&quot;C:/workspace/project&quot;)
shutil.rmtree(p)
</code></pre>
<h3 id="deleting-windows-read-only-files-ie-access-denied-error">Deleting Windows read-only files (i.e. Access Denied error)<a class="headerlink" href="#deleting-windows-read-only-files-ie-access-denied-error" title="Permanent link">&para;</a></h3>
<p>On Windows, all the delete methods can fail because lot of files and directories are read-only. This is not a problem for most application, but it breaks Python delete methods. One way to solve this is to handle the error and change the attribute in the habdler. Example for shutil:</p>
<pre><code class="language-Python">import os
import stat
import shutil

p = Path(&quot;C:/workspace/project&quot;)
shutil.rmtree(p, onerror=lambda func, path, _: (os.chmod(path, stat.S_IWRITE), func(path)))
</code></pre>
<h2 id="working-with-temporary-files">Working with temporary files<a class="headerlink" href="#working-with-temporary-files" title="Permanent link">&para;</a></h2>
<p>The <a href="https://docs.python.org/3/library/tempfile.html"><code>tempfile</code></a> module provides a convenient way to work with temporary files. </p>
<p>To create a temporary file, we can use the <a href="https://docs.python.org/3/library/tempfile.html#tempfile.NamedTemporaryFile"><code>NamedTemporaryFile</code></a> function:</p>
<pre><code class="language-Python">import tempfile

with tempfile.NamedTemporaryFile() as f:
    f.write(&lt;data&gt;)
</code></pre>
<p>Unlike normal files, we can both read and write to the temporary file using a single file object. However, we must return the file pointer to the beginning of the file:</p>
<pre><code class="language-Python">with open('file.txt', 'rw') as f:
    f.write('data')
    f.seek(0)
    data = f.read()
</code></pre>
<h1 id="io">I/O<a class="headerlink" href="#io" title="Permanent link">&para;</a></h1>
<p>For simple file operations, we can use the <code>open</code> function. A simple file read is done as follows:</p>
<pre><code class="language-Python">with open('file.txt', 'r') as f:
    data = f.read()
</code></pre>
<p>A simple file write is done as follows:</p>
<pre><code class="language-Python">with open('file.txt', 'w') as f:
    f.write('data')
</code></pre>
<p>By default, the <code>open</code> function opens the file in text mode. To open the file in binary mode, we have to use the <code>b</code> flag:</p>
<pre><code class="language-Python">with open('file.txt', 'rb') as f:
    data = f.read()
</code></pre>
<h2 id="csv">CSV<a class="headerlink" href="#csv" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.python.org/3/library/csv.html">Official Manual</a></p>
<p>The <code>csv</code> module provides a Python interface for working with CSV files. The basic usage is:</p>
<pre><code class="language-Python">import csv

with open('file.csv', 'r') as f:
    reader = csv.reader(f)
    for row in reader:
        # do something
</code></pre>
<p>Reader parameters:</p>
<ul>
<li><code>delimiter</code> - the delimiter character</li>
</ul>
<h2 id="json">JSON<a class="headerlink" href="#json" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.python.org/3/library/json.html">Official Manual</a></p>
<p>TO read a JSON file:</p>
<pre><code class="language-Python">import json

with open('file.json', 'r') as f:
    data = json.load(f)
</code></pre>
<p>To write a JSON file:</p>
<pre><code class="language-Python">import json

data = {'a': 1, 'b': 2}

with open('file.json', 'w') as f:
    json.dump(data, f)
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>indent</code>: the number of spaces used for indentation. This also enables other pretty-printing functionalities, like newlines after each element.</li>
</ul>
<h3 id="custom-serialization">Custom serialization<a class="headerlink" href="#custom-serialization" title="Permanent link">&para;</a></h3>
<p>The <code>json</code> module can serialize only basic types. If we need to serialize custom objects, we have to provide a custom serialization class. We then supply the class to the <code>cls</code> parameter of the <code>dump</code> function.</p>
<p>The serialization class is usually a subclass of the <code>JSONEncoder</code> class. The class has to implement the <code>default</code> method, which is called for each object that cannot be serialized by the standard serialization methods. Example:</p>
<pre><code class="language-Python">import json

class MyEncoder(json.JSONEncoder):
    def default(self, obj):
        if isinstance(obj, MyCustomClass):
            return obj.to_json()
        return super().default(obj)
</code></pre>
<h2 id="hdf5">HDF5<a class="headerlink" href="#hdf5" title="Permanent link">&para;</a></h2>
<p>HDF5 is a binary file format for storing large amounts of data. The <code>h5py</code> module provides a Python interface for working with HDF5 files.</p>
<p><a href="https://stackoverflow.com/questions/28170623/how-to-read-hdf5-files-in-python">An example of reading a dataset from an HDF5 file on SO</a></p>
<h1 id="command-line-arguments">Command line arguments<a class="headerlink" href="#command-line-arguments" title="Permanent link">&para;</a></h1>
<p>The <code>sys</code> module provides access to the command line arguments. They are stored in the <code>argv</code> list with the first element being the name of the script.</p>
<h2 id="ini-files">INI files<a class="headerlink" href="#ini-files" title="Permanent link">&para;</a></h2>
<p>The <code>configparser</code> module provides a Python interface for working with <a href="https://en.wikipedia.org/wiki/INI_file">INI files</a>. The basic usage is:</p>
<pre><code class="language-Python">import configparser

config = configparser.ConfigParser()
config.read('file.ini')

value = config['section']['key']
</code></pre>
<p>If we do not have sections in the INI file, we have to:</p>
<ul>
<li>use the <code>allow_unnamed_section</code> argument of the ConfigParser:
    <code>Python
    config = configparser.ConfigParser(allow_unnamed_section=True)</code></li>
<li>use the <code>configparser.UNNAMED_SECTION</code> in place of the section name:
    <code>Python
    value = config[configparser.UNNAMED_SECTION]['key']</code></li>
</ul>
<h1 id="logging">Logging<a class="headerlink" href="#logging" title="Permanent link">&para;</a></h1>
<p><a href="https://docs.python.org/3/howto/logging.html">Official Manual</a></p>
<p>The logging itself is then done using the <code>logging</code> module methods:</p>
<pre><code class="language-Python">logging.info(&quot;message&quot;)
logging.warning(&quot;message %s&quot;, &quot;with parameter&quot;)
</code></pre>
<p>A simple logging configuration:</p>
<pre><code class="language-Python">logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s %(levelname)s %(message)s',
    handlers=[
        logging.FileHandler(&quot;log.txt&quot;),
        logging.StreamHandler()
    ]
)
</code></pre>
<p>Note that this configuration can be done only once. Therefore, it should not be done in a library as it prevents the user from configuring the logging.</p>
<p>To <strong>set the level</strong> for a specific logger, we use the <code>setLevel</code> method:
<code>logger.setLevel(logging.DEBUG)</code>. We can also use a string representation of the level, e.g., <code>logger.setLevel('DEBUG')</code>.</p>
<p>To <strong>check the level</strong> of the logger, we can use the <a href="https://docs.python.org/3/library/logging.html#logging.Logger.isEnabledFor"><code>isEnabledFor</code></a> method:</p>
<pre><code class="language-Python">if logger.isEnabledFor(logging.DEBUG):
    ...
</code></pre>
<p>This can be useful for avoiding expensive computations needed just for logging if the logging level is set to a higher level.</p>
<h1 id="type-hints">Type hints<a class="headerlink" href="#type-hints" title="Permanent link">&para;</a></h1>
<p><a href="https://docs.python.org/3/library/typing.html">Official Manual</a></p>
<p>Type hints are a useful way to help the IDE and other tools to understand the code so that they can provide better support (autocompletion, type checking, refactoring, etc.). The type hints are not enforced at runtime, so they do not affect the performance of the code.</p>
<p>We can specify the type of a variable using the <code>:</code> operator:</p>
<pre><code class="language-Python">a: int = 1
</code></pre>
<p>Apart from the basic types, we can also use the <code>typing</code> module to specify more complex types:</p>
<pre><code class="language-Python">from typing import List, Dict, Tuple, Set, Optional, Union, Any

a: List[int] = [1, 2, 3]
</code></pre>
<p>We can also specify the type of a function argument and return value:</p>
<pre><code class="language-Python">def foo(a: int, b: str) -&gt; List[int]:
    return [a, b]
</code></pre>
<h2 id="type-hints-in-loops">Type hints in loops<a class="headerlink" href="#type-hints-in-loops" title="Permanent link">&para;</a></h2>
<p>The type of the loop variable is usually inferred by IDE from the type of the iterable. However, this sometimes fails, e.g., for zip objects. In such cases, we need to specify the type of the loop variable. However, <strong>we cannot use the <code>:</code> directly in the loop, but instead, we have to declare the variable before the loop</strong>:</p>
<pre><code class="language-Python">for a: int in ... # error

a: int
for a in ... # ok
</code></pre>
<h2 id="circular-type-hints">Circular type hints<a class="headerlink" href="#circular-type-hints" title="Permanent link">&para;</a></h2>
<p>Unfortunately, Python currently does not support circular type hints. However, <a href="https://stackoverflow.com/questions/33533148/how-do-i-type-hint-a-method-with-the-type-of-the-enclosing-class">it should be possible to use circular type hints since Python 3.14</a>.</p>
<p>There are two types of circular type hints:</p>
<ul>
<li>we need to refer the type while defining it. For that, we use the <a href="https://docs.python.org/3/library/typing.html#typing.Self"><code>Self</code></a> type:
    <code>Python
    class MyClass:
        def get_me(self) -&gt; Self:
            return self</code></li>
<li>
<p>two or more types refer to each other. For that, use a string representation of the type:
    ```Python
    class ClassA:
        def <strong>init</strong>(self, b: 'ClassB'):
            self.b = b</p>
<p>class ClassB:
    def set_a(self, a: ClassA):
        self.a = a
```</p>
</li>
</ul>
<h2 id="common-type-hints">Common type hints<a class="headerlink" href="#common-type-hints" title="Permanent link">&para;</a></h2>
<h3 id="language-types">Language types<a class="headerlink" href="#language-types" title="Permanent link">&para;</a></h3>
<ul>
<li><code>None</code></li>
<li>Numeric types:<ul>
<li><code>int</code>,</li>
<li><code>float</code>,</li>
</ul>
</li>
<li><code>bool</code></li>
<li><code>str</code></li>
<li>Collection types:<ul>
<li><code>list</code>, or <code>List[&lt;type&gt;]</code>,</li>
<li><code>tuple</code>, or <code>Tuple[&lt;type&gt;, ...]</code>,</li>
<li><code>set</code>, or <code>Set[&lt;type&gt;]</code>,</li>
<li><code>dict</code>, or <code>Dict[&lt;key type&gt;, &lt;value type&gt;]</code>,</li>
</ul>
</li>
<li>Iterables:<ul>
<li><code>Iterable[&lt;type&gt;]</code> - any iterable</li>
<li><code>Sequence[&lt;type&gt;]</code> - iterable with random access (<code>[]</code> operator)</li>
</ul>
</li>
<li><code>Any</code> - any type</li>
<li><code>Union[&lt;type&gt;, ...]</code> - any of the specified types</li>
<li><code>Optional[&lt;type&gt;]</code> - the specified type or <code>None</code></li>
<li><code>Callable[[&lt;arg type&gt;, ...], &lt;return type&gt;]</code> - a function with specified arguments and return type</li>
</ul>
<h3 id="pandas-types">Pandas types<a class="headerlink" href="#pandas-types" title="Permanent link">&para;</a></h3>
<p>Pandas does not provide type hints. We can use the types itself, but this is only partially useful. We can use <code>Series</code> as a hint, but we cannot specify the inner type (e.g.: <code>Series[int]</code>). For that, we can use a wrapper library called <a href="https://pandera.readthedocs.io/"><code>pandera</code></a>:</p>
<pre><code class="language-Python">from pandera.typing import Series

a: Series[int]
</code></pre>
<p><a href="https://pandera.readthedocs.io/">Officiall documentation for Pandera data types</a></p>
<h1 id="calling-external-programs">Calling external programs<a class="headerlink" href="#calling-external-programs" title="Permanent link">&para;</a></h1>
<p>To call an external program, we use the <a href="https://docs.python.org/3/library/subprocess.html"><code>subprocess</code></a> module. Most of the time, we use the <a href="https://docs.python.org/3/library/subprocess.html#subprocess.run"><code>run</code></a> function:</p>
<pre><code class="language-Python">import subprocess

subprocess.run(['ls', '-l'])
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>check</code>: if set to <code>True</code>, the function raises an exception if the return code is not 0. Default is <code>False</code>.</li>
<li><code>text</code>, or <code>universal_newlines</code>: if set to <code>True</code>, the function returns the output as a string. Default is <code>None</code>.</li>
<li><code>env</code>: A dictionary with the environment variables. <ul>
<li>Note that the default environment obtained from the parent process is not extended, but replaced by the provided dictionary. Therefore, if we want to extend the environment, we have to initialize the dictionary with the parent environment:
    <code>Python
    env = os.environ.copy()</code></li>
</ul>
</li>
</ul>
<p>However, the <code>subprocess.run</code> method has some limitations. Notably, it cannot both capture and stream the output. To achieve this, and some other advanced features, we have to use the subprocess.Popen class.</p>
<h2 id="subprocesspopen"><code>subprocess.Popen</code><a class="headerlink" href="#subprocesspopen" title="Permanent link">&para;</a></h2>
<p>The <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen"><code>subprocess.Popen</code></a> class provides more control over the process. The basic usage is:</p>
<pre><code class="language-Python">p = subprocess.Popen(['ls', '-l']) # start the process

# now we can communicate with the process, stream the output, etc.

p.wait() # wait for the process to finish

# now we can get the return code, continue with the code, etc.
</code></pre>
<h1 id="loading-resources">Loading resources<a class="headerlink" href="#loading-resources" title="Permanent link">&para;</a></h1>
<p>Resources can be loaded using the <a href="https://docs.python.org/3/library/importlib.resources.html"><code>importlib.resources</code></a> module. This way, we can handle files but also resources stored in an archive.</p>
<p>The basic usage is:</p>
<pre><code class="language-Python">import importlib.resources

file = importlib.resources.files('package').joinpath('file.txt')

# send the file to the function expecting a file-like object

my_function(importlib.resources.as_file(file))
</code></pre>
<h1 id="numpy">Numpy<a class="headerlink" href="#numpy" title="Permanent link">&para;</a></h1>
<h2 id="data-types">Data types<a class="headerlink" href="#data-types" title="Permanent link">&para;</a></h2>
<p><a href="https://pandas.pydata.org/docs/user_guide/basics.html#basics-dtypes">Documentation of basic data types</a></p>
<h3 id="date-and-time_1">Date and time<a class="headerlink" href="#date-and-time_1" title="Permanent link">&para;</a></h3>
<p><a href="https://numpy.org/doc/2.1/reference/arrays.datetime.html">Documentation</a></p>
<p>Numpy use the <code>datetime64</code> data type for date and time. This type has its internal resolution, which can be anyting from nanoseconds to years. The resolution is displayed in the type name, e.g., <code>datetime64[ns]</code> and it is determined</p>
<ul>
<li>automatically from the input data if dtype is not specified or specified as <code>datetime64</code> or </li>
<li>by the <code>dtype</code> parameter if specified as <code>datetime64[&lt;resolution&gt;]</code>.</li>
</ul>
<h2 id="initialization">Initialization<a class="headerlink" href="#initialization" title="Permanent link">&para;</a></h2>
<p>We can create the new array as:</p>
<ul>
<li>zero-filled: <code>np.zeros(&lt;shape&gt;, &lt;dtype&gt;)</code></li>
<li>ones-filled: <code>np.ones(&lt;shape&gt;, &lt;dtype&gt;)</code></li>
<li>empty: <code>np.empty(&lt;shape&gt;, &lt;dtype&gt;)</code></li>
<li>filled with a constant: <a href="https://numpy.org/doc/stable/reference/generated/numpy.full.html"><code>np.full(&lt;shape&gt;, &lt;value&gt;, &lt;dtype&gt;)</code></a></li>
</ul>
<h2 id="sorting_1">Sorting<a class="headerlink" href="#sorting_1" title="Permanent link">&para;</a></h2>
<p>for sorting, we use the <a href="https://numpy.org/doc/stable/reference/generated/numpy.sort.html"><code>sort</code></a> function.</p>
<p>There is no way how to set the sorting order, we have to use a trick for that:</p>
<pre><code class="language-Python">a = np.array([1, 2, 3, 4, 5])
a[::-1].sort() # sort in reverse order
</code></pre>
<h2 id="export-to-csv">Export to CSV<a class="headerlink" href="#export-to-csv" title="Permanent link">&para;</a></h2>
<p>To export the numpy array to CSV, we can use the <a href="https://numpy.org/doc/stable/reference/generated/numpy.savetxt.html"><code>savetxt</code></a> function:</p>
<pre><code class="language-Python">np.savetxt('file.csv', a, delimiter=',')
</code></pre>
<p>By default, the function saves values in the mathematical float format, even if the values are integers. To save the values as integers, we can use the <code>fmt</code> parameter:</p>
<pre><code class="language-Python">np.savetxt('file.csv', a, delimiter=',', fmt='%i')
</code></pre>
<h2 id="usefull-array-properties">Usefull array properties:<a class="headerlink" href="#usefull-array-properties" title="Permanent link">&para;</a></h2>
<ul>
<li><code>size</code>: number of array items<ul>
<li>unlike len, it counts all items in the mutli-dimensional array</li>
</ul>
</li>
<li><code>itemsize</code>: memory (bytes) needed to store one item in the array</li>
<li><code>nbytes</code>: array size in bytes. Should be equal to <code>size * itemsize</code> .</li>
</ul>
<h2 id="usefull-functions">Usefull functions<a class="headerlink" href="#usefull-functions" title="Permanent link">&para;</a></h2>
<h1 id="regular-expressions">Regular expressions<a class="headerlink" href="#regular-expressions" title="Permanent link">&para;</a></h1>
<p>In Python,  the regex patterns are not compiled by default. Therefore we can use strings to store them.</p>
<p>The basic syntax for regex search is:</p>
<pre><code class="language-Python">result = re.search(&lt;pattern&gt;, &lt;string&gt;)
if result: # pattern matches
    group = result.group(&lt;group index&gt;) # print the first group
</code></pre>
<p>The 0th group is the whole match, as usual.</p>
<p>To substitute the matched pattern, we can use the <code>sub</code> function:</p>
<pre><code class="language-Python">pattern = re.compile(r'(\d+)')
result = pattern.sub(r'[\1]', '123') # '[123]'
</code></pre>
<p>Sometimes, we need to use numbers around the group index. In such cases, we have to use the <code>\&lt;group index&gt;&lt;&lt;number&gt;&gt;</code> notation:</p>
<pre><code class="language-Python">pattern = re.compile(r'(\d+)')
result = pattern.sub(r'\g&lt;1&gt;2025', '123') # '1232025'
</code></pre>
<h1 id="lambda-functions">Lambda functions<a class="headerlink" href="#lambda-functions" title="Permanent link">&para;</a></h1>
<p>Lambda functions in python have the following syntax:</p>
<pre><code class="language-Python">lambda &lt;input parameters&gt;: &lt;return value&gt;
</code></pre>
<p>Example:</p>
<pre><code class="language-Python">f = lambda x: x**2
</code></pre>
<p>Only a single expression can be used in the lambda function, so we need standard functions for more complex logic (temporary variables, loops, etc.).</p>
<h1 id="decorators">Decorators<a class="headerlink" href="#decorators" title="Permanent link">&para;</a></h1>
<p>Decorators are a special type of function that can be used to modify other functions. </p>
<p>When we write an annotation with the name of a function above another function, the annotated function is <em>decorated</em>. It means that when we call the annotated function, a <em>wrapper</em> function is called instead. The wrapper function is the function returned by the <em>decorater</em>: the function with the same name as the annotation.</p>
<p>If we want to also keep the original function functionality, we have to pass the function to the decorator and call it inside the wrapper function. </p>
<p>In the following example, we create a dummy decorator that keeps the original function functionality:
Example:</p>
<pre><code class="language-Python">def decorator(func):
    def wrapper():
        result = func()
        return result
    return wrapper

@decorator
def my_func():
    # do something
    return result
</code></pre>
<h2 id="decorator-with-arguments">Decorator with arguments<a class="headerlink" href="#decorator-with-arguments" title="Permanent link">&para;</a></h2>
<p>If the original function has arguments, we have to pass them to the wrapper function. Example:</p>
<pre><code class="language-Python">def decorator(func):
    def wrapper(param_1, param_2):
        result = func(param_1, param_2)
        return result
    return wrapper

@decorator
def my_func(param_1, param_2):
    # do something
    return result
</code></pre>
<h1 id="singletons">Singletons<a class="headerlink" href="#singletons" title="Permanent link">&para;</a></h1>
<p><a href="https://stackoverflow.com/questions/6760685/what-is-the-best-way-of-implementing-singleton-in-python">SO question</a></p>
<p>There are several ways how to implement a singleton in Python. The most common are:</p>
<ul>
<li>using a module-level variable</li>
<li>using the <code>__new__</code> method in combination with a base class</li>
<li>use a metaclass</li>
<li>using a decorator</li>
</ul>
<h2 id="module-level-variable">Module-level variable<a class="headerlink" href="#module-level-variable" title="Permanent link">&para;</a></h2>
<p>The most simple way is to use a module-level variable. <strong>Note taht if the singleton has to be initialized from the outside, the initialization has to be done in a singleton method, not in the constructor!</strong></p>
<pre><code class="language-Python">class Singleton:
    def __init__(self):
        self.initialized = False

    def init(self, init_param):
        if not self.initialized:
            self.initialized = True
            # do the initialization

singleton = Singleton()

# initialization
singleton.init(init_param)
</code></pre>
<h1 id="testing-with-pytest">Testing with pytest<a class="headerlink" href="#testing-with-pytest" title="Permanent link">&para;</a></h1>
<p>Pytest is a simple testing framework for Python. It uses the <code>assert</code> statement for testing. The tests are defined in functions with the <code>test_</code> prefix.</p>
<h2 id="fixtures">Fixtures<a class="headerlink" href="#fixtures" title="Permanent link">&para;</a></h2>
<p>Fixtures are used to set up the environment for more than one test. If defined in the <code>conftest.py</code> file, they are available for all tests in the project.</p>
<p>Fixtures are defined using the <code>@pytest.fixture</code> decorator. The fixture can be used in the test function by passing the fixture name as an argument. The fixture has the following structure:</p>
<pre><code class="language-Python">@pytest.fixture
def my_fixture():
    # code for setting up the environment
    yield # the test is executed here
    # clean up code
</code></pre>
<h2 id="mocking">Mocking<a class="headerlink" href="#mocking" title="Permanent link">&para;</a></h2>
<p>For mocking, we can use the <code>pytest-mock</code> package. After installation, we can use the <code>mocker</code> fixture in any test function.</p>
<h2 id="capturing-output">Capturing output<a class="headerlink" href="#capturing-output" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.pytest.org/en/stable/how-to/capture-stdout-stderr.html">Documentation</a></p>
<p>To capture the output, we can use the <code>capsys</code> fixture:</p>
<pre><code class="language-Python">def test_output(capsys):
    print('hello')
    captured = capsys.readouterr()
    assert captured.out == 'hello\n'
</code></pre>
<p>Similarly, we can inspect the standard error output using the <code>captured.err</code> attribute.</p>
<h1 id="jupyter">Jupyter<a class="headerlink" href="#jupyter" title="Permanent link">&para;</a></h1>
<h2 id="memory">Memory<a class="headerlink" href="#memory" title="Permanent link">&para;</a></h2>
<p>Most of the time, when the memory allocated by the notebook is larger than expected, it is caused by some library objects (plots, tables...]). However sometimes, it can be forgotten user objects. To list all user objects, from the largest:</p>
<pre><code class="language-Python"># These are the usual ipython objects, including this one you are creating
ipython_vars = ['In', 'Out', 'exit', 'quit', 'get_ipython', 'ipython_vars']

# Get a sorted list of the objects and their sizes
sorted([(x, sys.getsizeof(globals().get(x))) for x in dir() if not x.startswith('_') and x not in sys.modules and x not in ipython_vars], key=lambda x: x[1], reverse=True)
</code></pre>
<h2 id="reloding-modules-with-autoreload">Reloding modules with autoreload<a class="headerlink" href="#reloding-modules-with-autoreload" title="Permanent link">&para;</a></h2>
<p>When modules are imported they are not reloaded unless the kernel is restarted. In python scripts, this does not matter, we just execute the script again. However, when working with notebooks , it may be inconvenient to reload the kernel and all necessary cells just because of a small change in the imported module. Instead, we can use the <a href="https://ipython.readthedocs.io/en/stable/config/extensions/autoreload.html"><code>autoreload</code> extension</a>.</p>
<p>First, we have to load the extension:</p>
<pre><code class="language-Python">%load_ext autoreload
</code></pre>
<p>Then, we configure the autoreload with <code>%autoreload &lt;mode&gt;</code>. The most common modes are:</p>
<ul>
<li><code>now</code> (default): reload all modules immediately (if not excluded by the <code>%aimport</code> magic)<ul>
<li>This is useful especially if the automatic reloading does not work as expected.</li>
</ul>
</li>
<li><code>0</code>, <code>off</code>: disable autoreload</li>
<li><code>1</code>, <code>explicit</code>: reload modules that were imported using the <code>%aimport</code> magic every time before executing the Python code</li>
<li><code>2</code>, <code>all</code>: reload all modules (except those excluded by <code>%aimport</code>) every time before executing the Python code</li>
<li><code>3</code>, <code>complete</code>: same as <code>2</code>, but also add any new objects in the module</li>
</ul>
<h1 id="plotting">Plotting<a class="headerlink" href="#plotting" title="Permanent link">&para;</a></h1>
<p>There are several libraries for plotting in Python. The most common are:</p>
<ul>
<li><code>matplotlib</code></li>
<li><code>plotly</code></li>
</ul>
<p>In the table below, we can see a comparison of the most common plotting libraries:
| Functionality | Matplotlib | Plotly |
| --- | --- | --- |
| real 3D plots | no | yes |
| detail legend styling (padding, round corners...) | yes | no |</p>
<h2 id="matplotlib">Matplotlib<a class="headerlink" href="#matplotlib" title="Permanent link">&para;</a></h2>
<p><a href="https://matplotlib.org/stable/contents.html">Official Manual</a></p>
<h3 id="saving-figures">Saving figures<a class="headerlink" href="#saving-figures" title="Permanent link">&para;</a></h3>
<p>To save a figure, we can use the <code>savefig</code> function. The <strong><code>savefig</code> function has to be called before the <code>show</code> function, otherwise the figure will be empty</strong>.</p>
<h1 id="docstrings">Docstrings<a class="headerlink" href="#docstrings" title="Permanent link">&para;</a></h1>
<p>For documenting Python code, we use docstrings, special comments soroudned by three quotation marks: <code>""" docstring """</code></p>
<p>Unlike in other languages, there are multiple styles for docstring content. The most common are:</p>
<ul>
<li><a href="https://epydoc.sourceforge.net/manual-epytext.html">Epytext</a>
    <code>Python
    """
    @param &lt;param name&gt;: &lt;param description&gt;
    @return: &lt;return description&gt;
    """</code></li>
<li><a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">Google</a>
    <code>Python
    """
    Args:
        &lt;param name&gt;: &lt;param description&gt;
    Returns:
        &lt;return description&gt;
    """</code></li>
<li><a href="https://numpydoc.readthedocs.io/en/latest/format.html">Numpy</a>
    <code>Python
    """
    Parameters
    ----------
    &lt;param name&gt; : &lt;param type&gt;
        &lt;param description&gt;
    Returns
    -------
    &lt;return type&gt;
        &lt;return description&gt;
    """</code></li>
<li><a href="https://docutils.sourceforge.io/docs/user/rst/quickref.html">reStructuredText</a>
    <code>Python
    """
    :param &lt;param name&gt;: &lt;param description&gt;
    :return: &lt;return description&gt;
    """</code></li>
</ul>
<h1 id="progress-bars">Progress bars<a class="headerlink" href="#progress-bars" title="Permanent link">&para;</a></h1>
<p>For displaying progress bars, we can use the <code>tqdm</code> library. It is very simple to use:</p>
<pre><code class="language-Python">from tqdm import tqdm
for i in tqdm(range(100)):
    ...
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>desc</code>: description of the progress bar</li>
</ul>
<h2 id="tqdm-in-jupyter">TQDM in Jupyter<a class="headerlink" href="#tqdm-in-jupyter" title="Permanent link">&para;</a></h2>
<p>When using <code>tqdm</code> in Jupyter, the basic progress bar may not work (it may print other logs repeatedly). In such cases, we can change the import to:</p>
<pre><code class="language-Python">from tqdm.notebook import tqdm
</code></pre>
<p>If the code can be called both from Jupyter and from console, we can use `autonotebook</p>
<h1 id="postgresql">PostgreSQL<a class="headerlink" href="#postgresql" title="Permanent link">&para;</a></h1>
<p>When working with PostgreSQL databases, we usually use either</p>
<ul>
<li>the <a href="https://www.psycopg.org/">psycopg2</a> adapter or,</li>
<li>the <a href="https://www.sqlalchemy.org/">sqlalchemy</a>.</li>
</ul>
<h2 id="psycopg2">psycopg2<a class="headerlink" href="#psycopg2" title="Permanent link">&para;</a></h2>
<p><a href="https://www.psycopg.org/docs/usage.html">documentation</a></p>
<p>To connect to a database:</p>
<pre><code class="language-Python">con = psycopg2.connect(&lt;connection string&gt;)
</code></pre>
<p>After running this code a new session is created in the database, this session is handeled by the <code>con</code> object.</p>
<p>The operation to the database is then done as follows:</p>
<ol>
<li>create a cursor object which represents a database transaction
    <code>Python
    cur = con.cursor()</code></li>
<li>execute any number of SQL commands
    <code>Python
    cur.execute(&lt;sql&gt;)</code></li>
<li>commit the transaction
    <code>Python
    con.commit()</code></li>
</ol>
<h2 id="sqlalchemy">SQLAlchemy<a class="headerlink" href="#sqlalchemy" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.sqlalchemy.org/en/20/core/connections.html">Connection documentation</a></p>
<p>SQLAlchemy works with engine objects that represent the application's connection to the database. The engine object is created using the <code>create_engine</code> function:</p>
<pre><code class="language-Python">from sqlalchemy import create_engine

engine = create_engine('postgresql://user:password@localhost:5432/dbname')
</code></pre>
<p>A simple <strong><code>SELECT</code></strong> query can be executed using using the following code:</p>
<pre><code class="language-Python">with engine.connect() as conneciton:
    result = conneciton.execute(&quot;SELECT * FROM table&quot;)
    ...
</code></pre>
<p>With modifying statements, the situation is more complicated as SQLAlchemy uses transactions by default. Therefore we need to commit the transaction. There are two ways how to do that:</p>
<ul>
<li>
<p>using the <code>commit</code> method of the connection object
    <code>Python
    with engine.connect() as conneciton:
        conneciton.execute("INSERT INTO table VALUES (1, 2, 3)")
        conneciton.commit()</code></p>
</li>
<li>
<p>creating a new block for the transaction using the <code>begin</code> method of the connection object
    <code>Python
    with engine.connect() as conneciton:
        with conneciton.begin():
            conneciton.execute("INSERT INTO table VALUES (1, 2, 3)")</code></p>
<ul>
<li>this option has also its shortcut: the <code>begin</code> method of the engine object
    <code>Python
    with engine.begin() as conneciton:
        conneciton.execute("INSERT INTO table VALUES (1, 2, 3)")</code></li>
</ul>
</li>
</ul>
<p>Note that <strong>the old <code>execute</code> method of the engine object is not available anymore</strong> in newer versions of SQLAlchemy. </p>
<h3 id="statements-with-parameters">Statements with parameters<a class="headerlink" href="#statements-with-parameters" title="Permanent link">&para;</a></h3>
<p>Sometimes it is desirable to use parameters in the SQL statements:</p>
<ul>
<li>it prevents SQL injection in case of user input,</li>
<li>the provided parameters are automatically escaped, so we don't have to worry <code>:</code> in the SQL statement.</li>
</ul>
<p>The syntax is:</p>
<pre><code class="language-Python">connection.execute(&quot;INSERT INTO table VALUES (:param1, :param2)&quot;, param1=1, param2=2)

# or

connection.execute(&quot;INSERT INTO table VALUES (:param1, :param2)&quot;, {'param1': 1, 'param2': 2})
</code></pre>
<h3 id="executing-statements-without-transaction">Executing statements without transaction<a class="headerlink" href="#executing-statements-without-transaction" title="Permanent link">&para;</a></h3>
<p>By default, sqlalchemy executes sql statements in a transaction. However, some statements (e.g., <code>CREATE DATABASE</code>) cannot be executed in a transaction. To execute such statements, we have to use the <code>execution_options</code> method:</p>
<pre><code class="language-Python">with sqlalchemy_engine.connect() as conn:
    conn.execution_options(isolation_level=&quot;AUTOCOMMIT&quot;)
    conn.execute(&quot;&lt;sql&gt;&quot;)
    conn.commit()
</code></pre>
<h3 id="getting-the-affected-rowcount">Getting the affected rowcount<a class="headerlink" href="#getting-the-affected-rowcount" title="Permanent link">&para;</a></h3>
<p>The result object returned by the <code>execute</code> method has the <code>rowcount</code> attribute that contains the number of affected rows.</p>
<h2 id="executing-multiple-statements-at-once">Executing multiple statements at once<a class="headerlink" href="#executing-multiple-statements-at-once" title="Permanent link">&para;</a></h2>
<p>To execute multiple statements at once, for example when executing a script, it is best to use the <code>execute</code> method of the psycopg2 connection object. Moreover, to safely handle errors, it is best to catch the exceptions and manually rollback the transaction in case of an error:</p>
<pre><code class="language-Python">conn = psycopg2.connect(&lt;connection string&gt;)
cursor = conn.cursor()
try:
    cursor.execute(&lt;sql&gt;)
    conn.commit()
except Exception as e:
    conn.rollback()
    raise e
finally:
    cursor.close()
    conn.close()
</code></pre>
<h1 id="working-with-gis">Working with GIS<a class="headerlink" href="#working-with-gis" title="Permanent link">&para;</a></h1>
<p>When working with gis data, we usually change the <code>pandas</code> library for its GIS extension called <a href="https://geopandas.org/en/stable/"><code>geopandas</code></a>.</p>
<p>For more, see the pandas manual.</p>
<h2 id="geocoding">Geocoding<a class="headerlink" href="#geocoding" title="Permanent link">&para;</a></h2>
<p>For geocoding, we can use the <a href="https://geocoder.readthedocs.io/">Geocoder</a> library. </p>
<h1 id="complex-data-structures">Complex data structures<a class="headerlink" href="#complex-data-structures" title="Permanent link">&para;</a></h1>
<h2 id="kdtree">KDTree<a class="headerlink" href="#kdtree" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.KDTree.html">documentation</a></p>
<p>KDTree can be found in the <code>scipy</code> library. </p>
<h1 id="geometry">Geometry<a class="headerlink" href="#geometry" title="Permanent link">&para;</a></h1>
<p>There are various libraries for working with geometry in Python:</p>
<ul>
<li><a href="https://scikit-spatial.readthedocs.io/en/stable/index.html"><code>scipy.spatial</code></a>: for basic geometry operations</li>
<li><a href="https://pypi.org/project/shapely/"><code>shapely</code></a></li>
<li><code>geopandas</code>: for gis data</li>
</ul>
<h1 id="downloading-files">Downloading files<a class="headerlink" href="#downloading-files" title="Permanent link">&para;</a></h1>
<p>To download files from the internet, we can use the <code>requests</code> library. The basic usage is:</p>
<pre><code class="language-Python">import requests

response = requests.get(&lt;url&gt;)

with open(&lt;filename&gt;, 'wb') as f:
    f.write(response.content)
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
