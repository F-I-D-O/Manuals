<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Python Workflow - Manuals</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../../../extra.css" rel="stylesheet">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Programming <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../C%2B%2B/C%20Manual/" class="dropdown-item">C Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Debugging%20and%20Profiling/" class="dropdown-item">C++ Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Manual/" class="dropdown-item">C++ Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../../C%2B%2B/CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/Google%20Test/" class="dropdown-item">Google Test</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cloud computing</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Cloud%20computing/Lmod/" class="dropdown-item">Lmod</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/RCI%20cluster/" class="dropdown-item">RCI cluster</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/Slurm/" class="dropdown-item">Slurm</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Database</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Database/Database%20Workflow/" class="dropdown-item">Database Workflow</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Debugging%20and%20Profiling/" class="dropdown-item">PostgreSQL Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Manual/" class="dropdown-item">PostgreSQL Manual</a>
</li>
            
<li>
    <a href="../../Database/SQL%20Manual/" class="dropdown-item">SQL Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Java/Debugging%20Java/" class="dropdown-item">Debugging Java</a>
</li>
            
<li>
    <a href="../../Java/Jackson/" class="dropdown-item">Jackson</a>
</li>
            
<li>
    <a href="../../Java/Java%20Manual/" class="dropdown-item">Java Manual</a>
</li>
            
<li>
    <a href="../../Java/Java%20Workflow/" class="dropdown-item">Java Workflow</a>
</li>
            
<li>
    <a href="../../Java/Maven/" class="dropdown-item">Maven</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../Pandas%20Manual/" class="dropdown-item">Pandas Manual</a>
</li>
            
<li>
    <a href="../Plotly%20Manual/" class="dropdown-item">Plotly Manual</a>
</li>
            
<li>
    <a href="../Python%20Debugging/" class="dropdown-item">Python Debugging</a>
</li>
            
<li>
    <a href="../Python%20Manual/" class="dropdown-item">Python Manual</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">Python Workflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Web/CSS%20Manual/" class="dropdown-item">CSS Manual</a>
</li>
            
<li>
    <a href="../../Web/css/" class="dropdown-item">css</a>
</li>
            
<li>
    <a href="../../Web/Google%20API%20and%20Apps%20Script/" class="dropdown-item">Google API and Apps Script</a>
</li>
            
<li>
    <a href="../../Web/htaccess/" class="dropdown-item">htaccess</a>
</li>
            
<li>
    <a href="../../Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../../Web/Jekyll/" class="dropdown-item">Jekyll</a>
</li>
            
<li>
    <a href="../../Web/mkdocs/" class="dropdown-item">mkdocs</a>
</li>
            
<li>
    <a href="../../Web/Selenium/" class="dropdown-item">Selenium</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../Common/" class="dropdown-item">Common</a>
</li>
                                    
<li>
    <a href="../../Git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../Gurobi/" class="dropdown-item">Gurobi</a>
</li>
                                    
<li>
    <a href="../../HDF/" class="dropdown-item">HDF</a>
</li>
                                    
<li>
    <a href="../../JSON/" class="dropdown-item">JSON</a>
</li>
                                    
<li>
    <a href="../../Native%20Libraries/" class="dropdown-item">Native Libraries</a>
</li>
                                    
<li>
    <a href="../../Perl/" class="dropdown-item">Perl</a>
</li>
                                    
<li>
    <a href="../../Regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../../Ruby%20Workflow/" class="dropdown-item">Ruby Workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">LaTeX <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../LaTeX/Latex%20manual/" class="dropdown-item">Latex manual</a>
</li>
                                    
<li>
    <a href="../../../LaTeX/LaTeX%20workflow/" class="dropdown-item">LaTeX workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Linux <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Linux/Linux%20Manual/" class="dropdown-item">Linux Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Windows <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Windows/Excel%20Manual/" class="dropdown-item">Excel Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/PowerPoint/" class="dropdown-item">PowerPoint</a>
</li>
                                    
<li>
    <a href="../../../Windows/Powershell%20Manual/" class="dropdown-item">Powershell Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/VSCode/" class="dropdown-item">VSCode</a>
</li>
                                    
<li>
    <a href="../../../Windows/Windows%20Manual/" class="dropdown-item">Windows Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Audio & Video <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Audio%20%26%20Video/FFMpeg/" class="dropdown-item">FFMpeg</a>
</li>
                                    
<li>
    <a href="../../../Audio%20%26%20Video/VLC/" class="dropdown-item">VLC</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">GIS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../GIS/GIS%20formats/" class="dropdown-item">GIS formats</a>
</li>
                                    
<li>
    <a href="../../../GIS/Overpass%20Manual/" class="dropdown-item">Overpass Manual</a>
</li>
                                    
<li>
    <a href="../../../GIS/QGIS/" class="dropdown-item">QGIS</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Images <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Images/Midjourney/" class="dropdown-item">Midjourney</a>
</li>
                                    
<li>
    <a href="../../../Images/Photopea/" class="dropdown-item">Photopea</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../../Arxiv/" class="nav-link">Arxiv</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Google%20office%20apps/" class="nav-link">Google office apps</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Hardware%20Manual/" class="nav-link">Hardware Manual</a>
                            </li>
                            <li class="navitem">
                                <a href="../../.." class="nav-link">index</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Network/" class="nav-link">Network</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Security/" class="nav-link">Security</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../vscode/" class="nav-link">vscode</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Web%20Tricks/" class="nav-link">Web Tricks</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../XML/" class="nav-link">XML</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../YAML/" class="nav-link">YAML</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Zotero/" class="nav-link">Zotero</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../Python%20Manual/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../Web/CSS%20Manual/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#dev-stack" class="nav-link">Dev Stack</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#python" class="nav-link">Python</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#command-line" class="nav-link">Command line</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#pip" class="nav-link">Pip</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#installing-packages" class="nav-link">Installing Packages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#uninstalling-packages" class="nav-link">Uninstalling packages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#troubleshooting-package-installation" class="nav-link">Troubleshooting package installation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#upgrading-pip" class="nav-link">Upgrading pip</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#local-packages" class="nav-link">Local packages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#ide" class="nav-link">IDE</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#pycharm" class="nav-link">Pycharm</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#configuration" class="nav-link">Configuration</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#settings-synchronization" class="nav-link">Settings synchronization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#do-not-run-scripts-in-python-console-by-default" class="nav-link">Do Not Run scripts in Python Console by Default</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#enable-progress-bars-in-output-console" class="nav-link">Enable Progress Bars in output console</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#setup-the-docstring-format" class="nav-link">Setup the Docstring format</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#project-configuration" class="nav-link">Project Configuration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#known-problems-solutions" class="nav-link">Known problems &amp; solutions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#non-deterministic-output-in-the-run-window" class="nav-link">Non deterministic output in the run window</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#pycharm-does-not-recognize-a-locally-installed-package" class="nav-link">Pycharm does not recognize a locally installed package</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#no-problems-found-in-the-code-of-a-single-project" class="nav-link">No problems found in the code of a single project</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#vs-code" class="nav-link">VS Code</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#formatting" class="nav-link">Formatting</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#project-structure" class="nav-link">Project Structure</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#jupyter" class="nav-link">Jupyter</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#jupyter-in-pycharm" class="nav-link">Jupyter in Pycharm</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#command-mode-shortcuts" class="nav-link">Command mode shortcuts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#web-browser-configuration" class="nav-link">Web Browser Configuration</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#install-extension-manager-with-basic-extensions" class="nav-link">Install Extension Manager with basic extensions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#debugging" class="nav-link">Debugging</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#testing" class="nav-link">Testing</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#pycharm-configuration" class="nav-link">Pycharm Configuration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#pytest" class="nav-link">Pytest</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#mixed-python-native-debugging" class="nav-link">Mixed Python-native debugging</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#python-native-debugger-in-visual-studio" class="nav-link">Python-native debugger in Visual Studio</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#known-issues" class="nav-link">Known issues</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#other-sources" class="nav-link">Other Sources</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#releasing-libraries-to-pypi" class="nav-link">Releasing libraries to PyPi</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#steps" class="nav-link">Steps</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#release" class="nav-link">Release</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="dev-stack">Dev Stack<a class="headerlink" href="#dev-stack" title="Permanent link">&para;</a></h1>
<p>I use the following stack:</p>
<ul>
<li>the latest Python, 64 bit</li>
<li>pip as the package manager</li>
<li>Pycharm IDE</li>
<li>pytest test suite</li>
<li>Visual Studio for deugging native code</li>
</ul>
<h1 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<p>Python should be installed from the <a href="https://www.python.org/">official web page</a>, not using any package manager. Steps:</p>
<ol>
<li>Dowload the 64-bit installer</li>
<li>Run the installer, choose advanced install<ul>
<li>Include the GUI tools (Tkinter, TK)</li>
<li>Includ    <code>*.py</code> launcher, but <strong>only if</strong> there is no newer python version installed. If this is checked and there is a newer vesrsion of Python installed, the setup will fail.</li>
<li>Include documentation</li>
<li>Check download debug symbols to enable native code debugging</li>
</ul>
</li>
</ol>
<p>The source code for python can be inspected on <a href="https://github.com/python/cpython">GitHub</a></p>
<h2 id="command-line">Command line<a class="headerlink" href="#command-line" title="Permanent link">&para;</a></h2>
<p>We execute python scripts from the command line as: <code>python &lt;path to the .py file&gt;</code>.</p>
<p>Parameters:</p>
<ul>
<li><code>-m</code> executes a module as a script, e.g. <code>python -m venv</code>. This is useful for executing scripts whithout knowing the path to the script.</li>
</ul>
<h1 id="pip">Pip<a class="headerlink" href="#pip" title="Permanent link">&para;</a></h1>
<h2 id="installing-packages">Installing Packages<a class="headerlink" href="#installing-packages" title="Permanent link">&para;</a></h2>
<p>Normal packages are installed using: pip install <code>&lt;package name&gt;</code>.</p>
<p>However, if a package uses a C/C++ backend and does not contain the compiled wheel on PyPy, this approach will fail on Windows. Instead, you have to download the wheel from <a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">the Chris Gohlke page</a> and install it: <code>pip install &lt;path to wheel&gt;</code>. Also, you have to install the dependencies mentioned on that page.</p>
<h2 id="uninstalling-packages">Uninstalling packages<a class="headerlink" href="#uninstalling-packages" title="Permanent link">&para;</a></h2>
<p>To uninstall a package, use <code>pip uninstall &lt;package name&gt;</code>.</p>
<p>There is no way how to uninstall more packages using some wildcard. To uninstall more packages efficiently (not one by one):</p>
<ol>
<li>create a file with the list of all installed packages: <code>pip freeze &gt; packages.txt</code></li>
<li>edit the file and remove all packages you want to keep</li>
<li>uninstall all packages from the file: <code>pip uninstall -r packages.txt -y</code></li>
</ol>
<h2 id="troubleshooting-package-installation">Troubleshooting package installation<a class="headerlink" href="#troubleshooting-package-installation" title="Permanent link">&para;</a></h2>
<p>If the installation fails, check the following:</p>
<ol>
<li>if you installed the package by name, check for the wheel on the Chris Golthke page.</li>
<li>if you installed the package from a wheel, check the notes/requirement info on Chris Golthke page</li>
<li>Check the log. Specifically, no building should appear there whatsoever. If a build starts, it means that some dependency that should be installed as a prebuild wheel is missing. Possible reasons:<ol>
<li>you forget to install the dependency, go back to step 2</li>
<li>the dependency version does not correspond with the version required by the package you are installing. Check the log for the required version.</li>
</ol>
</li>
</ol>
<h2 id="upgrading-pip">Upgrading pip<a class="headerlink" href="#upgrading-pip" title="Permanent link">&para;</a></h2>
<p>To upgrade pip, use <code>python -m pip install --upgrade pip</code>. Sometimes, this command end ith an error. There can be specific solutions to this, but what always seems to fix the pip is the <a href="https://bootstrap.pypa.io/get-pip.py">get-pip script</a>. Download the script and run it using <code>python get-pip.py</code>.</p>
<h2 id="local-packages">Local packages<a class="headerlink" href="#local-packages" title="Permanent link">&para;</a></h2>
<p>A useful method how to develop and test packages is to have them installed locally. This way, each change in the source code is immediately reflected in the package and also in the code that uses the package. To install a package locally, use <code>pip install -e &lt;path to the package&gt;</code>.</p>
<p>Note that the package needs to be properly initialized first, i.e.:</p>
<ul>
<li>at least one <code>__init__.py</code> file in the package root (optionally others in subpackages)</li>
<li>a <code>setup.py</code> file in the parent directory of the package root</li>
</ul>
<h1 id="ide">IDE<a class="headerlink" href="#ide" title="Permanent link">&para;</a></h1>
<h2 id="pycharm">Pycharm<a class="headerlink" href="#pycharm" title="Permanent link">&para;</a></h2>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<h4 id="settings-synchronization">Settings synchronization<a class="headerlink" href="#settings-synchronization" title="Permanent link">&para;</a></h4>
<p>Same as in IDEA:</p>
<ol>
<li>Log in into JetBrains Toolbox or to the App</li>
<li>Click on the gear icon on the top-right and choose Sync</li>
<li>Check all categories and click on pull settings from the cloud</li>
</ol>
<h4 id="do-not-run-scripts-in-python-console-by-default">Do Not Run scripts in Python Console by Default<a class="headerlink" href="#do-not-run-scripts-in-python-console-by-default" title="Permanent link">&para;</a></h4>
<p><code>Run configuration select box</code> -&gt; <code>Edit Configurations...</code> -&gt; <code>Edit configuration templates</code> -&gt; <code>Python</code> -&gt; uncheck the <code>Run with Python Console</code></p>
<h4 id="enable-progress-bars-in-output-console">Enable Progress Bars in output console<a class="headerlink" href="#enable-progress-bars-in-output-console" title="Permanent link">&para;</a></h4>
<p><code>Run configuration select box</code> -&gt; <code>Edit Configurations...</code> -&gt; Select the configuration -&gt; check the <code>Emulate terminal in output console</code></p>
<h4 id="setup-the-docstring-format">Setup the Docstring format<a class="headerlink" href="#setup-the-docstring-format" title="Permanent link">&para;</a></h4>
<p>In <code>Tools</code> -&gt; <code>Python Integrated Tools</code> -&gt; <code>Docstring format</code>.</p>
<h3 id="project-configuration">Project Configuration<a class="headerlink" href="#project-configuration" title="Permanent link">&para;</a></h3>
<ul>
<li>configure the correct test suite in <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Tools</code> -&gt; <code>Python Integrated Tools</code> -&gt; <code>testing</code></li>
</ul>
<h3 id="known-problems-solutions">Known problems &amp; solutions<a class="headerlink" href="#known-problems-solutions" title="Permanent link">&para;</a></h3>
<h4 id="non-deterministic-output-in-the-run-window">Non deterministic output in the run window<a class="headerlink" href="#non-deterministic-output-in-the-run-window" title="Permanent link">&para;</a></h4>
<p>Problem: It can happen that the output printing/logging can be reordered randomly (not matching the order of calls in the source, neither the system console output).
Solution: <code>Edit Configurations...</code> -&gt; select configuration for the script -&gt; check <code>Emulate terminal in output console</code>.</p>
<h4 id="pycharm-does-not-recognize-a-locally-installed-package">Pycharm does not recognize a locally installed package<a class="headerlink" href="#pycharm-does-not-recognize-a-locally-installed-package" title="Permanent link">&para;</a></h4>
<p>It can happen that a locally installed package (<code>-e</code>) is not recognized by Pycharm. If that happens, first try to incalidate the cache by</p>
<ol>
<li><code>File</code> -&gt; <code>Invalidate Caches...</code> </li>
<li>check <code>Clear file system cache and Local History</code> </li>
<li>click <code>Invalidate and Restart</code></li>
</ol>
<p>If this does not work, it can be solved by adding the path to the package to the interpreter paths:</p>
<ol>
<li><code>File</code> -&gt; <code>Settings</code> -&gt; <code>Project: &lt;project name&gt;</code> -&gt; <code>Python Interpreter</code></li>
<li>Click on the arrow next to the interpreter name and choose <code>Show All...</code></li>
<li>Click on the desired interpreter and click on the filetree icon on the top of the window</li>
<li>Add the path to the package to the list of paths</li>
</ol>
<h4 id="no-problems-found-in-the-code-of-a-single-project">No problems found in the code of a single project<a class="headerlink" href="#no-problems-found-in-the-code-of-a-single-project" title="Permanent link">&para;</a></h4>
<p>This can be due to a broken Idea settings. To fix:</p>
<ol>
<li>Close Pycharm</li>
<li>Move the <code>.idea</code> folder from the project directory to a backup location</li>
<li>Start Pycharm and open the project again</li>
</ol>
<h2 id="vs-code">VS Code<a class="headerlink" href="#vs-code" title="Permanent link">&para;</a></h2>
<h3 id="formatting">Formatting<a class="headerlink" href="#formatting" title="Permanent link">&para;</a></h3>
<p>For formatting, we can use the <a href="https://github.com/psf/black"><code>black</code></a> formatter. To install it:</p>
<ol>
<li><code>pip install black</code></li>
<li>install the <code>black</code> extension in VS Code</li>
</ol>
<h1 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">&para;</a></h1>
<p>A typical project structure is:</p>
<pre><code class="language-plaintext">&lt;project root&gt;/
├── src/
│  ├── &lt;package name&gt;
|      ├── __init__.py
|      ├── &lt;module files&gt;
|      ├── resources/
|      |   ├── &lt;resource files for main module&gt;
|      ├── &lt;submodule&gt;/
|          ├── __init__.py
|          ├── &lt;submodule files&gt;
|          ├── resources/
|              ├── &lt;resource files for submodule&gt;
├── tests/
│   ├── &lt;test files&gt;
|   ├── resources/
|       ├── &lt;resource files for tests&gt;
├── docs/
|   ├──&lt;documentation files&gt;
├── setup.py
├── README.md
</code></pre>
<p>Sometimes, we skip the <code>src</code> directory and put the package directly into the project root. This is typical for projects with a single package.</p>
<h1 id="jupyter">Jupyter<a class="headerlink" href="#jupyter" title="Permanent link">&para;</a></h1>
<p>Jupyter can be used both in Pycharm and in a web browser.</p>
<h2 id="jupyter-in-pycharm">Jupyter in Pycharm<a class="headerlink" href="#jupyter-in-pycharm" title="Permanent link">&para;</a></h2>
<p>The key for the effectivity of Jupyter in Pycharm is using the <em>command mode</em>. To enter the command mode, press <code>Esc</code>. To enter the edit mode, pres enter.</p>
<h3 id="command-mode-shortcuts">Command mode shortcuts<a class="headerlink" href="#command-mode-shortcuts" title="Permanent link">&para;</a></h3>
<ul>
<li><code>m</code>: change cell type to markdown</li>
<li><code>Ctrl</code> + <code>C</code>: copy cell</li>
<li><code>Ctrl</code> + <code>V</code>: paste cell</li>
<li><code>Ctrl</code> + <code>Shift</code> + <code>Up</code>: move cell up</li>
<li><code>Ctrl</code> + <code>Shift</code> + <code>Down</code>: move cell down</li>
</ul>
<p>Text mode shortcuts:</p>
<ul>
<li><code>Ctrl</code> + <code>Shift</code> + <code>-</code>: split cell on cursor position</li>
</ul>
<h2 id="web-browser-configuration">Web Browser Configuration<a class="headerlink" href="#web-browser-configuration" title="Permanent link">&para;</a></h2>
<h3 id="install-extension-manager-with-basic-extensions">Install Extension Manager with basic extensions<a class="headerlink" href="#install-extension-manager-with-basic-extensions" title="Permanent link">&para;</a></h3>
<p>Best use the <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">official installation guide</a>. The extensions then can be toggled on in the Nbextensions tab in the jupyter homepage. Be sure to unselect the <em>disable configuration for nbextensions without explicit compatibility (they may break your notebook environment, but can be useful to show for nbextension development)</em> checkbox, otherwise, all extensions will be disabled.</p>
<h1 id="debugging">Debugging<a class="headerlink" href="#debugging" title="Permanent link">&para;</a></h1>
<p>Pycharm contains a good debuger for python code. However, it cannot step into most standard library functions, as those are native, implemented in C/C++. For that, we need mixed python/native debugging.</p>
<h1 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h1>
<h2 id="pycharm-configuration">Pycharm Configuration<a class="headerlink" href="#pycharm-configuration" title="Permanent link">&para;</a></h2>
<p>By default, all exceptions are handled by test frameworks, and therefore, the debugger does not stop on them. To stop on exceptions in test, we need to edit the breakpoint configuration -&gt; <code>Activation policy</code> :</p>
<ul>
<li>check <code>On raise</code></li>
<li>check <code>Ignore library files</code></li>
</ul>
<h2 id="pytest">Pytest<a class="headerlink" href="#pytest" title="Permanent link">&para;</a></h2>
<p>To run pytest, simply go to the folder and run <code>pytest</code>. Arguments:</p>
<ul>
<li><code>-x</code>: stop on first failure</li>
</ul>
<p>For mocking, we need to install the <code>pytest-mock</code> package, otherwise we get an error <code>fixture 'mocker' not found</code>.</p>
<h1 id="mixed-python-native-debugging">Mixed Python-native debugging<a class="headerlink" href="#mixed-python-native-debugging" title="Permanent link">&para;</a></h1>
<p>In theory, there are two ways how to debug python native code:</p>
<ul>
<li>use a tool that can step from python to C++ (only Visual Studio offers this possibility AFAIK)</li>
<li>use two debuggers, start with a python debugger, and attach a native debugger to the python process. This way, the debuggers can be independent. However, one needs to put a breakpoint in the native code, and for that, we need to know the location of the code that will be executed from python (non-trivial for standard library)</li>
</ul>
<h2 id="python-native-debugger-in-visual-studio">Python-native debugger in Visual Studio<a class="headerlink" href="#python-native-debugger-in-visual-studio" title="Permanent link">&para;</a></h2>
<p>First check and install the requirements:</p>
<ul>
<li>Python 3.5-3.9, including debugging symbols<ul>
<li>Python 3.10 is not compatible yet</li>
</ul>
</li>
<li>in Visual Studio, a Python development component needs to be installed, including <em>Python native development tools</em></li>
</ul>
<p>Then, configure the Visual studio:</p>
<ul>
<li>Go to <code>Tools</code> -&gt; <code>Options</code> -&gt; <code>Python</code> -&gt; <code>Debugging</code> and check: <em>Enable debugging of the Python standard library</em>.</li>
</ul>
<p>Finally, create a new Python project (either clean, or from existing code) and configure it:</p>
<ul>
<li>use the interpreter directly, do not create a virtual environment</li>
<li>enable native code debugging:<ol>
<li>Go to project properties -&gt; <code>Debug</code></li>
<li>Check enable native code debugging</li>
</ol>
</li>
<li>use the <code>-i</code> flag to always see the debug console, even if the program ends without breaking<ol>
<li>Go to project properties -&gt; <code>Debug</code></li>
<li>Add the <code>-i</code> flag to the <code>Interpreter Arguments</code> field</li>
</ol>
</li>
</ul>
<h3 id="known-issues">Known issues<a class="headerlink" href="#known-issues" title="Permanent link">&para;</a></h3>
<p><em>The reference assemblies for .NETFramework,Version=v4.7.2 were not found.</em> -&gt; Install this component using the visual studio installer</p>
<h3 id="other-sources">Other Sources<a class="headerlink" href="#other-sources" title="Permanent link">&para;</a></h3>
<p><a href="https://docs.microsoft.com/en-us/visualstudio/python/debugging-mixed-mode-c-cpp-python-in-visual-studio?view=vs-2022">Microsoft official documentation</a>
<a href="https://github.com/microsoft/PTVS">Python tools for Visual Studio GitHub page</a></p>
<h1 id="releasing-libraries-to-pypi">Releasing libraries to PyPi<a class="headerlink" href="#releasing-libraries-to-pypi" title="Permanent link">&para;</a></h1>
<h2 id="steps">Steps<a class="headerlink" href="#steps" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="../../Common/#licenses">licensing</a></li>
<li>check that setup.py contains all requirements: <code>pipreqs</code></li>
<li>release</li>
<li>update the min version in dependencies</li>
</ol>
<h2 id="release">Release<a class="headerlink" href="#release" title="Permanent link">&para;</a></h2>
<ol>
<li>raise version in <code>setup.py</code></li>
<li>run <code>sdist</code><ul>
<li>in Pycharm: <code>Tools</code> -&gt; <code>Run setup.py task</code> -&gt; <code>sdist</code></li>
</ul>
</li>
<li>upload to pypi: <code>twine upload dist/*</code></li>
</ol></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
