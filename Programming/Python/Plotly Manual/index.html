<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Plotly Manual - Manuals</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../../extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Programming</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../C%2B%2B/C%20Manual/" class="dropdown-item">C Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Debugging%20and%20Profiling/" class="dropdown-item">C++ Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Manual/" class="dropdown-item">C++ Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../../C%2B%2B/CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
            
<li>
    <a href="../../C%2B%2B/Google%20Test/" class="dropdown-item">Google Test</a>
</li>
            
<li>
    <a href="../../C%2B%2B/vcpkg%20Manual/" class="dropdown-item">vcpkg Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cloud computing</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Cloud%20computing/Lmod/" class="dropdown-item">Lmod</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/RCI%20cluster/" class="dropdown-item">RCI cluster</a>
</li>
            
<li>
    <a href="../../Cloud%20computing/Slurm/" class="dropdown-item">Slurm</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Database</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Database/Database%20Workflow/" class="dropdown-item">Database Workflow</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Debugging%20and%20Profiling/" class="dropdown-item">PostgreSQL Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Database/PostgreSQL%20Manual/" class="dropdown-item">PostgreSQL Manual</a>
</li>
            
<li>
    <a href="../../Database/SQL%20Manual/" class="dropdown-item">SQL Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Java/Debugging%20Java/" class="dropdown-item">Debugging Java</a>
</li>
            
<li>
    <a href="../../Java/Jackson/" class="dropdown-item">Jackson</a>
</li>
            
<li>
    <a href="../../Java/Java%20Manual/" class="dropdown-item">Java Manual</a>
</li>
            
<li>
    <a href="../../Java/Java%20Workflow/" class="dropdown-item">Java Workflow</a>
</li>
            
<li>
    <a href="../../Java/Maven/" class="dropdown-item">Maven</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../Pandas%20Manual/" class="dropdown-item">Pandas Manual</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Plotly Manual</a>
</li>
            
<li>
    <a href="../Python%20Debugging%20and%20Profiling/" class="dropdown-item">Python Debugging and Profiling</a>
</li>
            
<li>
    <a href="../Python%20Manual/" class="dropdown-item">Python Manual</a>
</li>
            
<li>
    <a href="../Python%20Workflow/" class="dropdown-item">Python Workflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Web/CSS%20Manual/" class="dropdown-item">CSS Manual</a>
</li>
            
<li>
    <a href="../../Web/css/" class="dropdown-item">css</a>
</li>
            
<li>
    <a href="../../Web/Google%20API%20and%20Apps%20Script/" class="dropdown-item">Google API and Apps Script</a>
</li>
            
<li>
    <a href="../../Web/htaccess/" class="dropdown-item">htaccess</a>
</li>
            
<li>
    <a href="../../Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../../Web/Jekyll/" class="dropdown-item">Jekyll</a>
</li>
            
<li>
    <a href="../../Web/mkdocs/" class="dropdown-item">mkdocs</a>
</li>
            
<li>
    <a href="../../Web/Selenium/" class="dropdown-item">Selenium</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../Common/" class="dropdown-item">Common</a>
</li>
                                    
<li>
    <a href="../../Conda%20and%20Mamba/" class="dropdown-item">Conda and Mamba</a>
</li>
                                    
<li>
    <a href="../../Git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../Gurobi/" class="dropdown-item">Gurobi</a>
</li>
                                    
<li>
    <a href="../../HDF/" class="dropdown-item">HDF</a>
</li>
                                    
<li>
    <a href="../../JSON/" class="dropdown-item">JSON</a>
</li>
                                    
<li>
    <a href="../../Native%20Libraries/" class="dropdown-item">Native Libraries</a>
</li>
                                    
<li>
    <a href="../../Neural%20Networks/" class="dropdown-item">Neural Networks</a>
</li>
                                    
<li>
    <a href="../../Perl/" class="dropdown-item">Perl</a>
</li>
                                    
<li>
    <a href="../../Regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../../Ruby%20Workflow/" class="dropdown-item">Ruby Workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">LaTeX</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../LaTeX/Bibliography/" class="dropdown-item">Bibliography</a>
</li>
                                    
<li>
    <a href="../../../LaTeX/Latex%20manual/" class="dropdown-item">Latex manual</a>
</li>
                                    
<li>
    <a href="../../../LaTeX/LaTeX%20workflow/" class="dropdown-item">LaTeX workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Linux</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Linux/Bash%20Manual/" class="dropdown-item">Bash Manual</a>
</li>
                                    
<li>
    <a href="../../../Linux/Fedora/" class="dropdown-item">Fedora</a>
</li>
                                    
<li>
    <a href="../../../Linux/Linux%20Manual/" class="dropdown-item">Linux Manual</a>
</li>
                                    
<li>
    <a href="../../../Linux/Ubuntu/" class="dropdown-item">Ubuntu</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Windows</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Windows/Comand%20shell/" class="dropdown-item">Comand shell</a>
</li>
                                    
<li>
    <a href="../../../Windows/Excel%20Manual/" class="dropdown-item">Excel Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/PowerPoint/" class="dropdown-item">PowerPoint</a>
</li>
                                    
<li>
    <a href="../../../Windows/Powershell%20Manual/" class="dropdown-item">Powershell Manual</a>
</li>
                                    
<li>
    <a href="../../../Windows/Windows%20Manual/" class="dropdown-item">Windows Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">.cursor</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../.." class="dropdown-item">rules</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Audio & Video</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Audio%20%26%20Video/FFMpeg/" class="dropdown-item">FFMpeg</a>
</li>
                                    
<li>
    <a href="../../../Audio%20%26%20Video/VLC/" class="dropdown-item">VLC</a>
</li>
                                    
<li>
    <a href="../../../Audio%20%26%20Video/yt-dlp/" class="dropdown-item">yt-dlp</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">GIS</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../GIS/GIS%20formats/" class="dropdown-item">GIS formats</a>
</li>
                                    
<li>
    <a href="../../../GIS/OpenStreetMap/" class="dropdown-item">OpenStreetMap</a>
</li>
                                    
<li>
    <a href="../../../GIS/Overpass%20Manual/" class="dropdown-item">Overpass Manual</a>
</li>
                                    
<li>
    <a href="../../../GIS/QGIS/" class="dropdown-item">QGIS</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Images</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../Images/IrfanView/" class="dropdown-item">IrfanView</a>
</li>
                                    
<li>
    <a href="../../../Images/Midjourney/" class="dropdown-item">Midjourney</a>
</li>
                                    
<li>
    <a href="../../../Images/Photopea/" class="dropdown-item">Photopea</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Android/" class="nav-link">Android</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Arxiv/" class="nav-link">Arxiv</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Google%20office%20apps/" class="nav-link">Google office apps</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Hardware%20Manual/" class="nav-link">Hardware Manual</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">index</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Network/" class="nav-link">Network</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Security/" class="nav-link">Security</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../vscode/" class="nav-link">vscode</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Web%20Tricks/" class="nav-link">Web Tricks</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../XML/" class="nav-link">XML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../YAML/" class="nav-link">YAML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../Zotero/" class="nav-link">Zotero</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../Pandas%20Manual/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Python%20Debugging%20and%20Profiling/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#plotly-express" class="nav-link">Plotly Express</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#common-parameters-for-all-types-of-plots" class="nav-link">Common Parameters For All Types of Plots</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#automatic-color-assignment" class="nav-link">Automatic color assignment</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#histogram" class="nav-link">Histogram</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#plotly-histogram-limitations" class="nav-link">Plotly Histogram Limitations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bar-chart" class="nav-link">Bar Chart</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#why-bar-charts-with-a-lot-of-records-appear-transparent" class="nav-link">Why bar charts with a lot of records appear transparent?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#numerical-vs-categorical-color" class="nav-link">Numerical vs categorical color</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#scatter-plot" class="nav-link">Scatter Plot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#line-chart" class="nav-link">Line Chart</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#automatic-subplots-facet-plots" class="nav-link">Automatic Subplots: Facet plots</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#independent-axes-between-rows-and-columns" class="nav-link">Independent axes between rows and columns</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#sharing-the-axes-titles-between-rows-and-columns" class="nav-link">Sharing the axes titles between rows and columns</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#3d-scatter-plot" class="nav-link">3D Scatter Plot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#plotly-graph-objects" class="nav-link">Plotly Graph Objects</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#common-parameters-for-all-types-of-plots_1" class="nav-link">Common Parameters For All Types of Plots</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#legend" class="nav-link">Legend</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bar-chart_1" class="nav-link">Bar Chart</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#stacked-or-grouped-bars" class="nav-link">Stacked or grouped bars</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#line-and-scatter-plots" class="nav-link">Line and Scatter Plots</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#shapes" class="nav-link">Shapes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#create-subplots" class="nav-link">Create subplots</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#3d-plots" class="nav-link">3D plots</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#common-parameters" class="nav-link">Common Parameters</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="4"><a href="#setting-color-of-the-plots-with-continuous-color-scale" class="nav-link">Setting color of the plots with continuous color scale</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#3d-scatter-plot_1" class="nav-link">3D Scatter Plot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#surface-plots" class="nav-link">Surface Plots</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="4"><a href="#3d-surface-plot" class="nav-link">3D Surface Plot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="4"><a href="#3d-mesh-plot" class="nav-link">3D Mesh Plot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#cone-plots" class="nav-link">Cone Plots</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#customizing-the-figure" class="nav-link">Customizing the Figure</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#size-and-margins" class="nav-link">Size and margins</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#customize-axes" class="nav-link">Customize axes</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#drawing-borders-using-axes" class="nav-link">Drawing borders using axes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#customizing-datetime-axes" class="nav-link">Customizing datetime axes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#customizing-shared-axes" class="nav-link">Customizing shared axes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#3d-axes" class="nav-link">3d axes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#change-position-of-the-axis-title" class="nav-link">Change position of the axis title</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#legend_1" class="nav-link">Legend</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#hide-legend" class="nav-link">Hide legend</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#legend-items-order" class="nav-link">Legend items order</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#legend-position" class="nav-link">Legend position</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#legend-items-text" class="nav-link">Legend items text</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#figure-annotations" class="nav-link">Figure Annotations</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#setting-the-head-of-the-annotation" class="nav-link">Setting the head of the annotation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#setting-the-tail-of-the-annotation" class="nav-link">Setting the tail of the annotation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#configuring-the-arrow" class="nav-link">Configuring the arrow</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#configuring-the-text" class="nav-link">Configuring the text</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#positinoing-the-text-relative-to-the-arrow" class="nav-link">Positinoing the text relative to the arrow</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#other-important-parameters" class="nav-link">Other important parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#markers" class="nav-link">Markers</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#adding-a-marker-to-a-hard-coded-location" class="nav-link">Adding a marker to a hard-coded location</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#lines" class="nav-link">Lines</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#title" class="nav-link">Title</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#subplot-titles" class="nav-link">Subplot titles</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="4"><a href="#automatic-subplot-titles-facet-plots" class="nav-link">Automatic subplot titles (facet plots)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="4"><a href="#individual-subplot-titles" class="nav-link">Individual subplot titles</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#z-order-of-the-traces" class="nav-link">Z-Order of the Traces</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#other-layout-parameters-background-borders-etc" class="nav-link">Other Layout Parameters (background, borders, etc.)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#text" class="nav-link">Text</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#subscript-and-superscript" class="nav-link">Subscript and superscript</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bold-and-italic" class="nav-link">Bold and italic</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#math-symbols" class="nav-link">Math symbols</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#exporting-the-figure" class="nav-link">Exporting the Figure</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#troubleshooting" class="nav-link">Troubleshooting</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#export-hangs-out" class="nav-link">Export hangs out</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="3"><a href="#exported-size-does-not-match-the-figure-size" class="nav-link">Exported size does not match the figure size</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#colors" class="nav-link">Colors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p>In plotly, we have two options:</p>
<ul>
<li>plot quickly with plotly express</li>
<li>full control using graph objects</li>
</ul>
<p>Note that these options can hardly be mixed. For example, we cannot use plotly express to create a figure and then add a subplot to it. Similarly, we cannot use the <code>make_subplots</code> function to create a figure and then add a plotly express plot to it.</p>
<p>In general, it is easier to use plotly express, so we should use it if we are not affected by its limitations. <strong>The plotly express cannot</strong></p>
<ul>
<li>create <strong>custom subplots</strong>. However, automatic "facet" subplots (same plot divided between multiple plots using some data attribute) are possible.</li>
<li><strong>z-order</strong> of the traces. For example, we need to first plot a trace using graph objects. Then it is much easier to plot the rest of the traces using graph objects as well.</li>
</ul>
<h1 id="plotly-express">Plotly Express<a class="headerlink" href="#plotly-express" title="Permanent link">&para;</a></h1>
<p><a href="https://plotly.com/python/plotly-express/">documentation</a>
Plotly express modul is loaded as:</p>
<pre><code class="language-python">import plotly.express as px
</code></pre>
<h2 id="common-parameters-for-all-types-of-plots">Common Parameters For All Types of Plots<a class="headerlink" href="#common-parameters-for-all-types-of-plots" title="Permanent link">&para;</a></h2>
<ul>
<li><code>data_frame</code>: the dataframe to use. Mandatory, first positional parameter.</li>
<li><code>x</code>: the name of the column to use as x axis. Mandatory, second positional parameter.</li>
<li><code>color</code>: the name of the column to use as color.</li>
<li><code>facet_col</code>: the name of the column to use as facet column.</li>
<li><code>facet_row</code>: the name of the column to use as facet row.</li>
<li><code>color_discrete_sequence</code>: the list of colors in hexadecimal format to use for the color column. If the number of colors is less than the number of categories, the colors are reused. If the number of colors is greater, the colors are truncated.</li>
<li><code>title</code>: the title of the plot. </li>
<li><code>hover_data</code>: the list of columns to show in the hover tooltip. Axes columns are shown automatically.</li>
<li><code>text</code>: text labels for the data points. </li>
</ul>
<h3 id="automatic-color-assignment">Automatic color assignment<a class="headerlink" href="#automatic-color-assignment" title="Permanent link">&para;</a></h3>
<p>If we use the color parameter of a graph, plotly express plots a trace for each color value and assigns a color to the trace. To customize this color, we can use two parameters:</p>
<ul>
<li><code>color_discrete_sequence</code>: list of the colors to be used</li>
<li><code>color_discrete_map</code>: dictionary mapping the color values to the colors. </li>
</ul>
<p>With the <code>color_discrete_sequence</code> parameter, plotly express iterates through the list of colors and assigns the colors to the color values in the order they appear in the data. If the number of colors is less than the number of color values, the colors are reused. If the number of colors is greater, the colors are truncated. Therefore, this parameter is useful only if:</p>
<ul>
<li>the number of colors is equal to the number of color values</li>
<li>the number of colors is greater than the number of color values and we use categorical colors, so the truncation does not matter.</li>
</ul>
<p>The <code>color_discrete_map</code> parameter is more flexible. We can manually assign the colors to the color values, to use the color scale optimally. </p>
<h2 id="histogram">Histogram<a class="headerlink" href="#histogram" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/histograms/">documentation</a></p>
<p>Note that the <strong>Plotly histogram is only good for simple cases of small size</strong>. See below for more details.</p>
<p>Plotly express has <a href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.histogram.html"><code>histogram</code></a> function for creating histograms. The basic syntax is:</p>
<pre><code class="language-python">px.histogram(&lt;dataframe&gt;, &lt;xcol name&gt;)
</code></pre>
<p>The y is then the number of occurences of each value in the x column. </p>
<p>Important parameters:</p>
<ul>
<li><code>nbins</code>: number of bins. </li>
</ul>
<h3 id="plotly-histogram-limitations">Plotly Histogram Limitations<a class="headerlink" href="#plotly-histogram-limitations" title="Permanent link">&para;</a></h3>
<p>Plotly histogram is only good for simple cases of small size. This is because it first stores all data points in JSON and only computes the bins on the javascript size. As a result, the function is slow and the size of the Jupyter notebook cell can be enormous (hundreds of MBs).</p>
<p>For more complex figures, it is better to generate the histogram manually (using numpy or pandas) and then plot it using the <code>px.bar</code> function.</p>
<h2 id="bar-chart">Bar Chart<a class="headerlink" href="#bar-chart" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/bar-charts/">documentation</a></p>
<p><a href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.bar.html">reference</a></p>
<p>For bar charts, we use the <code>px.bar</code> function. The basic syntax is:</p>
<pre><code class="language-python">px.bar(&lt;dataframe&gt;, &lt;xcol name&gt;, &lt;y col name&gt;)
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>barmode</code>: how to combine the bars in case of multiple traces. Can be <code>group</code> (default), <code>stack</code> (default in <em>facet plots</em>), <code>relative</code> or <code>overlay</code>.</li>
<li><code>bargap</code>: the gap between bars.</li>
<li><code>bar_groupgap</code>: the gap between the bars from the same group (only for <code>barmode = group</code>).</li>
</ul>
<p>Unfortunately, <strong>there is no way how to represent missing values</strong> in the bar chart (they appear as <code>y = 0</code>).
To mark the missing values, we can use annotations. </p>
<h3 id="why-bar-charts-with-a-lot-of-records-appear-transparent">Why bar charts with a lot of records appear transparent?<a class="headerlink" href="#why-bar-charts-with-a-lot-of-records-appear-transparent" title="Permanent link">&para;</a></h3>
<p>If the number of records is large, the bar chart may appear transparent. This is because each bar has a border, which has a brighter color. To prevent this effect, we have to remove the border:</p>
<pre><code class="language-python">fig.update_traces(marker_line_width=0)
</code></pre>
<h3 id="numerical-vs-categorical-color">Numerical vs categorical color<a class="headerlink" href="#numerical-vs-categorical-color" title="Permanent link">&para;</a></h3>
<p>The values in the color column are interpreted as numerical (continuous) if the column is numeric and as categorical if the column is of any other type. Even if the color column contains only integers, it is still interpreted as numerical with all consequences (color bar instead of categorical colors, <code>color_discrete_sequence</code> parameter is ignored, etc.). To force the categorical interpretation, we can convert the column to a string. Example:</p>
<pre><code class="language-python">px.bar(df, x=&quot;x&quot;, y=&quot;y&quot;, color=df[&quot;color&quot;].astype(str))
</code></pre>
<h2 id="scatter-plot">Scatter Plot<a class="headerlink" href="#scatter-plot" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/line-and-scatter/">documentation</a></p>
<p>For scatter plots, we use the <a href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter.html"><code>scatter</code></a> function. The basic syntax is:</p>
<pre><code class="language-python">px.scatter(&lt;dataframe&gt;, &lt;xcol name&gt;, &lt;y col name&gt;)
</code></pre>
<p>Important parameters:</p>
<h2 id="line-chart">Line Chart<a class="headerlink" href="#line-chart" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/line-charts/">documentation</a></p>
<p><a href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.line.html">reference</a></p>
<p>For line charts in plotly express, we use the <code>px.line</code> function. The basic syntax is:</p>
<pre><code class="language-python">px.line(&lt;dataframe&gt;, &lt;xcol name&gt;, &lt;y col name&gt;)
</code></pre>
<h2 id="automatic-subplots-facet-plots">Automatic Subplots: Facet plots<a class="headerlink" href="#automatic-subplots-facet-plots" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/facet-plots/">Facet plots</a> can be created using the same plot function as for normal plotly express plots and supplying the <code>facet_col</code> and/or <code>facet_row</code> parameters. Example:</p>
<pre><code class="language-python">fig = px.histogram(df, x=&quot;column&quot;, facet_row=&quot;&lt;col 1&gt;&quot;, facet_col=&quot;&lt;col 2&gt;&quot;)
</code></pre>
<p>Here, the figure will be devided into subplotts. Each row will share the <code>&lt;column 1&gt;</code> values, and each column will share the <code>&lt;column 2&gt;</code> values. The number of rows and columns will be determined automatically as the number of unique values in <code>&lt;column 1&gt;</code> and <code>&lt;column 2&gt;</code>, respectively.</p>
<h3 id="independent-axes-between-rows-and-columns">Independent axes between rows and columns<a class="headerlink" href="#independent-axes-between-rows-and-columns" title="Permanent link">&para;</a></h3>
<p>It can happen that each row or column should have its own x or y axis due to a different scale. We can accomplish this by calling the <code>update_xaxes</code> and <code>update_yaxes</code> functions on the figure. Example:</p>
<pre><code class="language-python">fig.update_xaxes(matches=None)
fig.update_yaxes(matches=None)
</code></pre>
<h3 id="sharing-the-axes-titles-between-rows-and-columns">Sharing the axes titles between rows and columns<a class="headerlink" href="#sharing-the-axes-titles-between-rows-and-columns" title="Permanent link">&para;</a></h3>
<p>Unfortunately, the axes titles cannot be easily shared between rows and columns. The only way is configure the axis text manually. Example:</p>
<pre><code class="language-python"># remove y axis titles except for the first subplot
for i in range(1, 4):
    fig.update_yaxes(title_text='', row=1, col=i)
# set the text of the first y axis
fig.update_yaxes(title_text=&quot;Comp. time relative to IH&quot;, row=1, col=1)

</code></pre>
<h2 id="3d-scatter-plot">3D Scatter Plot<a class="headerlink" href="#3d-scatter-plot" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/3d-scatter-plots/">documentation</a></p>
<p>For 3D scatter plots, we use the <a href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.scatter_3d.html"><code>scatter_3d</code></a> function. The basic syntax is:</p>
<pre><code class="language-python">fig = px.scatter_3d(&lt;dataframe&gt;, &lt;xcol name&gt;, &lt;y col name&gt;, &lt;z col name&gt;)
</code></pre>
<h1 id="plotly-graph-objects">Plotly Graph Objects<a class="headerlink" href="#plotly-graph-objects" title="Permanent link">&para;</a></h1>
<p><a href="https://plotly.com/python/graph-objects/">documentation</a></p>
<p>If the plotly express is not enough, we can use the graph objects. We need to use the second option only for complex figures, for example:</p>
<ul>
<li>facet plots with more than one metric</li>
<li>plots with custom traces <em>behind</em> the plotly express traces</li>
</ul>
<p>We can either add the graph objects to a plotly express figure or create a graph objects figure from scratch. Most of the time, we will use the first option, as using plotly express is easier.</p>
<p>For <strong>adding traces</strong> to the figure, we can use the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html#plotly.graph_objects.Figure.add_trace"><code>add_trace</code></a> function. Important parameters:</p>
<ul>
<li><code>row</code>, <code>col</code>: the row and column of the subplot where to add the trace. <ul>
<li>Both parameters have to be set.</li>
<li>The numbering starts from 1.</li>
</ul>
</li>
</ul>
<p>To <strong>make the figure from scratch</strong>, we can use the <a href="https://plotly.com/python-api-reference/generated/plotly.subplots.make_subplots.html"><code>make_subplots</code></a> function from the <code>plotly.subplots</code> module. Example:</p>
<pre><code class="language-python">from plotly.subplots import make_subplots
fig = make_subplots(rows=2, cols=2)
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>rows</code>, <code>cols</code>: the number of rows and columns in the figure</li>
<li><code>shared_xaxes</code>, <code>shared_yaxes</code>: configures the axes sharing. Possible values:<ul>
<li><code>False (default)</code>: each subplot has its own axes</li>
<li><code>True</code>: only one axis per row (for <code>shared_xaxes</code>) or column (for <code>shared_yaxes</code>). </li>
<li><code>row</code> or <code>col</code>: equivalent to <code>True</code>, applicable only to <code>shared_xaxes</code> or <code>shared_yaxes</code>, respectively.</li>
<li><code>all</code>: all subplots share the same axes</li>
</ul>
</li>
<li><code>horizontal_spacing</code>, <code>vertical_spacing</code>: the spacing between the subplots in relative units, values are in the range <code>[0, 1]</code>. <ul>
<li>The default is <code>0.2</code> for both, which means that the space between each subplot is 20% of the figure width/height.</li>
</ul>
</li>
<li><code>subplot_titles</code>: the titles of the subplots.</li>
</ul>
<h2 id="common-parameters-for-all-types-of-plots_1">Common Parameters For All Types of Plots<a class="headerlink" href="#common-parameters-for-all-types-of-plots_1" title="Permanent link">&para;</a></h2>
<p>The main difference between the plotly express and the graph objects is the data parameters. For plotly express, we pass the dataframe and the column names for the x and y axes. In contrast, <strong>we pass the data to the graph functions as iterables, one for each axis</strong>. Therefore, we have to use a single column from the dataframe, not the whole dataframe, even if it contains just one column.</p>
<h3 id="legend">Legend<a class="headerlink" href="#legend" title="Permanent link">&para;</a></h3>
<p>The name in the legend is determined by the <code>name</code> parameter of the trace. To share the legend between multiple traces, the following steps are needed:</p>
<ol>
<li>set the <code>name</code> parameter of all traces to the same value</li>
<li>set the <code>showlegend</code> parameter of one trace to <code>True</code> and to <code>False</code> for all other traces</li>
</ol>
<h2 id="bar-chart_1">Bar Chart<a class="headerlink" href="#bar-chart_1" title="Permanent link">&para;</a></h2>
<p>The basic syntax is:</p>
<pre><code class="language-python">go.Bar(x, y, ...)
</code></pre>
<p>Some more complicated examples are in the <a href="https://plotly.com/python/bar-charts/#basic-bar-charts-with-plotlygraphobjects">documentation</a>.</p>
<h3 id="stacked-or-grouped-bars">Stacked or grouped bars<a class="headerlink" href="#stacked-or-grouped-bars" title="Permanent link">&para;</a></h3>
<p>Unlike plotly express, the graph objects do not have the <code>color</code> parameter to set the column to use for determining the group to which the bar belongs. There are two options how to create stacked or grouped bars:</p>
<ul>
<li>create a trace for each group manually and add them all to the figure</li>
<li>crete the figure with plotly express and then extract the traces from the figure
    <code>python
    for trace in occ_fig.data:
        fig.add_trace(trace, row=1, col=i + 1)</code></li>
</ul>
<p>Also, to set the bar mode, we need to use the <code>update_layout</code> as the <code>go.Bar</code> function does not have the <code>barmode</code> parameter. Example:</p>
<pre><code class="language-python">fig.update_layout(barmode=&quot;stack&quot;)
</code></pre>
<h2 id="line-and-scatter-plots">Line and Scatter Plots<a class="headerlink" href="#line-and-scatter-plots" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/line-charts/#line-plot-with-goscatter">line plot documentation</a></p>
<p>Line plots, scatter plots and shapes, all of that can be created by the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Scatter.html"><code>go.Scatter</code></a> function. Example:</p>
<pre><code class="language-python">go.Scatter(x, y, ...)
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>mode</code>: the mode of the line. <ul>
<li>Can be:<ul>
<li><code>lines</code>,</li>
<li><code>markers</code>,</li>
<li><code>lines+markers</code>,</li>
<li><code>text</code>,</li>
<li><code>lines+text</code>,</li>
<li><code>markers+text</code>,</li>
<li><code>lines+markers+text</code>. </li>
</ul>
</li>
<li>The default is <code>lines+markers</code> if  there are less than 20 data points and <code>lines</code> otherwise.</li>
</ul>
</li>
<li><code>line</code>: dictionary containing the line parameters. The most important parameters are:<ul>
<li><code>color</code>: the color of the line</li>
<li><code>width</code>: the width of the line</li>
</ul>
</li>
</ul>
<h2 id="shapes">Shapes<a class="headerlink" href="#shapes" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/shapes/">documentation</a></p>
<p>There are various ways how to create shapes in plotly:</p>
<ul>
<li>for simple higlight of regions on x or y axis, we can use the <a href="https://plotly.github.io/plotly.py-docs/generated/plotly.html#plotly.basedatatypes.BaseFigure.add_vrect"><code>add_vrect</code></a> and <a href="https://plotly.github.io/plotly.py-docs/generated/plotly.html#plotly.basedatatypes.BaseFigure.add_hrect"><code>add_hrect</code></a> functions (<a href="https://plotly.com/python/shapes/#highlighting-time-series-regions-with-rectangle-shapes">introductory example</a>, <a href="https://plotly.com/python/horizontal-vertical-shapes/">documentation</a>).<ul>
<li>only for recangles spaning the whole height or width of the plot</li>
</ul>
</li>
<li>The shapes can be created by supplying the coordinates of the shape to the <code>go.Scatter</code> function and setting the <code>fill</code> parameter to <code>"toself"</code>. (<a href="https://plotly.com/python/shapes/#shapedrawing-with-scatter-traces">documentation</a>)<ul>
<li>this method has a serious limitation: <strong>the filled scatter plots are always above the other traces</strong></li>
</ul>
</li>
<li>finally, we can use the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html#plotly.graph_objects.Figure.add_shape"><code>add_shape</code></a> function to add a shape to the figure.</li>
</ul>
<p><strong>There is no way how to fill shapes with a patern fill.</strong></p>
<h2 id="create-subplots">Create subplots<a class="headerlink" href="#create-subplots" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/subplots/">documentation and examples</a></p>
<p>To create a figure with multiple subplots, we use the <code>make_subplots</code> function. Example:</p>
<pre><code class="language-python">fig = make_subplots(rows=2, cols=2, start_cell=&quot;bottom-left&quot;)
fig.add_trace(go.Scatter(x=[1, 2, 3], y=[4, 5, 6]),
              row=1, col=1)
...
fig.show()
</code></pre>
<p>Importanta parameters:</p>
<ul>
<li><code>shared_xaxes</code> and <code>shared_yaxes</code>: if <code>True</code>, the subplots will share the same x and y axes. </li>
<li><code>x_title</code> and <code>y_title</code>: the titles of the x and y axes. </li>
<li><code>horizontal_spacing</code> and <code>vertical_spacing</code>: the spacing between the subplots.</li>
</ul>
<h2 id="3d-plots">3D plots<a class="headerlink" href="#3d-plots" title="Permanent link">&para;</a></h2>
<h3 id="common-parameters">Common Parameters<a class="headerlink" href="#common-parameters" title="Permanent link">&para;</a></h3>
<h4 id="setting-color-of-the-plots-with-continuous-color-scale">Setting color of the plots with continuous color scale<a class="headerlink" href="#setting-color-of-the-plots-with-continuous-color-scale" title="Permanent link">&para;</a></h4>
<p>If the plot type is continuous (e.g., surface plot, cone plot), we cannot set a color for the whole trace as a continuous color scale is used. However, we can set the colorscale using the <code>colorscale</code> parameter. Example:</p>
<pre><code class="language-python">fig.add_trace(go.Surface(z=z, colorscale=&quot;Viridis&quot;))
</code></pre>
<p>The color scale can be also set manually as a list of colors. This way, we can overcome the limitation of the continuous color scale and set the color of the whole trace. Example:</p>
<pre><code class="language-python">fig.add_trace(go.Surface(z=z, colorscale=[[0, &quot;red&quot;], [1, &quot;red&quot;]]))
</code></pre>
<h3 id="3d-scatter-plot_1">3D Scatter Plot<a class="headerlink" href="#3d-scatter-plot_1" title="Permanent link">&para;</a></h3>
<p><a href="https://plotly.com/python/3d-scatter-plots/">documentation</a></p>
<p>The 3D scatter plot is created using the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Scatter3d.html"><code>go.Scatter3d</code></a> function. Example:</p>
<pre><code class="language-python">go.Scatter3d(x, y, z, ...)
</code></pre>
<h3 id="surface-plots">Surface Plots<a class="headerlink" href="#surface-plots" title="Permanent link">&para;</a></h3>
<p>There are multiple types of plots that may be considered as surface plots in plotly:</p>
<ul>
<li><a href="https://plotly.com/python/3d-surface-plots/"><strong>3D surface</strong></a> (<code>go.Surface</code>): a surface plot defined by a grid of x, y, and a 2D array of z values of the shape (|x|, |y|). The surface is plotted for all combinations of x and y, which makes this function suitable only for cases where the surface is defined for all combinations of x and y.</li>
<li><a href="https://plotly.com/python/3d-mesh/"><strong>3D mesh</strong></a> (<code>go.Mesh3d</code>): a surface plot defined by vertices (points) and faces (connections between the points). The connections are defined by triangles, which can be either defined manually or computed automatically using a triangulation algorithm. </li>
<li><a href="https://plotly.com/python/trisurf/"><strong>Tri-surface</strong></a> (<code>figure_factory.create_trisurf</code>): a surface plot created by a triangulation of the data points. It accepts triangles in a single argument. I have to further investigate, how it differs from the 3D mesh plot.</li>
</ul>
<h4 id="3d-surface-plot">3D Surface Plot<a class="headerlink" href="#3d-surface-plot" title="Permanent link">&para;</a></h4>
<p><a href="https://plotly.com/python/3d-surface-plots/">documentation</a></p>
<p>The 3D surface plot is created using the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Surface.html"><code>go.Surface</code></a> function. </p>
<h4 id="3d-mesh-plot">3D Mesh Plot<a class="headerlink" href="#3d-mesh-plot" title="Permanent link">&para;</a></h4>
<p><a href="https://plotly.com/python/3d-mesh/">documentation</a></p>
<p>The 3D mesh plot is created using the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Mesh3d.html"><code>go.Mesh3d</code></a> function. Example:</p>
<pre><code class="language-python">x = [1, 1, 1]
y = [1, 2, 1]
z = [0, 0, 1]

fig.add_trace(go.Mesh3d(x=x, y=y, z=z))
</code></pre>
<p>This way, the triangulation is used to compute the connections between the points. If we want to use a different triangulation, we can use the <code>i</code>, <code>j</code> and <code>k</code> parameters. These parameters define the indices (in the source data used for <code>x</code>, <code>y</code>, and <code>z</code>) of the vertices that form the triangles. For example, <code>i[0]</code>, <code>j[0]</code> and <code>k[0]</code> define the vertices of the first triangle. Example code:</p>
<pre><code class="language-python">x = [1, 1, 1]
y = [1, 2, 1]
z = [0, 0, 1]
i = [0]
j = [1]
k = [2]

fig.add_trace(go.Mesh3d(x=x, y=y, z=z, i=i, j=j, k=k))
</code></pre>
<p>Note that here, the <code>i</code>, <code>j</code> and <code>k</code> parameters are redundant, as there is only one possible triangulation of the three points. However, for more complex surfaces, there can be multiple valid triangulations, and the <code>i</code>, <code>j</code> and <code>k</code> parameters can be used to select the triangulation manually.</p>
<h3 id="cone-plots">Cone Plots<a class="headerlink" href="#cone-plots" title="Permanent link">&para;</a></h3>
<p><a href="https://plotly.com/python/cone-plot/">documentation</a></p>
<p><a href="https://plotly.com/python/reference/cone/">reference</a></p>
<p>The main parameters of the cone plot are:</p>
<ul>
<li><code>x</code>, <code>y</code>, <code>z</code>: the coordinates of the cone base</li>
<li><code>u</code>, <code>v</code>, <code>w</code>: the vector defining the direction and length of the cone</li>
</ul>
<h1 id="customizing-the-figure">Customizing the Figure<a class="headerlink" href="#customizing-the-figure" title="Permanent link">&para;</a></h1>
<p>The figure object can be custommized in many ways.</p>
<h2 id="size-and-margins">Size and margins<a class="headerlink" href="#size-and-margins" title="Permanent link">&para;</a></h2>
<p>The size and margins can be set using the <code>figure.update_layout</code> function. The specific parameters are:</p>
<ul>
<li><code>width</code>: the width of the figure in pixels</li>
<li><code>height</code>: the height of the figure in pixels</li>
<li><code>autosize</code>: needs to be <code>False</code> if we want to set the width and height manually</li>
<li><code>margin</code>: dictionary containing the margins (<code>l</code>, <code>r</code>, <code>t</code>, <code>b</code>) and one another property: <code>pad</code>. All properties are in pixels. <ul>
<li><code>l</code>, <code>r</code>, <code>t</code>, <code>b</code>: distance between the plot and the figure border. Note that titles are not included in the plot, so we have make space for the titles if we set margins manually.</li>
<li><code>pad</code>: distance between the plotting area (i.e., the plotting coordinates for data points) and the axis lines. Most of the time, this should be set to <code>0</code> (default)</li>
</ul>
</li>
</ul>
<p>Unfortunately, <strong>there is no way how to set the margins automatically</strong> to fit all content like titles, annotations, etc.  </p>
<p><a href="https://plotly.com/python/setting-graph-size/#adjusting-height-width--margins-with-graph-objects">documentation</a></p>
<p><a href="https://plotly.com/python/reference/layout/#layout-margin">reference</a></p>
<h2 id="customize-axes">Customize axes<a class="headerlink" href="#customize-axes" title="Permanent link">&para;</a></h2>
<p>For customizing the axes, we can use the <code>figure.update_xaxes</code> and <code>figure.update_yaxes</code> functions. By default, the functions will update all axes. To update only a specific axis, we can use the <code>row</code> and <code>col</code> parameters. </p>
<p><a href="https://plotly.com/python/reference/layout/xaxis/">axis reference</a></p>
<p>The <strong>range</strong> of the axis is determined automatically as the range of the data plus some margin. If we want any other range, we need to set it manually using the <code>range</code> parameter, e.g.: <code>range=[0, 1]</code>. Unfortunately, <strong>there is no way how to automatically set the range to match the data range exactly</strong></p>
<p>Another thing we usually want to customize are the ticks. Important tick parameters are:</p>
<ul>
<li><code>dtick</code>: the distance between the ticks</li>
<li><code>tickvals</code>: the exact values of the ticks. This overrides the <code>dtick</code> parameter.</li>
<li><code>ticks</code>: the position of the ticks. Can be <code>outside</code>, <code>inside</code> or <code>""</code> (no ticks, default).</li>
<li><code>ticklen</code>: the length of the ticks in pixels</li>
<li><code>tickformat</code>: the format of the tick labels. Depending on the axis datatype, we can use number formats (e.g., <code>".2f"</code> for two decimal places), datetime formats (e.g., <code>"%Y-%m-%d"</code> for dates) or scientific notation (e.g., <code>"e"</code> for scientific notation).<ul>
<li>for percentage, we can use <code>".0%"</code> for integer percentage and <code>".1%"</code> for one decimal place. Note that this way, the <code>%</code> sign is added automatically to each tick label. If we do not want this, we can either set the text manually using the <code>ticktext</code> parameter, or multiply the data by 100.</li>
</ul>
</li>
<li><code>tickangle</code>: the angle of the tick labels in degrees</li>
</ul>
<p>Other important parameters are:</p>
<ul>
<li><code>title_text</code>: the title of the axis. </li>
<li><code>linecolor</code>: the color of the axis line</li>
<li><code>gridcolor</code>: the color of the grid lines</li>
<li><code>mirror</code>: if <code>True</code>, the axis line will be mirrored to the other side of the plot</li>
</ul>
<h3 id="drawing-borders-using-axes">Drawing borders using axes<a class="headerlink" href="#drawing-borders-using-axes" title="Permanent link">&para;</a></h3>
<p>The borders can be drawn using the axes. To draw a  black border around the plot, we can use the following code:</p>
<pre><code class="language-python">fig.update_xaxes(linecolor=&quot;black&quot;, mirror=True)
fig.update_yaxes(linecolor=&quot;black&quot;, mirror=True)
</code></pre>
<h3 id="customizing-datetime-axes">Customizing datetime axes<a class="headerlink" href="#customizing-datetime-axes" title="Permanent link">&para;</a></h3>
<p>Unfortunately, we cannot treat the datetime axes as expected, i.e., using the datetime objects. For example, to set the tick interval, we cannot use the <code>datetime.timedelta</code> object. Instead, we need to use the number of milliseconds. Example:</p>
<pre><code class="language-python">fig.update_xaxes(dtick=1000 * 60 * 60 * 24 * 7) # one week interval
</code></pre>
<h3 id="customizing-shared-axes">Customizing shared axes<a class="headerlink" href="#customizing-shared-axes" title="Permanent link">&para;</a></h3>
<p>By default, only tick labels are shared between subplots with shared axes. To share other properties (tick markers, axis title) we need to hide them manually and add them to the first subplot. Example:</p>
<pre><code class="language-python">fig.update_yaxes(showticklabels=False)
fig.update_yaxes(showticklabels=True, row=1, col=1)
</code></pre>
<h3 id="3d-axes">3d axes<a class="headerlink" href="#3d-axes" title="Permanent link">&para;</a></h3>
<p><a href="https://plotly.com/python/3d-axes/">documentation</a></p>
<p>Unfortunately, the customization of the 3d axes works differently than for the 2d axes. The <code>update_xaxes</code> and <code>update_yaxes</code> functions do not work for the 3d axes. Instead, we need to use the <code>update_layout</code> function with the <code>scene</code> parameter. Example:</p>
<pre><code class="language-python">fig.update_layout(scene=dict(
    xaxis=dict(
        title=&quot;x&quot;,
        titlefont_size=16,
        tickfont_size=14,
    ),
    yaxis=dict(
        title=&quot;y&quot;,
        titlefont_size=16,
        tickfont_size=14,
    ),
    zaxis=dict(
        title=&quot;z&quot;,
        titlefont_size=16,
        tickfont_size=14,
    ),
))
</code></pre>
<p><strong>One thing that is not possible to customize idn 3D is the position of the axis</strong>. The x and y axes are always in the bottom, while the z axis is always on the left.</p>
<h3 id="change-position-of-the-axis-title">Change position of the axis title<a class="headerlink" href="#change-position-of-the-axis-title" title="Permanent link">&para;</a></h3>
<p>Unfortunately, there is no way how to change the position of the axis title. The solution is to hide the title and add a new annotation with the title text. Example:</p>
<pre><code class="language-python">fig.update_xaxes(title_text=&quot;&quot;)
fig.add_annotation(
    text=&quot;Comp. time relative to IH&quot;,
    xref=&quot;paper&quot;,
    yref=&quot;paper&quot;,
    x=-0.09,
    y=0.5,
    showarrow=False,
    font=dict(
        size=14,
    ),
    textangle=270,
)
</code></pre>
<h2 id="legend_1">Legend<a class="headerlink" href="#legend_1" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/legend/">documentation</a></p>
<p><a href="https://plotly.com/python/reference/layout/#layout-legend">reference</a></p>
<p>The legend can be styled using the <code>figure.update_layout</code> function. 
The most important parameters are:</p>
<ul>
<li><code>legend_title</code>: the title of the legend</li>
<li><code>legend</code>: dictionary containing many parameters<ul>
<li><code>orientation</code>: <code>h</code> or <code>v</code> for horizontal or vertical legend</li>
<li><code>x</code>, <code>y</code>: the position of the in normalized coordinates of the whole plot.</li>
<li>'xref', <code>yref</code>: the coordinate system of the x and y coordinates. Can be   <ul>
<li><code>"container"</code>: the whole plot</li>
<li><code>"paper"</code> (default): the plotting area</li>
</ul>
</li>
<li><code>xanchor</code>, <code>yanchor</code>: the position of the legend box relative to the x and y coordinates</li>
<li><code>title</code>: if string, the title of the legend (equivalent to the <code>legend_title</code> parameter). If dictionary, multiple legend title parameters can be set.</li>
<li><code>bordercolor</code>: the color of the legend border</li>
<li><code>borderwidth</code>: the width of the legend border</li>
</ul>
</li>
</ul>
<p>Unfortunately, <strong>there is no way how to customize the padding between the legend items and the legend box</strong>. Also, <strong>it is not possible to set the legend border to have rounded corners</strong>. </p>
<h3 id="hide-legend">Hide legend<a class="headerlink" href="#hide-legend" title="Permanent link">&para;</a></h3>
<p>To hide the legend, we can use the <code>showlegend</code> parameter. Example:</p>
<pre><code class="language-python">fig.update_layout(showlegend=False)
</code></pre>
<h3 id="legend-items-order">Legend items order<a class="headerlink" href="#legend-items-order" title="Permanent link">&para;</a></h3>
<p>The order of the legend items is determined by the order of the traces in the figure. However, we can change the order using the <code>legend_traceorder</code> parameter. Example:</p>
<pre><code class="language-python">fig.update_layout(legend_traceorder=&quot;reversed&quot;)
</code></pre>
<h3 id="legend-position">Legend position<a class="headerlink" href="#legend-position" title="Permanent link">&para;</a></h3>
<p>The coordinates of the legend are normalized with respect to each axis.
By default, the legend <code>x</code> and <code>y</code> coordinates are set so that the legend is outside the plot, in the top right corner. 
If the legend is positioned inside the plot, the plot expands to the whole width, but if the legend is positioned outside the plot, the plot width is smaller to leave space for the legend.</p>
<h3 id="legend-items-text">Legend items text<a class="headerlink" href="#legend-items-text" title="Permanent link">&para;</a></h3>
<p>The legend item text is determined by the <code>name</code> parameter of the trace. Therefore, to customize the legend item text, we need to set the <code>name</code> parameter of the trace. For normal single trace functions, this is simple:</p>
<pre><code class="language-python">fig.add_trace(go.Scatter(x=x, y=y, name=&quot;Custom name&quot;))
</code></pre>
<p>However, it can be complicated for plotly express functions that plot multiple traces at once, as these determine the <code>name</code> parameter automatically from data. For example, when we use the <code>color</code> parameter, the <code>name</code> parameter is set to the color value. To overcome this, we have two options:</p>
<ul>
<li>set the <code>name</code> parameter manually for each trace after the figure is created</li>
<li>change the data so that the <code>name</code> parameter is set automatically to the desired value. </li>
</ul>
<p>The first approach is usually preferable as we do not mix the data and appearance. To change the <code>name</code> parameter, we can use the <code>update_traces</code> function:</p>
<pre><code class="language-python">for trace in fig.data:
    trace.name = process_name(trace.name)
</code></pre>
<h2 id="figure-annotations">Figure Annotations<a class="headerlink" href="#figure-annotations" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/text-and-annotations/">documentation</a></p>
<p>For adding annotations to to a figure, we can use the <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Figure.html#plotly.graph_objects.Figure.add_annotation"><code>add_annotation</code></a> function. The most compliated and also most limited aspect is the positioning of the annotation. There are two things we can position:</p>
<ul>
<li>the head of the annotation arrow, or the position of the text in case of no arrow</li>
<li>the tail of position of the annotation arrow, if present</li>
</ul>
<p>Note that there are some important <strong>limitations of annotations</strong>:</p>
<ul>
<li>There is no way how to position the text of the annotation. If we need a specific position of the text, we need to add it as a separate annotation. This brings a huge burden, as we need to calculate the right offset from the arrow, which depends on the angle, but also the dimensions of the plot</li>
<li>The <code>textangle</code> parameter of the text is in the coordinate system of the plot, not the coordinate system of the data. A recalculation is needed if we want to align a data based arrow annotation with a text annotation.</li>
<li>These annotations only work for 2D plots. For 3D plots, custom solution with 3D line and cone plots is needed.</li>
</ul>
<h3 id="setting-the-head-of-the-annotation">Setting the head of the annotation<a class="headerlink" href="#setting-the-head-of-the-annotation" title="Permanent link">&para;</a></h3>
<p>There are two settings for head of the annotation for each axis:</p>
<ul>
<li><a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.xref"><code>xref</code></a> and <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.yref"><code>yref</code></a>: the mode of the positioning, and</li>
<li><a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.x"><code>x</code></a> and <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.y"><code>y</code></a>: the coordinates</li>
</ul>
<p>The <code>xref</code> and <code>yref</code> parameters can be set to:</p>
<ul>
<li><code>&lt;axis name&gt;</code>: The axis mode, where the axis coordinates are used for positioning.<ul>
<li>default for simple plots: <code>xref="x"</code> and <code>yref="y"</code></li>
<li>for subplots, we use <code>"x1"-"x&lt;n&gt;"</code> or <code>"y1"-"y&lt;n&gt;"</code> as <code>&lt;axis name&gt;</code></li>
</ul>
</li>
<li><code>paper</code>: The whole figure mode, where 0 means the left/bottom and 1 means the right/top of the figure.<ul>
<li>default for subplots</li>
</ul>
</li>
</ul>
<h3 id="setting-the-tail-of-the-annotation">Setting the tail of the annotation<a class="headerlink" href="#setting-the-tail-of-the-annotation" title="Permanent link">&para;</a></h3>
<p>There are two settings for the tail of the annotation for each axis:</p>
<ul>
<li><a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.axref"><code>axref</code></a> and <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.ayref"><code>ayref</code></a>: the mode of the positioning, and</li>
<li><a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.ax"><code>ax</code></a> and <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.Layout.html#plotly.graph_objects.layout.Annotation.ay"><code>ay</code></a>: the coordinates</li>
</ul>
<p>The <code>axref</code> and <code>ayref</code> parameters can be set to:</p>
<ul>
<li><code>"pixel"</code>: The pixel mode, where the coordinates are in pixels relative to the whole figure, where the origin is the bottom left corner of the figure.<ul>
<li>default</li>
</ul>
</li>
<li><code>&lt;axis reference&gt;</code>: Same as for the head of the annotation, but must be equal to the <code>xref</code>/<code>yref</code>, ottherwise, the arrow will not be visible.<ul>
<li>e.g., setting <code>xref</code> to <code>"x1"</code> and <code>axref</code> to <code>"x2"</code> is not allowed</li>
</ul>
</li>
</ul>
<h3 id="configuring-the-arrow">Configuring the arrow<a class="headerlink" href="#configuring-the-arrow" title="Permanent link">&para;</a></h3>
<p>There are many parameters for configuring the arrow. Morover, <strong>without configuring some of the parameters, the arrow head will not be visible at all</strong>. The most important parameters are:</p>
<ul>
<li><code>showarrow</code>: toggl the whole arrow (head and tail). Default is <code>True</code>.</li>
<li><code>arrowcolor</code>: the color of the arrow line. </li>
<li><code>arrowwidth</code>: the width of the arrow line in pixels. Default is <code>1</code>.</li>
<li><code>arrowhead</code>: the number indicating the style of the arrow head. Possible values are:<ul>
<li><code>0</code>: no arrow head (default)</li>
<li><code>1</code>: wide triangle arrow head</li>
<li><code>2</code>: narrow triangle arrow head</li>
<li><code>3</code>: open triangle arrow head (dart)</li>
<li><code>4</code>: open triangle arrow head (B2 spirit shape)</li>
<li><code>5</code>: open triangle arrow head (V shape)</li>
<li><code>6</code>: circle arrow head</li>
<li><code>7</code>: square arrow head</li>
</ul>
</li>
<li><code>arrowsize</code>: the relative size of the arrow head to the <code>arrowwidth</code>. Default is <code>1</code>.</li>
</ul>
<h3 id="configuring-the-text">Configuring the text<a class="headerlink" href="#configuring-the-text" title="Permanent link">&para;</a></h3>
<p>By default, the annotation does not have any text, unless <code>showarrow</code> is set to <code>False</code>, in which case a default text is added to prevent the annotation from being completely empty. To add text, we use the <code>text</code> parameter. To style the text, we can use the following parameters:</p>
<ul>
<li><code>textangle</code>: the angle of the text in degrees,</li>
<li><code>font</code>: dictionary containing font parameters<ul>
<li><code>size</code>: the size of the font in pixels</li>
<li><code>color</code>: the color of the font</li>
<li><code>weight</code>: the weight of the font</li>
<li><code>xanchor</code>, <code>yanchor</code>: the position of the text relative to the text box. <ul>
<li><code>xanchor</code> can be <code>left</code>, <code>center</code> or <code>right</code></li>
<li><code>yanchor</code> can be <code>top</code>, <code>middle</code> or <code>bottom</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="positinoing-the-text-relative-to-the-arrow">Positinoing the text relative to the arrow<a class="headerlink" href="#positinoing-the-text-relative-to-the-arrow" title="Permanent link">&para;</a></h3>
<p><strong>There is no way how to position the text of the annotation with respect to the arrow</strong>. The text position is:</p>
<ul>
<li>the head of the annotation, if the arrow is not present, or</li>
<li>the tail of the annotation, if the arrow is present</li>
</ul>
<p>If we want to, for example, need to position the text of the annotation above the arrow, so that the text is parallel to the arrow, we need to use two annotations.</p>
<h3 id="other-important-parameters">Other important parameters<a class="headerlink" href="#other-important-parameters" title="Permanent link">&para;</a></h3>
<ul>
<li><code>bgcolor</code>: the background color of the annotation</li>
</ul>
<h2 id="markers">Markers<a class="headerlink" href="#markers" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/marker-style/">documentation</a></p>
<p>To style the markers, we can use the <code>update_traces</code> function. Example:</p>
<pre><code class="language-python">fig.update_traces(marker=dict(size=10, line=dict(width=2, color='DarkSlateGrey')))
</code></pre>
<p>Marker parameters:</p>
<ul>
<li><code>size</code>: the size of the marker in pixels</li>
<li><code>line</code>: dictionary containing border parameters<ul>
<li><code>width</code>: the width of the border in pixels. The default is 0. This setting is ignored for 3d scatter plots, where the border width is always 1 (see <a href="https://github.com/plotly/plotly.js/issues/3796">github issue</a>)</li>
<li><code>color</code>: the color of the border</li>
</ul>
</li>
<li><code>color</code>: the color of the marker. To make the marker transparent, it is best to use the <code>rgba</code> format. Example: <code>rgba(255, 0, 0, 0.5)</code> for a red marker with 50% transparency.</li>
</ul>
<h3 id="adding-a-marker-to-a-hard-coded-location">Adding a marker to a hard-coded location<a class="headerlink" href="#adding-a-marker-to-a-hard-coded-location" title="Permanent link">&para;</a></h3>
<p>To add a marker to a hard-coded location, we can add it as a new trace. Note that we can add new traces even to a figure created using plotly express. </p>
<h2 id="lines">Lines<a class="headerlink" href="#lines" title="Permanent link">&para;</a></h2>
<p>Lines can be styled using the line parameter of the plotting functions or using the <code>update_traces</code> function. Important parameters:</p>
<ul>
<li><code>color</code>: the color of the line</li>
<li><code>width</code>: the width of the line in pixels</li>
<li><code>dash</code>: the dash pattern. Can be<ul>
<li><code>"solid"</code> (default)</li>
<li><code>"dot"</code>: dense dashed line</li>
<li><code>"dash"</code>: sparse dashed line</li>
<li>... </li>
<li>Be aware that the <strong>dash pattern is proportional to the axis range</strong>. In result, it is practicaly impossible to use dash patterns on graphs with different axes ranges.</li>
</ul>
</li>
</ul>
<h2 id="title">Title<a class="headerlink" href="#title" title="Permanent link">&para;</a></h2>
<p><a href="https://plotly.com/python/figure-labels/#align-plot-title">documentation</a></p>
<p>The title can be set using the plotly express functions or when creating the graph objects figure. To update the text or to customize the title layout, we can use the <code>update_layout</code> function with the <code>title</code> object parameter. Example:</p>
<pre><code class="language-python">fig.update_layout(
    title={
        'x': 0.5,
        'xanchor': 'center',
        'y': 0.85,
        'yanchor': 'top'
    }
)
</code></pre>
<p>Important parameters:</p>
<ul>
<li><code>x</code>, <code>y</code>: the x and y coordinates of the title. The origin is the bottom left corner of the figure.</li>
<li><code>xanchor</code>, <code>yanchor</code>: the position of the title relative to the x and y coordinates. Can be <code>left</code>, <code>center</code> or <code>right</code> for <code>xanchor</code> and <code>top</code>, <code>middle</code> or <code>bottom</code> for <code>yanchor</code>.</li>
</ul>
<h3 id="subplot-titles">Subplot titles<a class="headerlink" href="#subplot-titles" title="Permanent link">&para;</a></h3>
<h4 id="automatic-subplot-titles-facet-plots">Automatic subplot titles (facet plots)<a class="headerlink" href="#automatic-subplot-titles-facet-plots" title="Permanent link">&para;</a></h4>
<p>When using facet plots, the subplot titles are generated automatically as <code>&lt;facet column name&gt;=&lt;facet column value&gt;</code>. Usually, we want to remove the column name and keep only the value. To do this, we can use the <code>for_each_annotation</code> function. Example:</p>
<pre><code class="language-python">fig.for_each_annotation(lambda a: a.update(text=a.text.split(&quot;=&quot;)[-1]))
</code></pre>
<h4 id="individual-subplot-titles">Individual subplot titles<a class="headerlink" href="#individual-subplot-titles" title="Permanent link">&para;</a></h4>
<p>To set the title of an individual subplot, we can use the <code>subplot_titles</code> parameter of the <code>make_subplots</code> function. </p>
<p>To <strong>position the subplot titles</strong>, we have to update all annotations. To prevent the need to filter the titles, it is best to update all annotations right after the <code>make_subplots</code> call. Example:</p>
<pre><code class="language-python">fig = make_subplots(...)
fig.update_annotations(yshift=10) # move the subplot titles 10 pixels up
</code></pre>
<h2 id="z-order-of-the-traces">Z-Order of the Traces<a class="headerlink" href="#z-order-of-the-traces" title="Permanent link">&para;</a></h2>
<p>The z-order of the traces cannot be configured. Instead, the traces are drawn in the order they are added to the figure. </p>
<p>This simple rule has an exception: the webGL traces are always drawn on top of the standard traces. Because all plotly express traces are WebGL traces, they are drawn on top of the graph objects traces added later if those are not WebGL. To overcome this limitation, we have two options:</p>
<ul>
<li>not combine plotly express and graph objects traces and convert everything to graph objects for figures with custom traces</li>
<li>use the webGL versions of the graph objects traces. Example:
    <code>python
    fig.add_trace(go.Scattergl(...))</code></li>
</ul>
<h2 id="other-layout-parameters-background-borders-etc">Other Layout Parameters (background, borders, etc.)<a class="headerlink" href="#other-layout-parameters-background-borders-etc" title="Permanent link">&para;</a></h2>
<ul>
<li>background color: <code>plot_bgcolor</code></li>
<li>border: borders are best drawn by showing and mirroring the axes (see the axis section above).</li>
</ul>
<h1 id="text">Text<a class="headerlink" href="#text" title="Permanent link">&para;</a></h1>
<p><a href="https://plotly.com/python/text-and-annotations">documentation</a></p>
<h2 id="subscript-and-superscript">Subscript and superscript<a class="headerlink" href="#subscript-and-superscript" title="Permanent link">&para;</a></h2>
<p>To add a subscript or superscript to a text, we can use HTML tags. Example:</p>
<pre><code class="language-python">fig.add_annotation(x=0.5, y=0.5, text=&quot;Title&lt;sub&gt;subscript&lt;/sub&gt;&quot;, xref=&quot;x5&quot;, yref=&quot;y5&quot;, showarrow=False)
</code></pre>
<h2 id="bold-and-italic">Bold and italic<a class="headerlink" href="#bold-and-italic" title="Permanent link">&para;</a></h2>
<p>To add bold or italic text, we can use the HTML tags <code>&lt;b&gt;</code> and <code>&lt;i&gt;</code>. Example:</p>
<pre><code class="language-python">fig.add_annotation(x=0.5, y=0.5, text=&quot;Title&lt;b&gt;bold&lt;/b&gt;&lt;i&gt;italic&lt;/i&gt;&quot;, xref=&quot;x5&quot;, yref=&quot;y5&quot;, showarrow=False)
</code></pre>
<h2 id="math-symbols">Math symbols<a class="headerlink" href="#math-symbols" title="Permanent link">&para;</a></h2>
<p>To add math symbols, we can use the LaTeX syntax. However, when using it, all text must be wrapped in math mode, not just the symbols. Example:</p>
<pre><code class="language-python">fig.add_annotation(x=0.5, y=0.5, text=r&quot;$\\text{{Title: }} \alpha  \\text{{ and }}  \beta $&quot;, xref=&quot;x5&quot;, yref=&quot;y5&quot;, showarrow=False)
</code></pre>
<p><strong>Note that the LaTeX syntax does not work in vscode out of the box</strong> <a href="https://github.com/microsoft/vscode-jupyter/issues/8131">[issue]</a>. We need to add the following code:</p>
<pre><code class="language-python">import plotly
from IPython.display import display, HTML

plotly.offline.init_notebook_mode()
display(HTML(
    '&lt;script type=&quot;text/javascript&quot; async src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG&quot;&gt;&lt;/script&gt;'
))
</code></pre>
<h1 id="exporting-the-figure">Exporting the Figure<a class="headerlink" href="#exporting-the-figure" title="Permanent link">&para;</a></h1>
<p><a href="https://plotly.com/python/static-image-export/">documentation</a></p>
<p>The static export is handeled using the figure's <code>write_image</code> function. Example:</p>
<pre><code class="language-python">fig.write_image(&quot;figure.png&quot;)
</code></pre>
<p>The output format is determined by the extension.</p>
<p>The margins of the figure should be set for the figure itself, not for the export.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="export-hangs-out">Export hangs out<a class="headerlink" href="#export-hangs-out" title="Permanent link">&para;</a></h3>
<p>It can be cause by kaleido. The solution si to install an older version, specifically <code>0.1.0.post1</code>.</p>
<p>https://community.plotly.com/t/static-image-export-hangs-using-kaleido/61519/4</p>
<h3 id="exported-size-does-not-match-the-figure-size">Exported size does not match the figure size<a class="headerlink" href="#exported-size-does-not-match-the-figure-size" title="Permanent link">&para;</a></h3>
<p>Sometimes, the Kaleido engine resizes the figure before exporting. To overcome this, we can set the <code>width</code> and <code>height</code> parameters of the <code>write_image</code> function. Example:</p>
<pre><code class="language-python">fig.write_image(&quot;figure.png&quot;, width=1000, height=1000)
</code></pre>
<h1 id="colors">Colors<a class="headerlink" href="#colors" title="Permanent link">&para;</a></h1>
<p><a href="https://plotly.com/python/discrete-color/">documentation</a></p>
<p>For colors in plotly, we can use the color scales supplied by plotly express. These are:</p>
<ul>
<li><code>px.colors.sequential</code>: sequential color scales</li>
<li><code>px.colors.diverging</code>: diverging color scales</li>
<li><code>px.colors.qualitative</code>: qualitative color scales</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
