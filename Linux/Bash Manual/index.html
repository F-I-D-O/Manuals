<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Bash Manual - Manuals</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Manuals</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Programming</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">C++</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Programming/C%2B%2B/C%20Manual/" class="dropdown-item">C Manual</a>
</li>
            
<li>
    <a href="../../Programming/C%2B%2B/C%2B%2B%20Debugging%20and%20Profiling/" class="dropdown-item">C++ Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Programming/C%2B%2B/C%2B%2B%20Manual/" class="dropdown-item">C++ Manual</a>
</li>
            
<li>
    <a href="../../Programming/C%2B%2B/C%2B%2B%20Workflow/" class="dropdown-item">C++ Workflow</a>
</li>
            
<li>
    <a href="../../Programming/C%2B%2B/CMake%20Manual/" class="dropdown-item">CMake Manual</a>
</li>
            
<li>
    <a href="../../Programming/C%2B%2B/Google%20Test/" class="dropdown-item">Google Test</a>
</li>
            
<li>
    <a href="../../Programming/C%2B%2B/vcpkg%20Manual/" class="dropdown-item">vcpkg Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cloud computing</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Programming/Cloud%20computing/Lmod/" class="dropdown-item">Lmod</a>
</li>
            
<li>
    <a href="../../Programming/Cloud%20computing/RCI%20cluster/" class="dropdown-item">RCI cluster</a>
</li>
            
<li>
    <a href="../../Programming/Cloud%20computing/Slurm/" class="dropdown-item">Slurm</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Database</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Programming/Database/Database%20Workflow/" class="dropdown-item">Database Workflow</a>
</li>
            
<li>
    <a href="../../Programming/Database/PostgreSQL%20Debugging%20and%20Profiling/" class="dropdown-item">PostgreSQL Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Programming/Database/PostgreSQL%20Manual/" class="dropdown-item">PostgreSQL Manual</a>
</li>
            
<li>
    <a href="../../Programming/Database/SQL%20Manual/" class="dropdown-item">SQL Manual</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Java</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Programming/Java/Debugging%20Java/" class="dropdown-item">Debugging Java</a>
</li>
            
<li>
    <a href="../../Programming/Java/Jackson/" class="dropdown-item">Jackson</a>
</li>
            
<li>
    <a href="../../Programming/Java/Java%20Manual/" class="dropdown-item">Java Manual</a>
</li>
            
<li>
    <a href="../../Programming/Java/Java%20Workflow/" class="dropdown-item">Java Workflow</a>
</li>
            
<li>
    <a href="../../Programming/Java/Maven/" class="dropdown-item">Maven</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Python</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Programming/Python/Matplotlib%20Manual/" class="dropdown-item">Matplotlib Manual</a>
</li>
            
<li>
    <a href="../../Programming/Python/Pandas%20Manual/" class="dropdown-item">Pandas Manual</a>
</li>
            
<li>
    <a href="../../Programming/Python/Plotly%20Manual/" class="dropdown-item">Plotly Manual</a>
</li>
            
<li>
    <a href="../../Programming/Python/Python%20Debugging%20and%20Profiling/" class="dropdown-item">Python Debugging and Profiling</a>
</li>
            
<li>
    <a href="../../Programming/Python/Python%20Manual/" class="dropdown-item">Python Manual</a>
</li>
            
<li>
    <a href="../../Programming/Python/Python%20Workflow/" class="dropdown-item">Python Workflow</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Web</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Programming/Web/CSS%20Manual/" class="dropdown-item">CSS Manual</a>
</li>
            
<li>
    <a href="../../Programming/Web/css/" class="dropdown-item">css</a>
</li>
            
<li>
    <a href="../../Programming/Web/Google%20API%20and%20Apps%20Script/" class="dropdown-item">Google API and Apps Script</a>
</li>
            
<li>
    <a href="../../Programming/Web/htaccess/" class="dropdown-item">htaccess</a>
</li>
            
<li>
    <a href="../../Programming/Web/JavaScript/" class="dropdown-item">JavaScript</a>
</li>
            
<li>
    <a href="../../Programming/Web/Jekyll/" class="dropdown-item">Jekyll</a>
</li>
            
<li>
    <a href="../../Programming/Web/mkdocs/" class="dropdown-item">mkdocs</a>
</li>
            
<li>
    <a href="../../Programming/Web/Selenium/" class="dropdown-item">Selenium</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../Programming/Common/" class="dropdown-item">Common</a>
</li>
                                    
<li>
    <a href="../../Programming/Conda%20and%20Mamba/" class="dropdown-item">Conda and Mamba</a>
</li>
                                    
<li>
    <a href="../../Programming/Git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../Programming/Gurobi/" class="dropdown-item">Gurobi</a>
</li>
                                    
<li>
    <a href="../../Programming/HDF/" class="dropdown-item">HDF</a>
</li>
                                    
<li>
    <a href="../../Programming/JSON/" class="dropdown-item">JSON</a>
</li>
                                    
<li>
    <a href="../../Programming/Native%20Libraries/" class="dropdown-item">Native Libraries</a>
</li>
                                    
<li>
    <a href="../../Programming/Neural%20Networks/" class="dropdown-item">Neural Networks</a>
</li>
                                    
<li>
    <a href="../../Programming/Perl/" class="dropdown-item">Perl</a>
</li>
                                    
<li>
    <a href="../../Programming/Regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../../Programming/Ruby%20Workflow/" class="dropdown-item">Ruby Workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">LaTeX</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../LaTeX/Bibliography/" class="dropdown-item">Bibliography</a>
</li>
                                    
<li>
    <a href="../../LaTeX/Latex%20manual/" class="dropdown-item">Latex manual</a>
</li>
                                    
<li>
    <a href="../../LaTeX/LaTeX%20workflow/" class="dropdown-item">LaTeX workflow</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Linux</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Bash Manual</a>
</li>
                                    
<li>
    <a href="../Fedora/" class="dropdown-item">Fedora</a>
</li>
                                    
<li>
    <a href="../Linux%20Manual/" class="dropdown-item">Linux Manual</a>
</li>
                                    
<li>
    <a href="../Ubuntu/" class="dropdown-item">Ubuntu</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Windows</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Windows/Comand%20shell/" class="dropdown-item">Comand shell</a>
</li>
                                    
<li>
    <a href="../../Windows/Excel%20Manual/" class="dropdown-item">Excel Manual</a>
</li>
                                    
<li>
    <a href="../../Windows/PowerPoint/" class="dropdown-item">PowerPoint</a>
</li>
                                    
<li>
    <a href="../../Windows/Powershell%20Manual/" class="dropdown-item">Powershell Manual</a>
</li>
                                    
<li>
    <a href="../../Windows/Windows%20Manual/" class="dropdown-item">Windows Manual</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">.cursor</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../.." class="dropdown-item">rules</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Audio & Video</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Audio%20%26%20Video/FFMpeg/" class="dropdown-item">FFMpeg</a>
</li>
                                    
<li>
    <a href="../../Audio%20%26%20Video/VLC/" class="dropdown-item">VLC</a>
</li>
                                    
<li>
    <a href="../../Audio%20%26%20Video/yt-dlp/" class="dropdown-item">yt-dlp</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">GIS</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../GIS/GIS%20formats/" class="dropdown-item">GIS formats</a>
</li>
                                    
<li>
    <a href="../../GIS/OpenStreetMap/" class="dropdown-item">OpenStreetMap</a>
</li>
                                    
<li>
    <a href="../../GIS/Overpass%20Manual/" class="dropdown-item">Overpass Manual</a>
</li>
                                    
<li>
    <a href="../../GIS/QGIS/" class="dropdown-item">QGIS</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Images</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Images/IrfanView/" class="dropdown-item">IrfanView</a>
</li>
                                    
<li>
    <a href="../../Images/Midjourney/" class="dropdown-item">Midjourney</a>
</li>
                                    
<li>
    <a href="../../Images/Photopea/" class="dropdown-item">Photopea</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../Android/" class="nav-link">Android</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Arxiv/" class="nav-link">Arxiv</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Google%20office%20apps/" class="nav-link">Google office apps</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Hardware%20Manual/" class="nav-link">Hardware Manual</a>
                            </li>
                            <li class="nav-item">
                                <a href="../.." class="nav-link">index</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Markdown/" class="nav-link">Markdown</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Network/" class="nav-link">Network</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Security/" class="nav-link">Security</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../vscode/" class="nav-link">vscode</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Web%20Tricks/" class="nav-link">Web Tricks</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../XML/" class="nav-link">XML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../YAML/" class="nav-link">YAML</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../Zotero/" class="nav-link">Zotero</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../LaTeX/LaTeX%20workflow/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Fedora/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#bash-manual" class="nav-link">Bash Manual</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#general-remarks" class="nav-link">General Remarks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#bash-modes-and-environment-initialization" class="nav-link">Bash modes and environment initialization</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#variables" class="nav-link">Variables</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#assigning-the-output-of-a-command-to-a-variable" class="nav-link">Assigning the output of a command to a variable</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#list-all-variables" class="nav-link">List all variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#operations-on-variables" class="nav-link">Operations on variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#executable-execution" class="nav-link">Executable execution</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#executing-binaries-while-skipping-the-shell-aliases" class="nav-link">Executing binaries while skipping the shell aliases</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#working-with-io" class="nav-link">Working with I/O</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#output-forwarding" class="nav-link">Output Forwarding</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#output-redirection" class="nav-link">Output Redirection</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#use-bash-variables-as-input" class="nav-link">Use bash variables as input</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#output-and-input-redirection-with-sudo" class="nav-link">Output and input redirection with sudo</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#command-substitution" class="nav-link">Command Substitution</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#conditions" class="nav-link">Conditions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#string-comparison" class="nav-link">String comparison</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#loops" class="nav-link">Loops</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#forward-to-loop" class="nav-link">Forward to loop</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#strings-literals" class="nav-link">Strings literals</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#multiline-string-literals" class="nav-link">Multiline string literals</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#functions" class="nav-link">Functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#reading-from-command-line" class="nav-link">Reading from command line</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#bash-scripts" class="nav-link">Bash Scripts</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#bash-script-arguments" class="nav-link">Bash Script Arguments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#bash-script-header-content" class="nav-link">Bash Script Header Content</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#calling-a-script-from-another-script-in-the-same-directory" class="nav-link">Calling a script from another script in the same directory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="bash-manual">Bash Manual<a class="headerlink" href="#bash-manual" title="Permanent link">&para;</a></h1>
<p><a href="https://www.gnu.org/software/bash/manual/bash.html">documentation</a></p>
<p><a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">wiki</a></p>
<p>Bash can refer to a typical Unix shell, or just the command line interpreter for this shell or to the language used to write shell commands and scripts.</p>
<p>In bash, <strong>commands can be separated</strong> by</p>
<ul>
<li>a newline, or</li>
<li>a semicolon.</li>
</ul>
<p>Therefore, we can write even complicated commands to a single line in the terminal.</p>
<h1 id="general-remarks">General Remarks<a class="headerlink" href="#general-remarks" title="Permanent link">&para;</a></h1>
<ul>
<li>It's important to use Linux newlines, otherwise, bash scripts will fail with unexpected character error</li>
<li>Empty constructs are not allowed, i.e, empty function or loop results in an error</li>
<li>brackets needs spaces around them, otherwise, there will be a syntax error</li>
<li>space around <code>=</code>, which is typical in other languages, is not allowed in bash </li>
<li>bash does not support any data structures, only arrays</li>
</ul>
<h1 id="bash-modes-and-environment-initialization">Bash modes and environment initialization<a class="headerlink" href="#bash-modes-and-environment-initialization" title="Permanent link">&para;</a></h1>
<p>Bash can run in several modes. These modes have some effect, but mainly, it affects the initialization of the environment, i.e., which files are executed at the start of the shell. The modes are:</p>
<ul>
<li><strong>login shell</strong>: mode is used when the user logs in. <ul>
<li>also used when the shell is run with the <code>-l</code>, <code>--login</code> parameter</li>
</ul>
</li>
<li><strong>interactive shell</strong>: mode is used when the user interacts with the shell.<ul>
<li>also used when the shell is run with the <code>-i</code> parameter</li>
</ul>
</li>
<li><strong>non-interactive shell</strong>: mode is used when the shell is run in a script.<ul>
<li>this shell mode is used when we run commands over ssh or wsl</li>
</ul>
</li>
</ul>
<p>The execution of the initialization files is displayed in the image below:</p>
<p><img alt="Bash initialization files" src="../Bash%20environment%20loading.png" /></p>
<p>Note that the initialized environment persists in the system. In other words, the environment variables set in the files processed by the login shell are available even in the non-interactive non-login shells opened later on. However, there are still cases when the environment variables are not available because the login shell has not been run, e.g.:</p>
<ul>
<li>when the shell is run over ssh as a command: <code>ssh user@host &lt;command&gt;</code></li>
<li>when the shell is run from wsl as a command: <code>wsl &lt;command&gt;</code></li>
</ul>
<p>In those cases, if we need the environment variables, we have to run the login or interactive shell explicitly, e.g.: <code>wsl bash -lc &lt;command&gt;</code>.</p>
<h1 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h1>
<p>Variables can be defined as:</p>
<pre><code class="language-bash">var=value
</code></pre>
<p>Note that <strong>there must not be any spaces around <code>=</code></strong>. </p>
<p>We can also declare variables with a specific type, so that no other type can be assigned to it using the <code>declare</code> command:</p>
<pre><code class="language-bash">declare -i var # integer
declare -a var # array
declare -r var # read only
</code></pre>
<p>To access the value of a variable, we use <code>$</code>:</p>
<pre><code class="language-bash">echo $var
</code></pre>
<h2 id="assigning-the-output-of-a-command-to-a-variable">Assigning the output of a command to a variable<a class="headerlink" href="#assigning-the-output-of-a-command-to-a-variable" title="Permanent link">&para;</a></h2>
<p>The output of a command can be assigned to a variable only with the <a href="#command-substitution">command substitution</a>:</p>
<pre><code class="language-bash">var=&lt;command&gt; # wrong, the first token of the command is assigned to the variable

var=$(&lt;command&gt;) # correct, the output of the command is assigned to the variable
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">var=$(echo $var | sed 's/old/new/')
</code></pre>
<h2 id="list-all-variables">List all variables<a class="headerlink" href="#list-all-variables" title="Permanent link">&para;</a></h2>
<p>To list all variables, we can use the declare command:</p>
<pre><code class="language-bash">declare
</code></pre>
<p>However, this command also lists the functions. To list only the variables, we can use:</p>
<pre><code class="language-bash">declare -p
</code></pre>
<p>which also prints the type and attributes of the variables.</p>
<h2 id="operations-on-variables">Operations on variables<a class="headerlink" href="#operations-on-variables" title="Permanent link">&para;</a></h2>
<p>There are many operations on variables, the most important are:</p>
<ul>
<li><code>${#&lt;variable&gt;}</code>: length of the variable</li>
<li><code>${&lt;variable&gt;%%&lt;pattern&gt;}</code>: remove the longest suffix matching the pattern</li>
<li><code>${&lt;variable&gt;##&lt;pattern&gt;}</code>: remove the longest prefix matching the pattern</li>
</ul>
<h1 id="executable-execution">Executable execution<a class="headerlink" href="#executable-execution" title="Permanent link">&para;</a></h1>
<h2 id="executing-binaries-while-skipping-the-shell-aliases">Executing binaries while skipping the shell aliases<a class="headerlink" href="#executing-binaries-while-skipping-the-shell-aliases" title="Permanent link">&para;</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Command_(Unix)">wiki</a></p>
<p>We can do this by using the <a href="https://manned.org/man/command"><code>command</code></a> command: <code>command &lt;executable&gt; &lt;arguments&gt;</code>.
This command will execute the executable directly, without any shell aliases.</p>
<h1 id="working-with-io">Working with I/O<a class="headerlink" href="#working-with-io" title="Permanent link">&para;</a></h1>
<h2 id="output-forwarding">Output Forwarding<a class="headerlink" href="#output-forwarding" title="Permanent link">&para;</a></h2>
<p>Output forwarding is a process of redirecting the output of a command to an input of another command. The operator for that is the pipe <code>|</code>. The syntax is:</p>
<pre><code class="language-bash">&lt;command 1&gt; | &lt;command 2&gt;
</code></pre>
<p>Note that the content of the pipe cannot be examined, the process on the right hand side consume it. Therefore, <strong>it is not possible to simply branch on pipe content</strong> while use it in the subsequent process.</p>
<h2 id="output-redirection">Output Redirection<a class="headerlink" href="#output-redirection" title="Permanent link">&para;</a></h2>
<p>Output redirection is a process of redirecting the output (stdout, stderr,..) from the console to a file. The syntax is:</p>
<pre><code class="language-bash">&lt;command&gt; &lt;operator&gt; &lt;file&gt;
</code></pre>
<p>The possible operators and their effects are listed in the table (full explanation on <a href="https://askubuntu.com/a/731237/603617">SO</a>) below:</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Stdout</th>
<th>Stderr</th>
<th>Mode (in file)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&gt;</code></td>
<td>file</td>
<td>console</td>
<td>overwrite</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>file</td>
<td>console</td>
<td>append</td>
</tr>
<tr>
<td><code>&amp;&gt;</code></td>
<td>file</td>
<td>file</td>
<td>overwrite</td>
</tr>
<tr>
<td><code>&amp;&gt;&gt;</code></td>
<td>file</td>
<td>file</td>
<td>append</td>
</tr>
<tr>
<td><code>2&gt;</code></td>
<td>console</td>
<td>file</td>
<td>overwrite</td>
</tr>
<tr>
<td><code>2&gt;&gt;</code></td>
<td>console</td>
<td>file</td>
<td>append</td>
</tr>
<tr>
<td><code>\| tee</code></td>
<td>both</td>
<td>console</td>
<td>overwrite</td>
</tr>
<tr>
<td><code>\| tee -a</code></td>
<td>both</td>
<td>console</td>
<td>append</td>
</tr>
<tr>
<td><code>\|&amp; tee</code></td>
<td>both</td>
<td>both</td>
<td>overwrite</td>
</tr>
<tr>
<td><code>\|&amp; tee -a</code></td>
<td>both</td>
<td>both</td>
<td>append</td>
</tr>
</tbody>
</table>
<p><code>tee</code> is actully a command, not an operator. It is used as follows:</p>
<pre><code class="language-bash">&lt;command&gt; | tee &lt;file&gt;
</code></pre>
<p>We can also use <code>tee</code> to forward the output of a command to multiple commands:</p>
<pre><code class="language-bash">&lt;command 1&gt; | tee &gt;(&lt;command 2&gt;) | &lt;command 3&gt;
</code></pre>
<p>This forward <code>&lt;command 1&gt;</code> to both <code>&lt;command 2&gt;</code> and <code>&lt;command 3&gt;</code>.</p>
<h2 id="use-bash-variables-as-input">Use bash variables as input<a class="headerlink" href="#use-bash-variables-as-input" title="Permanent link">&para;</a></h2>
<p>Bash variables can be used as input of a command. Syntax:</p>
<pre><code class="language-bash">&lt;command&gt; &lt;&lt;&lt; $&lt;variable&gt;` 
</code></pre>
<h2 id="output-and-input-redirection-with-sudo">Output and input redirection with <code>sudo</code><a class="headerlink" href="#output-and-input-redirection-with-sudo" title="Permanent link">&para;</a></h2>
<p>We need to consider that the <code>sudo</code> command is not applied to the redirected input or output. Example:</p>
<pre><code class="language-bash">sudo &lt;command&gt; &gt; &lt;file&gt;
</code></pre>
<p>In the above command, the <code>sudo</code> command is applied to the <code>&lt;command&gt;</code>, but not to the file writing, which is a bash construct. Therefore, the command will fail if the file writing requires root access. The same goes for the input redirection if we need root access for reading a file.</p>
<p>The solution is to use <code>tee</code>:</p>
<pre><code class="language-bash">sudo &lt;command&gt; | tee &lt;file&gt;
</code></pre>
<h1 id="command-substitution">Command Substitution<a class="headerlink" href="#command-substitution" title="Permanent link">&para;</a></h1>
<p>When we need to use an output of a command instead of a constant or variable, we have to use command substtution:</p>
<pre><code class="language-bash">`&lt;command&gt;`
# or equivalently
$(&lt;command&gt;)
</code></pre>
<p>e.g.:</p>
<pre><code class="language-bash">echo resut is: `cut -d, -f 7`
# or equivalently
echo resut is: $(cut -d, -f 7)
</code></pre>
<h1 id="conditions">Conditions<a class="headerlink" href="#conditions" title="Permanent link">&para;</a></h1>
<p>In general, condition in bash has the following syntax:</p>
<pre><code class="language-bash">if &lt;condition&gt; 
    then &lt;command&gt;
    else &lt;command&gt;
fi
</code></pre>
<p>The condition can have several formats:</p>
<ul>
<li>
<p><strong>plain command</strong>: the condition is true if the command returns 0
    <code>bash
    if grep -q "$text" $file 
        then ...
    fi</code></p>
</li>
<li>
<p><strong><code>[ &lt;condition&gt; ] or test &lt;condition&gt;</code></strong>: The standard POSIX test construct. Now only suitable if we want to run the script outside bash.
    <code>bash
    if [ $var = 1 ]
    then ...
    fi</code></p>
</li>
<li>
<p><strong><code>[[ &lt;condition&gt; ]]</code></strong>: The extended test construct. This is the recommended way of writing conditions, due to <a href="https://stackoverflow.com/questions/3427872/whats-the-difference-between-and-in-bash">several practical features</a> (e.g., no need to quote variables, regex support, logical operators, etc.).
    <code>bash
    if [[ $var = 1 ]]
    then ...
    fi</code></p>
</li>
<li>
<p><strong><code>(( &lt;condition&gt; ))</code></strong>: The arithmetic test construct. This is used for arithmetic conditions.
    <code>bash
    if (( $var == 1 ))
    then ...
    fi</code></p>
</li>
</ul>
<p>Note that if we want to use some arbitrary value (e. g. the <em>return value</em> of a command), or comparisons in the condition (similar to programming languages), we have to use one of the test constructs. </p>
<p><strong>Mind the spaces around the braces!</strong></p>
<h2 id="string-comparison">String comparison<a class="headerlink" href="#string-comparison" title="Permanent link">&para;</a></h2>
<p>Strings can be compared using the standard <code>=</code> operator or the <code>==</code> operator. </p>
<p>If we use the <code>[ ]</code> construct, we have to quote the variables, otherwise, the script will fail on empty strings or strings containing spaces:</p>
<pre><code class="language-bash">if [ &quot;$var&quot; = &quot;string&quot; ]
then ...
fi

# or equivalently
if [[ $var = &quot;string&quot; ]]
then ...
fi
</code></pre>
<h1 id="loops">Loops<a class="headerlink" href="#loops" title="Permanent link">&para;</a></h1>
<p>The syntax of the loop is:</p>
<pre><code class="language-bash">while &lt;condition&gt;
do
   &lt;command1&gt;
   &lt;command2&gt;
   ...
done
</code></pre>
<h2 id="forward-to-loop">Forward to loop<a class="headerlink" href="#forward-to-loop" title="Permanent link">&para;</a></h2>
<p>We can forward an input into while loop using <code>|</code> as usuall. Additionally, it is possible to read from file directly by adding <code>&lt;</code> to the end like this:</p>
<pre><code class="language-bash">while condition
do
   &lt;command1&gt;
   &lt;command2&gt;
   ...
done &lt; &lt;input&gt;
</code></pre>
<p>The same goes for the output, i.e., we can forward th outut of a loop with <code>|</code>.</p>
<h1 id="strings-literals">Strings literals<a class="headerlink" href="#strings-literals" title="Permanent link">&para;</a></h1>
<p>String literals can be easily defined as:</p>
<pre><code class="language-bash">str=&quot;string literal&quot;
# or equivalently
str='string literal'
</code></pre>
<p>If we use double quotes, the variables are expanded, e.g., <code>echo "Hello $USER"</code> will print <code>Hello &lt;username&gt;</code>.</p>
<p>The problem arises when we want to use double quotes in the string literal containing variables, e.g., <code>normal string "quotted string" $myvar</code>. In this case, we have to use quite cumbersome syntax:</p>
<pre><code class="language-bash">a = &quot;normal string &quot;\&quot;&quot;quotted string&quot;\&quot;&quot;
# or equivalently
a = &quot;normal string &quot;'&quot;'&quot;quotted string&quot;'&quot;'
</code></pre>
<h2 id="multiline-string-literals">Multiline string literals<a class="headerlink" href="#multiline-string-literals" title="Permanent link">&para;</a></h2>
<p>There is no dedicated syntax for multiline string literals. However, we can use the <a href="https://en.wikipedia.org/wiki/Here_document">here document (HEREDOC)</a> syntax:</p>
<pre><code class="language-bash">&lt;target&gt; &lt;&lt; &lt;delimiter&gt; &lt;content&gt; 
&lt;delimiter&gt;
</code></pre>
<p>For example, to store the command in a variable, we can use:</p>
<pre><code class="language-bash">db_sql = $(cat &lt;&lt; SQL
CREATE DATABASE test_$name OWNER $name;
grant all privileges on database test_$name to $name;
SQL)
</code></pre>
<p>Note that the end <code>&lt;delimiter&gt;</code> must be at the beginning of the line, otherwise, it will not work.</p>
<h1 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h1>
<p>Functions are defined as:</p>
<pre><code class="language-bash">function_name() {
    &lt;command 1&gt;
    &lt;command 2&gt;
    ...
}
</code></pre>
<p>For access the arguments of the function, we use the same syntax as for the script arguments (e.g., <code>$1</code> for the first argument).</p>
<p>We can create local variables in the function using the <code>local</code> keyword:</p>
<pre><code class="language-bash">function_name() {
    local var1=&quot;value&quot;
    ...
}
</code></pre>
<h1 id="reading-from-command-line">Reading from command line<a class="headerlink" href="#reading-from-command-line" title="Permanent link">&para;</a></h1>
<p>To read from command line, we can use the <code>read</code> command. The syntax is:</p>
<pre><code class="language-bash">read &lt;variable&gt;
</code></pre>
<p>where <code>&lt;variable&gt;</code> is the name of the variable to store the input. Important parameters:</p>
<ul>
<li><code>-p &lt;prompt&gt;</code>: prints the <code>&lt;prompt&gt;</code> before reading the input</li>
<li><code>-s</code>: do not echo the input (usefull for passwords)</li>
</ul>
<h1 id="bash-scripts">Bash Scripts<a class="headerlink" href="#bash-scripts" title="Permanent link">&para;</a></h1>
<h2 id="bash-script-arguments">Bash Script Arguments<a class="headerlink" href="#bash-script-arguments" title="Permanent link">&para;</a></h2>
<p>We refer the arguments of a bash script as</p>
<ul>
<li><code>$0</code> - the name of the script</li>
<li><code>$1..$n</code> - the arguments of the script</li>
<li><code>$@</code> - all the arguments of the script</li>
</ul>
<p>Sometimes, it is useful to throw away processed arguments. This can be done using the <code>shift</code> command <code>shift &lt;n&gt;</code>, where <code>&lt;n&gt;</code> is the number of arguments to be thrown away (default is 1). The remaining arguments are then shifted to the left, i.e., <code>$2</code> becomes <code>$1</code> and so on.</p>
<h2 id="bash-script-header-content">Bash Script Header Content<a class="headerlink" href="#bash-script-header-content" title="Permanent link">&para;</a></h2>
<p>Usually, here are some special lines at the beginning of the bash script.</p>
<p>First, we can specify the interpreter to be used:</p>
<pre><code class="language-bash">#!/bin/bash
</code></pre>
<p>Then we can set some flags for the script</p>
<pre><code class="language-bash">set -&lt;flags&gt;
</code></pre>
<p>Useful flags are:</p>
<ul>
<li><code>e</code>: exit on error</li>
<li><code>u</code>: error raised on undefined variables</li>
<li><code>o</code>: any command that returns a non-zero exit code will raise an error even when piped to another command</li>
</ul>
<p><a href="https://gist.github.com/mohanpedala/1e2ff5661761d3abd0385e8223e16425?permalink_comment_id=3939684">detailed description gist</a></p>
<h2 id="calling-a-script-from-another-script-in-the-same-directory">Calling a script from another script in the same directory<a class="headerlink" href="#calling-a-script-from-another-script-in-the-same-directory" title="Permanent link">&para;</a></h2>
<p>To call a script <em>b</em> from script <em>a</em> in the same directory, it is not wise to use the relative path, it is evaluated from the current directory, not from the directory of the script. To be sure that we can call script <em>a</em> from anywhere, we need to change the working directory to the directory of the scripts first:</p>
<pre><code class="language-bash">cd &quot;$(dirname &quot;$0&quot;)&quot;
./B.sh
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
